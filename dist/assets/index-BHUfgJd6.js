import{r as t,j as e,V as oa,c as ma,d as ha,C as xa,X as be,T as ua,D as pa,P as gt,e as ga,f as jt,U as bt,L as ja,E as ft,g as je,S as yt,h as ba,i as Nt,k as fa,l as vt,m as ya,I as Na,n as va,o as Ca,p as us,q as Pa,s as Ct,t as Ta,u as Aa,v as Pt,w as Tt,x as wa,B as At,y as cs,z as Es,F as wt,G as Ss,H as zs,J as We,K as os,M as Pe,N as fs,O as Ne,Q as Ds,W as Ys,Y as Ws,Z as St,_ as Sa,$ as Da,a0 as Dt,a1 as $s,a2 as Ra,a3 as Rt,a4 as ka,a5 as kt,a6 as Ma,a7 as Mt,a8 as La,a9 as Ia,aa as Lt,ab as It,ac as Ea,ad as Et,ae as Ot,af as ys,ag as Os,ah as Oa,ai as Ft,aj as Fa,ak as Ga,al as Gt,am as Va,an as Ba,ao as Ua,ap as _a,aq as Vt,ar as Bt,as as Ze,at as za,au as Se,av as Fe,aw as Ut,ax as _t,ay as Wa,az as $a,aA as Ha,aB as zt,aC as Ts,aD as Wt,aE as $t,aF as Ht,aG as Yt,aH as Ya,aI as As,aJ as qt,aK as qa,aL as Xe,aM as ls,aN as Le,aO as Kt,aP as Ka,aQ as Jt,aR as Ja,aS as Za,aT as Xa,aU as Zt,aV as Xt,aW as Qt,aX as en,aY as Fs,aZ as qs,a_ as sn,a$ as an,b0 as tn,b1 as ne,b2 as ke,b3 as nn}from"./vendor-react-ChFHlnXm.js";import{H as rn,I as ln,J as ws,K as dn,$ as cn,L as he,M as Ge,N as Qa,O as on,Q as mn,R as hn,T as xn,S as et,U as ms,X as hs,Y as xs,V as is,W as st,Z as at,a0 as tt,a1 as nt,a2 as Gs,a3 as un,a4 as Rs,a5 as pn}from"./vendor-CRMhDuse.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const x of l)if(x.type==="childList")for(const o of x.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(l){const x={};return l.integrity&&(x.integrity=l.integrity),l.referrerPolicy&&(x.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?x.credentials="include":l.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function r(l){if(l.ep)return;l.ep=!0;const x=a(l);fetch(l.href,x)}})();const gn=1,jn=1e6;let ks=0;function bn(){return ks=(ks+1)%Number.MAX_SAFE_INTEGER,ks.toString()}const Ms=new Map,Ks=s=>{if(Ms.has(s))return;const n=setTimeout(()=>{Ms.delete(s),ds({type:"REMOVE_TOAST",toastId:s})},jn);Ms.set(s,n)},fn=(s,n)=>{switch(n.type){case"ADD_TOAST":return{...s,toasts:[n.toast,...s.toasts].slice(0,gn)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(a=>a.id===n.toast.id?{...a,...n.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=n;return a?Ks(a):s.toasts.forEach(r=>{Ks(r.id)}),{...s,toasts:s.toasts.map(r=>r.id===a||a===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return n.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(a=>a.id!==n.toastId)}}},Ns=[];let vs={toasts:[]};function ds(s){vs=fn(vs,s),Ns.forEach(n=>{n(vs)})}function yn({...s}){const n=bn(),a=l=>ds({type:"UPDATE_TOAST",toast:{...l,id:n}}),r=()=>ds({type:"DISMISS_TOAST",toastId:n});return ds({type:"ADD_TOAST",toast:{...s,id:n,open:!0,onOpenChange:l=>{l||r()}}}),{id:n,dismiss:r,update:a}}function Be(){const[s,n]=t.useState(vs);return t.useEffect(()=>(Ns.push(n),()=>{const a=Ns.indexOf(n);a>-1&&Ns.splice(a,1)}),[s]),{...s,toast:yn,dismiss:a=>ds({type:"DISMISS_TOAST",toastId:a})}}function H(...s){return rn(ln(s))}const Nn=gt,rt=t.forwardRef(({className:s,...n},a)=>e.jsx(oa,{ref:a,className:H("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...n}));rt.displayName=oa.displayName;const vn=ws("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lt=t.forwardRef(({className:s,variant:n,...a},r)=>e.jsx(ma,{ref:r,className:H(vn({variant:n}),s),...a}));lt.displayName=ma.displayName;const Cn=t.forwardRef(({className:s,...n},a)=>e.jsx(ha,{ref:a,className:H("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...n}));Cn.displayName=ha.displayName;const it=t.forwardRef(({className:s,...n},a)=>e.jsx(xa,{ref:a,className:H("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...n,children:e.jsx(be,{className:"h-4 w-4"})}));it.displayName=xa.displayName;const dt=t.forwardRef(({className:s,...n},a)=>e.jsx(ua,{ref:a,className:H("text-sm font-semibold",s),...n}));dt.displayName=ua.displayName;const ct=t.forwardRef(({className:s,...n},a)=>e.jsx(pa,{ref:a,className:H("text-sm opacity-90",s),...n}));ct.displayName=pa.displayName;function Pn(){const{toasts:s}=Be();return e.jsxs(Nn,{children:[s.map(function({id:n,title:a,description:r,action:l,...x}){return e.jsxs(lt,{...x,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(dt,{children:a}),r&&e.jsx(ct,{children:r})]}),l,e.jsx(it,{})]},n)}),e.jsx(rt,{})]})}const Tn=({...s})=>{const{theme:n="system"}=dn();return e.jsx(cn,{theme:n,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s})},An=jt,wn=t.forwardRef(({className:s,sideOffset:n=4,...a},r)=>e.jsx(ga,{ref:r,sideOffset:n,className:H("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a}));wn.displayName=ga.displayName;const ot=t.createContext({user:null,isLoading:!0,login:()=>{},logout:()=>{}}),Ue=()=>t.useContext(ot),Sn=({children:s})=>{const[n,a]=t.useState(null),[r,l]=t.useState(!0);t.useEffect(()=>{const m=localStorage.getItem("token"),i=localStorage.getItem("user");if(m&&i){const u=JSON.parse(i);a({...u,token:m})}l(!1)},[]),t.useEffect(()=>{const m=he.interceptors.request.use(i=>{const u=localStorage.getItem("token");return u&&(i.headers=i.headers||{},i.headers.Authorization=`Bearer ${u}`),i},i=>Promise.reject(i));return()=>{he.interceptors.request.eject(m)}},[]);const x=m=>{a(m),localStorage.setItem("token",m.token),localStorage.setItem("user",JSON.stringify(m))},o=()=>{a(null),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"};return e.jsx(ot.Provider,{value:{user:n,isLoading:r,login:x,logout:o},children:s})},Js=({onSuccess:s})=>{const{login:n}=Ue(),[a,r]=t.useState({username:"",password:""}),[l,x]=t.useState(!1),[o,m]=t.useState(""),[i,u]=t.useState(!1),j=async A=>{var S,R;A.preventDefault(),m(""),u(!0);try{const f=await he.post("http://13.232.90.40:8080/api/auth/login",{username:a.username.trim(),password:a.password});if(f.data&&f.data.token){const V={token:f.data.token,mobile:f.data.mobile,agencyCode:f.data.agencyCode,role:f.data.role,designation:f.data.designation,username:a.username.trim()};n(V),s()}else m("Invalid response from server.")}catch(D){m(((R=(S=D.response)==null?void 0:S.data)==null?void 0:R.message)||"Invalid username or password. Please try again.")}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100",children:e.jsxs("form",{onSubmit:j,className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md animate-fade-in",autoComplete:"off",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("div",{className:"mx-auto w-14 h-14 flex items-center justify-center bg-primary rounded-full shadow",children:e.jsx("span",{className:"font-bold text-2xl text-white",children:"FMS"})}),e.jsx("h2",{className:"mt-4 text-2xl font-extrabold text-gray-800",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Please sign in to your account"})]}),o&&e.jsx("div",{className:"mb-4 text-red-600 bg-red-50 border border-red-200 rounded p-2 text-sm text-center font-medium",children:o}),e.jsxs("div",{className:"mb-5 relative",children:[e.jsx("label",{className:"block mb-1 font-semibold text-gray-700",children:"Username"}),e.jsxs("div",{className:"flex items-center bg-gray-50 rounded px-3 border focus-within:ring-2 focus-within:ring-primary",children:[e.jsx(bt,{className:"text-gray-400 mr-2",size:18}),e.jsx("input",{type:"text",className:"bg-transparent flex-1 py-2 outline-none",placeholder:"Enter your username",value:a.username,onChange:A=>r({...a,username:A.target.value}),autoFocus:!0,required:!0})]})]}),e.jsxs("div",{className:"mb-7 relative",children:[e.jsx("label",{className:"block mb-1 font-semibold text-gray-700",children:"Password"}),e.jsxs("div",{className:"flex items-center bg-gray-50 rounded px-3 border focus-within:ring-2 focus-within:ring-primary",children:[e.jsx(ja,{className:"text-gray-400 mr-2",size:18}),e.jsx("input",{type:l?"text":"password",className:"bg-transparent flex-1 py-2 outline-none",placeholder:"Enter your password",value:a.password,onChange:A=>r({...a,password:A.target.value}),required:!0}),e.jsx("button",{type:"button",tabIndex:-1,onClick:()=>x(A=>!A),className:"text-gray-400 hover:text-primary transition ml-1","aria-label":l?"Hide password":"Show password",children:l?e.jsx(ft,{size:18}):e.jsx(je,{size:18})})]})]}),e.jsx("button",{type:"submit",className:"w-full py-2 bg-primary hover:bg-primary/90 text-white rounded-xl font-semibold text-lg shadow-md transition",disabled:i,children:i?"Logging in...":"Login"}),e.jsxs("div",{className:"mt-6 text-center text-xs text-gray-400",children:["Â© ",new Date().getFullYear()," FMS. All rights reserved."]})]})})},Dn=ws("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),L=t.forwardRef(({className:s,variant:n,size:a,asChild:r=!1,...l},x)=>{const o=r?yt:"button";return e.jsx(o,{className:H(Dn({variant:n,size:a,className:s})),ref:x,...l})});L.displayName="Button";const Zs=Pt,Xs=Tt,Rn=t.forwardRef(({className:s,inset:n,children:a,...r},l)=>e.jsxs(ba,{ref:l,className:H("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",n&&"pl-8",s),...r,children:[a,e.jsx(Nt,{className:"ml-auto h-4 w-4"})]}));Rn.displayName=ba.displayName;const kn=t.forwardRef(({className:s,...n},a)=>e.jsx(fa,{ref:a,className:H("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n}));kn.displayName=fa.displayName;const Vs=t.forwardRef(({className:s,sideOffset:n=4,...a},r)=>e.jsx(vt,{children:e.jsx(ya,{ref:r,sideOffset:n,className:H("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a})}));Vs.displayName=ya.displayName;const ns=t.forwardRef(({className:s,inset:n,...a},r)=>e.jsx(Na,{ref:r,className:H("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",s),...a}));ns.displayName=Na.displayName;const Mn=t.forwardRef(({className:s,children:n,checked:a,...r},l)=>e.jsxs(va,{ref:l,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:a,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ca,{children:e.jsx(us,{className:"h-4 w-4"})})}),n]}));Mn.displayName=va.displayName;const Ln=t.forwardRef(({className:s,children:n,...a},r)=>e.jsxs(Pa,{ref:r,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ca,{children:e.jsx(Ct,{className:"h-2 w-2 fill-current"})})}),n]}));Ln.displayName=Pa.displayName;const Bs=t.forwardRef(({className:s,inset:n,...a},r)=>e.jsx(Ta,{ref:r,className:H("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",s),...a}));Bs.displayName=Ta.displayName;const Cs=t.forwardRef(({className:s,...n},a)=>e.jsx(Aa,{ref:a,className:H("-mx-1 my-1 h-px bg-muted",s),...n}));Cs.displayName=Aa.displayName;const In=ws("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function le({className:s,variant:n,...a}){return e.jsx("div",{className:H(In({variant:n}),s),...a})}const En=()=>{const s=wa(),{user:n,logout:a}=Ue(),[r]=t.useState([{id:1,message:"New fund allocation approved",type:"success"},{id:2,message:"Vendor verification pending",type:"warning"},{id:3,message:"Project deadline approaching",type:"info"}]),l=()=>{a(),s("/login",{replace:!0})};return e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 h-16 fixed top-0 left-64 right-0 z-40",children:e.jsxs("div",{className:"flex items-center justify-between h-full px-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Fund Management System"}),e.jsxs(le,{variant:"secondary",className:"bg-primary/10 text-primary",children:[n==null?void 0:n.role," Portal"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Zs,{children:[e.jsx(Xs,{asChild:!0,children:e.jsxs(L,{variant:"ghost",size:"sm",className:"relative",children:[e.jsx(At,{className:"h-5 w-5"}),r.length>0&&e.jsx(le,{className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center bg-red-500 text-white text-xs",children:r.length})]})}),e.jsxs(Vs,{align:"end",className:"w-80",children:[e.jsx(Bs,{children:"Notifications"}),e.jsx(Cs,{}),r.map(x=>e.jsx(ns,{className:"p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${x.type==="success"?"bg-green-500":x.type==="warning"?"bg-yellow-500":"bg-blue-500"}`}),e.jsx("span",{className:"text-sm",children:x.message})]})},x.id))]})]}),e.jsxs(Zs,{children:[e.jsx(Xs,{asChild:!0,children:e.jsxs(L,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:e.jsx(cs,{className:"h-4 w-4 text-white"})}),e.jsx("span",{className:"font-medium",children:n==null?void 0:n.name})]})}),e.jsxs(Vs,{align:"end",children:[e.jsx(Bs,{children:"My Account"}),e.jsx(Cs,{}),e.jsxs(ns,{children:[e.jsx(cs,{className:"mr-2 h-4 w-4"}),"Profile"]}),e.jsxs(ns,{children:[e.jsx(Es,{className:"mr-2 h-4 w-4"}),"Settings"]}),e.jsx(Cs,{}),e.jsxs(ns,{onClick:l,className:"text-red-600",children:[e.jsx(wt,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})})},Qs={STATE_ADMIN:[{path:"/dashboard",icon:Ss,label:"Dashboard"},{path:"/district-allocation",icon:Ds,label:"District Budget Allocation"},{path:"/fund-demands",icon:We,label:"View District Fund Demands"},{path:"/mla-fund-demands",icon:Ds,label:"View Mla Fund Demands"},{path:"/scheme-master",icon:Pe,label:"Scheme Master"},{path:"/district-management",icon:Ws,label:"District Master"},{path:"/fund-history",icon:Ys,label:"Vouchers"},{path:"/reports",icon:fs,label:"Reports"}],DISTRICT_ADMIN:[{path:"/district-dashboard",icon:Ss,label:"Dashboard"},{path:"/view-demands",icon:Ne,label:"View IA Demands"},{path:"/fund-allocation",icon:Ds,label:"Budget Sanctioned to Schemes"},{path:"/ia-master",icon:We,label:"IA Master"},{path:"/work-master",icon:Pe,label:"Scheme-Work Master"},{path:"/reappropriation",icon:Ys,label:"Re-appropriation"},{path:"/reports",icon:fs,label:"Reports"}],IA_ADMIN:[{path:"/iadashboard",icon:Ss,label:"Dashboard"},{path:"/fund-demand",icon:zs,label:"Fund Demand"},{path:"/vendor-master",icon:We,label:"Vendor Master"},{path:"/work-vendor",icon:os,label:"Work Vendor Mapping"},{path:"/tax-master",icon:Pe,label:"Tax/Deduction Master"},{path:"/reports",icon:fs,label:"Reports"}]},On=()=>{const{user:s}=Ue(),n=(s==null?void 0:s.role)||"IA_ADMIN",a=Qs[n]||Qs.IA_ADMIN;return e.jsxs("aside",{className:"bg-white shadow-lg h-full w-64 fixed left-0 top-0 z-50 border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"MH"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-gray-900 text-lg",children:"FMS"}),e.jsxs("p",{className:"text-xs text-gray-600",children:[n.replace("_"," ")," Portal"]})]})]})}),e.jsx("nav",{className:"flex-1 mt-6 px-4",children:e.jsx("ul",{className:"space-y-2",children:a.map(r=>e.jsx("li",{children:e.jsxs(St,{to:r.path,className:({isActive:l})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors duration-200 ${l?"bg-primary text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-primary"}`,children:[e.jsx(r.icon,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:r.label})]})},r.path))})}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.name}),e.jsx("p",{className:"text-xs text-gray-600",children:(s==null?void 0:s.department)||""}),e.jsx("p",{className:"text-xs text-gray-500",children:(s==null?void 0:s.district)||""})]})})]})},Fn=({children:s})=>e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(On,{}),e.jsx(En,{}),e.jsx("main",{className:"ml-64 pt-16",children:e.jsx("div",{className:"p-6",children:s})})]}),I=t.forwardRef(({className:s,...n},a)=>e.jsx("div",{ref:a,className:H("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n}));I.displayName="Card";const G=t.forwardRef(({className:s,...n},a)=>e.jsx("div",{ref:a,className:H("flex flex-col space-y-1.5 p-6",s),...n}));G.displayName="CardHeader";const F=t.forwardRef(({className:s,...n},a)=>e.jsx("h3",{ref:a,className:H("text-2xl font-semibold leading-none tracking-tight",s),...n}));F.displayName="CardTitle";const te=t.forwardRef(({className:s,...n},a)=>e.jsx("p",{ref:a,className:H("text-sm text-muted-foreground",s),...n}));te.displayName="CardDescription";const E=t.forwardRef(({className:s,...n},a)=>e.jsx("div",{ref:a,className:H("p-6 pt-0",s),...n}));E.displayName="CardContent";const Gn=t.forwardRef(({className:s,...n},a)=>e.jsx("div",{ref:a,className:H("flex items-center p-6 pt-0",s),...n}));Gn.displayName="CardFooter";const Vn=ws("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),M=t.forwardRef(({className:s,...n},a)=>e.jsx(Sa,{ref:a,className:H(Vn(),s),...n}));M.displayName=Sa.displayName;const X=Et,Q=Ot,K=t.forwardRef(({className:s,children:n,...a},r)=>e.jsxs(Da,{ref:r,className:H("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[n,e.jsx(Dt,{asChild:!0,children:e.jsx($s,{className:"h-4 w-4 opacity-50"})})]}));K.displayName=Da.displayName;const mt=t.forwardRef(({className:s,...n},a)=>e.jsx(Ra,{ref:a,className:H("flex cursor-default items-center justify-center py-1",s),...n,children:e.jsx(Rt,{className:"h-4 w-4"})}));mt.displayName=Ra.displayName;const ht=t.forwardRef(({className:s,...n},a)=>e.jsx(ka,{ref:a,className:H("flex cursor-default items-center justify-center py-1",s),...n,children:e.jsx($s,{className:"h-4 w-4"})}));ht.displayName=ka.displayName;const J=t.forwardRef(({className:s,children:n,position:a="popper",...r},l)=>e.jsx(kt,{children:e.jsxs(Ma,{ref:l,className:H("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...r,children:[e.jsx(mt,{}),e.jsx(Mt,{className:H("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(ht,{})]})}));J.displayName=Ma.displayName;const Bn=t.forwardRef(({className:s,...n},a)=>e.jsx(La,{ref:a,className:H("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...n}));Bn.displayName=La.displayName;const U=t.forwardRef(({className:s,children:n,...a},r)=>e.jsxs(Ia,{ref:r,className:H("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Lt,{children:e.jsx(us,{className:"h-4 w-4"})})}),e.jsx(It,{children:n})]}));U.displayName=Ia.displayName;const Un=t.forwardRef(({className:s,...n},a)=>e.jsx(Ea,{ref:a,className:H("-mx-1 my-1 h-px bg-muted",s),...n}));Un.displayName=Ea.displayName;const Ae=t.forwardRef(({className:s,...n},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:H("w-full caption-bottom text-sm",s),...n})}));Ae.displayName="Table";const ve=t.forwardRef(({className:s,...n},a)=>e.jsx("thead",{ref:a,className:H("[&_tr]:border-b",s),...n}));ve.displayName="TableHeader";const Ce=t.forwardRef(({className:s,...n},a)=>e.jsx("tbody",{ref:a,className:H("[&_tr:last-child]:border-0",s),...n}));Ce.displayName="TableBody";const Me=t.forwardRef(({className:s,...n},a)=>e.jsx("tfoot",{ref:a,className:H("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...n}));Me.displayName="TableFooter";const se=t.forwardRef(({className:s,...n},a)=>e.jsx("tr",{ref:a,className:H("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...n}));se.displayName="TableRow";const $=t.forwardRef(({className:s,...n},a)=>e.jsx("th",{ref:a,className:H("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...n}));$.displayName="TableHead";const N=t.forwardRef(({className:s,...n},a)=>e.jsx("td",{ref:a,className:H("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...n}));N.displayName="TableCell";const _n=t.forwardRef(({className:s,...n},a)=>e.jsx("caption",{ref:a,className:H("mt-4 text-sm text-muted-foreground",s),...n}));_n.displayName="TableCaption";const ie={financialYear:"2025",planType:"DAP",data:[{demandNumber:"O-26",district:"COLLCETOR, PUNE",budget:12340156,fundsDistributed:0,balanceBudget:12340156,demandsPendingForApproval:0,schemes:[{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"20410644",schemeTitle:"District Road Safety Measures",objectCode:31,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2053A233",schemeTitle:"Strengthening of Dynamic Government Administration and Emergency Management System",objectCode:13,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2053A233",schemeTitle:"Strengthening of Dynamic Government Administration and Emergency Management System",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2053A233",schemeTitle:"Strengthening of Dynamic Government Administration and Emergency Management System",objectCode:27,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2053A233",schemeTitle:"Strengthening of Dynamic Government Administration and Emergency Management System",objectCode:31,budgetThousands:474001},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2202J395",schemeTitle:"Assistance to Zilla Parishad for Special Repairs of School Buildings, Rooms and Latrine",objectCode:31,budgetThousands:25e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2202J733",schemeTitle:"Creating infrastructure for primary/ secondary schools in Zilla Parishad area",objectCode:31,budgetThousands:25e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2202K079",schemeTitle:"Assistance for Aadarsh Schools to construct basic facilities",objectCode:31,budgetThousands:25e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2202K426",schemeTitle:"Creation of Science labs, Computer labs, Digital schools, Internet/Wi-Fi facilities",objectCode:31,budgetThousands:25e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22031029",schemeTitle:"Development of facilities in Pre S.S.C. Vocational Education.(District Plan-Pune)",objectCode:21,budgetThousands:599},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22031029",schemeTitle:"Development of facilities in Pre S.S.C. Vocational Education.(District Plan-Pune)",objectCode:52,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22033077",schemeTitle:"Plus two stage Vocational education",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22033077",schemeTitle:"Plus two stage Vocational education",objectCode:52,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22042538",schemeTitle:"Welfare Extension Youth Programme in Rural areas.(District Plan-Pune)",objectCode:31,budgetThousands:2e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22042565",schemeTitle:"Development of Play Grounds.(District Plan-Pune)",objectCode:31,budgetThousands:14e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22044684",schemeTitle:"(District Plan-Pune) Grant -in-aid to Gymnasium and Play Ground",objectCode:31,budgetThousands:14e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22052165",schemeTitle:"Government Central,Divisional and District Libraries.(District Plan-Pune)",objectCode:13,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22052165",schemeTitle:"Government Central,Divisional and District Libraries.(District Plan-Pune)",objectCode:21,budgetThousands:999},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22053279",schemeTitle:"Assistance to Grampanchyat and other public libraries",objectCode:31,budgetThousands:100},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22053813",schemeTitle:"Conservation of forts, temples and important Protected monuments etc. in the state",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22053813",schemeTitle:"Conservation of forts, temples and important Protected monuments etc. in the state",objectCode:27,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22053813",schemeTitle:"Conservation of forts, temples and important Protected monuments etc. in the state",objectCode:31,budgetThousands:313678},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210H614",schemeTitle:"Purchase of Medicines, Machinery and Equipments for Primary Health Centres/ Sub-centres",objectCode:31,budgetThousands:8e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210H955",schemeTitle:"Construction, Extension, Repairs, Maintenance, Purchase of Fire safety equipments & Repairs, Structural Audit of primary health centres/ sub-centres, Construction of Burial Pit",objectCode:31,budgetThousands:656980},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210I292",schemeTitle:"Purchase, Repairs and Maintenance of Ambulances to Primary Health Centers as per norm (Sanctioned Quantity)",objectCode:31,budgetThousands:5e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210I639",schemeTitle:"Strengthening of Primary Health Centers/ Sub Centres/ Ayurvedic and Unani Dispensaries (Increase in Facilities)",objectCode:31,budgetThousands:25e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210I971",schemeTitle:"Construction of Zilla Parishad Dispensaries/ Primary Health units",objectCode:31,budgetThousands:5500},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210J332",schemeTitle:"Purchase of Medicines, Machinery, and Equipments for Hospitals",objectCode:13,budgetThousands:2e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210J332",schemeTitle:"Purchase of Medicines, Machinery, and Equipments for Hospitals",objectCode:21,budgetThousands:2e5},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210J332",schemeTitle:"Purchase of Medicines, Machinery, and Equipments for Hospitals",objectCode:31,budgetThousands:1e5},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210J682",schemeTitle:"Special programs for upgradation of hospital services and equipment (purchase and maintanenceof ambulances)",objectCode:13,budgetThousands:100},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210J682",schemeTitle:"Special programs for upgradation of hospital services and equipment (purchase and maintanenceof ambulances)",objectCode:21,budgetThousands:100},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210J682",schemeTitle:"Special programs for upgradation of hospital services and equipment (purchase and maintanenceof ambulances)",objectCode:31,budgetThousands:100},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210J682",schemeTitle:"Special programs for upgradation of hospital services and equipment (purchase and maintanenceof ambulances)",objectCode:51,budgetThousands:1700},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22159612",schemeTitle:"Installation of power-pumps, conversion of hand-pumps into power-pumps and their maintenance and repairs",objectCode:31,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22171751",schemeTitle:"Grant-in-aid to municipal council for implementation of Development Plans.(District Plan-Pune)",objectCode:31,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22178442",schemeTitle:"(37)(08)Maharashtra Nagarutthan Abhiyan(2217****)31 Grants in aid",objectCode:31,budgetThousands:2287500},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2217A323",schemeTitle:"Strengthening of Fire fighting and emergency Services",objectCode:31,budgetThousands:159098},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2217A352",schemeTitle:"Improvement of other Bastis/Slums in urban areas",objectCode:31,budgetThousands:887400},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22200885",schemeTitle:"Strenthning of District Information Office(2220****)13 Office Expences21 Supplies and Material50 Other Expenditure",objectCode:21,budgetThousands:1501},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22255479",schemeTitle:"State Government Post Matrics Scholarships.(District Plan-Pune)",objectCode:34,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22255586",schemeTitle:"Grant in aid to Zilla Parishad under section 187 of Maharashtra Zilla Parishad and Panchayat Samitis",objectCode:31,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2225F853",schemeTitle:"Tanda/Basti Improvement Scheme",objectCode:31,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22302319",schemeTitle:"Procurement of Deficient Equipment in existing I.T.Is(District Plan-Pune)",objectCode:21,budgetThousands:23699},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22302319",schemeTitle:"Procurement of Deficient Equipment in existing I.T.Is(District Plan-Pune)",objectCode:52,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2230A488",schemeTitle:"Minimum Skill Development Programme",objectCode:20,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2230A488",schemeTitle:"Minimum Skill Development Programme",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2230A488",schemeTitle:"Minimum Skill Development Programme",objectCode:31,budgetThousands:3e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22354315",schemeTitle:"Grants to Mahila Mandals.(District Plan-Pune)",objectCode:31,budgetThousands:2e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2235C671",schemeTitle:"Empowerment of Women and Child Development",objectCode:13,budgetThousands:100},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2235C671",schemeTitle:"Empowerment of Women and Child Development",objectCode:27,budgetThousands:100},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2235C671",schemeTitle:"Empowerment of Women and Child Development",objectCode:31,budgetThousands:1e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22362315",schemeTitle:"Integrated Child Development Services",objectCode:13,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22362315",schemeTitle:"Integrated Child Development Services",objectCode:27,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22362315",schemeTitle:"Integrated Child Development Services",objectCode:31,budgetThousands:260476},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034146",schemeTitle:"Construction of Veterinary Dispensaries, Primary aid Centers (District)(District Plan-Pune)",objectCode:13,budgetThousands:700},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034146",schemeTitle:"Construction of Veterinary Dispensaries, Primary aid Centers (District)(District Plan-Pune)",objectCode:21,budgetThousands:1e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034146",schemeTitle:"Construction of Veterinary Dispensaries, Primary aid Centers (District)(District Plan-Pune)",objectCode:31,budgetThousands:3e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034155",schemeTitle:"Supply of Medicines to the Veterinary Institutions(District Plan-Pune)",objectCode:31,budgetThousands:28800},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034235",schemeTitle:"Subsidy for supply of poultry units under Self Employment Creation Programme",objectCode:31,budgetThousands:4999},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034235",schemeTitle:"Subsidy for supply of poultry units under Self Employment Creation Programme",objectCode:33,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034244",schemeTitle:"Fodder and Feed Development -Grants to Zilla Parishads(State Plan)(District Plan-Pune)",objectCode:31,budgetThousands:5e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034271",schemeTitle:"Plan Grants to Zilla Parishads.(State Plan)(District Plan-Pune)",objectCode:31,budgetThousands:800},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2403C027",schemeTitle:"Kamdhenu Dattak Gram Yojana",objectCode:31,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24043554",schemeTitle:"Integrated Dairy Development Project.(State Plan)(District Plan-Pune)",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24051895",schemeTitle:"Fish Seed Farms - State Plan Scheme.(District Plan-Pune)",objectCode:21,budgetThousands:1100},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24057946",schemeTitle:"Fisheries Requisite",objectCode:31,budgetThousands:880},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24057946",schemeTitle:"Fisheries Requisite",objectCode:33,budgetThousands:20},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24062938",schemeTitle:"Reafforestation of degraded Forest.(District Plan-Pune)",objectCode:2,budgetThousands:52e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24062938",schemeTitle:"Reafforestation of degraded Forest.(District Plan-Pune)",objectCode:21,budgetThousands:13e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24065795",schemeTitle:"(District Plan-Pune)Village Eco-development and Tribal Development-",objectCode:2,budgetThousands:24e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24065795",schemeTitle:"(District Plan-Pune)Village Eco-development and Tribal Development-",objectCode:21,budgetThousands:6e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24067412",schemeTitle:"(02)(37)Joint forest Management(2406****)02 Wages,21 Supplies and Material",objectCode:2,budgetThousands:16e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24067412",schemeTitle:"(02)(37)Joint forest Management(2406****)02 Wages,21 Supplies and Material",objectCode:21,budgetThousands:4e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24068079",schemeTitle:"Central Nurseries",objectCode:2,budgetThousands:6e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24068079",schemeTitle:"Central Nurseries",objectCode:21,budgetThousands:15e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2406B397",schemeTitle:"Eco Tourism",objectCode:2,budgetThousands:4e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2406B397",schemeTitle:"Eco Tourism",objectCode:21,budgetThousands:24e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2406B397",schemeTitle:"Eco Tourism",objectCode:27,budgetThousands:16e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24251671",schemeTitle:"Dr. Panjabrao Deshmukh Interest Rebate Scheme.(District Plan-Pune)",objectCode:33,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"25151499",schemeTitle:"Special Grants to big village panchayat for providing civic facility",objectCode:31,budgetThousands:75e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"25151505",schemeTitle:"Special Grants to village panchayat for providing civic facility",objectCode:31,budgetThousands:1e6},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"25152717",schemeTitle:"Grants to Zilla Parishad for purchase of launch to start passenger traffic on river",objectCode:31,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"27025287",schemeTitle:"Minor Irrigation Works- General Plan (Adjusted with Ways and Means Advances)",objectCode:31,budgetThousands:159900},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"27025296",schemeTitle:"General Plan (Kolhapur Type Weirs)(Adjusted with Ways and Means Advanes)(District Plan-Pune)",objectCode:31,budgetThousands:62782},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"27029783",schemeTitle:"Survey Works under Irrigation Scheme (0 to 100 ha.)",objectCode:31,budgetThousands:1e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"28015839",schemeTitle:"Assistance to MSEDCL Co. Ltd for General Development and System Improvement",objectCode:31,budgetThousands:75e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"28101101",schemeTitle:"Non-Conventional Energy Development",objectCode:31,budgetThousands:15e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"28511821",schemeTitle:"Schemes for Providing stipends to entrepreneurs for starting enterprise under the Educated Un-employed Scheme",objectCode:34,budgetThousands:2e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"28516752",schemeTitle:"Grants for Silk Yarn Production",objectCode:31,budgetThousands:4e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"30543317",schemeTitle:"Grants to Zilla Parishad for Strengthening and Development of Other District Roads",objectCode:31,budgetThousands:5e5},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"30543611",schemeTitle:"Grants to Zilla Parishad for Strengthening and development of Village Roads",objectCode:31,budgetThousands:1e6},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511795",schemeTitle:"Innovative Schemes (3451 ****)",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511795",schemeTitle:"Innovative Schemes (3451 ****)",objectCode:27,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511795",schemeTitle:"Innovative Schemes (3451 ****)",objectCode:31,budgetThousands:470518},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511991",schemeTitle:"Evaluation, Monitaring and Data Entry of Schemes (3451 ****)",objectCode:13,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511991",schemeTitle:"Evaluation, Monitaring and Data Entry of Schemes (3451 ****)",objectCode:20,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511991",schemeTitle:"Evaluation, Monitaring and Data Entry of Schemes (3451 ****)",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511991",schemeTitle:"Evaluation, Monitaring and Data Entry of Schemes (3451 ****)",objectCode:28,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511991",schemeTitle:"Evaluation, Monitaring and Data Entry of Schemes (3451 ****)",objectCode:31,budgetThousands:52276},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512497",schemeTitle:"(37)(04)Other District Schemes (3451 ****)",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512497",schemeTitle:"(37)(04)Other District Schemes (3451 ****)",objectCode:27,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512497",schemeTitle:"(37)(04)Other District Schemes (3451 ****)",objectCode:31,budgetThousands:12606},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512998",schemeTitle:"Strengthening of District Planning Committee",objectCode:13,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512998",schemeTitle:"Strengthening of District Planning Committee",objectCode:20,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512998",schemeTitle:"Strengthening of District Planning Committee",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512998",schemeTitle:"Strengthening of District Planning Committee",objectCode:28,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512998",schemeTitle:"Strengthening of District Planning Committee",objectCode:31,budgetThousands:7},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34522132",schemeTitle:"Places which have been categorised as",objectCode:31,budgetThousands:1e5},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"36040621",schemeTitle:"Special Programme for Development of Pilgrimage Places (Plan)(District Plan-Pune)",objectCode:50,budgetThousands:1e5}]},{demandNumber:"O-27",district:"C0020-COLLCETOR, PUNE",budget:1449844,fundsDistributed:0,balanceBudget:1449844,demandsPendingForApproval:577,schemes:[{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"40550386",schemeTitle:"Provide infrastructural facilities to various establishments of Police and Prisons in Home Department, Implementing various technological projects including CCTV system, as also strengthening of traffic arrangements.",objectCode:50,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"40550386",schemeTitle:"Provide infrastructural facilities to various establishments of Police and Prisons in Home Department, Implementing various technological projects including CCTV system, as also strengthening of traffic arrangements.",objectCode:51,budgetThousands:177433},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"40550386",schemeTitle:"Provide infrastructural facilities to various establishments of Police and Prisons in Home Department, Implementing various technological projects including CCTV system, as also strengthening of traffic arrangements.",objectCode:52,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"40550386",schemeTitle:"Provide infrastructural facilities to various establishments of Police and Prisons in Home Department, Implementing various technological projects including CCTV system, as also strengthening of traffic arrangements.",objectCode:53,budgetThousands:136245},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"40591436",schemeTitle:"Major Works",objectCode:53,budgetThousands:15e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"40592601",schemeTitle:"Construction of Protection Wall to Prevent Encrochment on Public Lands",objectCode:53,budgetThousands:5e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42103336",schemeTitle:"Construction/ Extension, Repairs Maintenance, of hospitals, Purchase & Repairs of Fire safety equipments, Structural Audit & Electrical Audit of Hospital",objectCode:53,budgetThousands:2e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42160736",schemeTitle:"Major Works.(District Plan-Pune)General Pool Accoommodation",objectCode:53,budgetThousands:5e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42350449",schemeTitle:"Major Works of Women and Child Developmemt Department",objectCode:51,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42350449",schemeTitle:"Major Works of Women and Child Developmemt Department",objectCode:52,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42350449",schemeTitle:"Major Works of Women and Child Developmemt Department",objectCode:53,budgetThousands:5e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42501783",schemeTitle:"Land acquisition and construction of Workshop building for I.T.Is(4250****)53 Major works",objectCode:53,budgetThousands:5e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42501809",schemeTitle:"Construction of Government Technical school(4250****) 21 Supplies and Material, 53 Major works",objectCode:53,budgetThousands:14e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42502224",schemeTitle:"Construction of hostel for ITI students & providing training facilities(",objectCode:53,budgetThousands:6500},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44021765",schemeTitle:"Land Development through Soil Conservation Measures",objectCode:53,budgetThousands:5e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44031641",schemeTitle:"Constuction,Strenthning and Modernization of Veterinary hospital and Despensaries(4403****)53 Major works",objectCode:52,budgetThousands:4e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44031641",schemeTitle:"Constuction,Strenthning and Modernization of Veterinary hospital and Despensaries(4403****)53 Major works",objectCode:53,budgetThousands:2e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44051021",schemeTitle:"Fish Seed Farm",objectCode:53,budgetThousands:2e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44061122",schemeTitle:"Schemes in the Five Year Plan- State Plan Scheme-Forest Roads and Bridges.(District Plan-Pune)",objectCode:2,budgetThousands:36e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44061122",schemeTitle:"Schemes in the Five Year Plan- State Plan Scheme-Forest Roads and Bridges.(District Plan-Pune)",objectCode:21,budgetThousands:9e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44063188",schemeTitle:"Soil and water conservation works in the Forest",objectCode:2,budgetThousands:104e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44063188",schemeTitle:"Soil and water conservation works in the Forest",objectCode:21,budgetThousands:26e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44063902",schemeTitle:"Buildings In Forest",objectCode:53,budgetThousands:35e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"45150997",schemeTitle:"Other District Scheme",objectCode:52,budgetThousands:114560},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"45150997",schemeTitle:"Other District Scheme",objectCode:53,budgetThousands:1e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"4702A251",schemeTitle:"Land Acquisition for Minor Irrigation",objectCode:53,budgetThousands:99},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"4702A494",schemeTitle:"Construction and Repairs of Minor Irrigation Works (Upto 101 to 250 ha. Capacity)",objectCode:53,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"47112892",schemeTitle:"Works for Flood-Control",objectCode:53,budgetThousands:1e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"50545494",schemeTitle:"Construction of Sakav",objectCode:53,budgetThousands:35e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"62170204",schemeTitle:"Loans to Municipal Councils for implementation of Development Plans.(District Plan-Pune)",objectCode:55,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"62500323",schemeTitle:"Loans to Educated unemployed by way of Seed Money.(District Plan-Pune)",objectCode:55,budgetThousands:2e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"68510537",schemeTitle:"Loans for Rural Industrial Project Programme in the District Industries Centres(District Plan-Pune)",objectCode:55,budgetThousands:1}]}]},zn=[{id:1,district_code:"PUNE",fy:"2025-26",scheme_name:"District Road Safety Measures",budget_allocated:1e3,crc_code:"20410644",schemetype:"REVENUE"},{id:2,district_code:"PUNE",fy:"2025-26",scheme_name:"Strengthening of Dynamic Government Administration and Emergency Management System",budget_allocated:1e3,crc_code:"2053A233",schemetype:"REVENUE"},{id:3,district_code:"PUNE",fy:"2025-26",scheme_name:"Strengthening of Dynamic Government Administration and Emergency Management System",budget_allocated:1e3,crc_code:"2053A233",schemetype:"REVENUE"},{id:4,district_code:"PUNE",fy:"2025-26",scheme_name:"Strengthening of Dynamic Government Administration and Emergency Management System",budget_allocated:1e3,crc_code:"2053A233",schemetype:"REVENUE"},{id:5,district_code:"PUNE",fy:"2025-26",scheme_name:"Strengthening of Dynamic Government Administration and Emergency Management System",budget_allocated:474001e3,crc_code:"2053A233",schemetype:"REVENUE"},{id:6,district_code:"PUNE",fy:"2025-26",scheme_name:"Assistance to Zilla Parishad for Special Repairs of School Buildings, Rooms and Latrine",budget_allocated:25e7,crc_code:"2202J395",schemetype:"REVENUE"},{id:7,district_code:"PUNE",fy:"2025-26",scheme_name:"Creating infrastructure for primary/ secondary schools in Zilla Parishad area",budget_allocated:25e7,crc_code:"2202J733",schemetype:"REVENUE"},{id:8,district_code:"PUNE",fy:"2025-26",scheme_name:"Assistance for Aadarsh Schools to construct basic facilities",budget_allocated:25e7,crc_code:"2202K079",schemetype:"REVENUE"},{id:9,district_code:"PUNE",fy:"2025-26",scheme_name:"Creation of Science labs, Computer labs, Digital schools, Internet/Wi-Fi facilities",budget_allocated:25e7,crc_code:"2202K426",schemetype:"REVENUE"},{id:10,district_code:"PUNE",fy:"2025-26",scheme_name:"Development of facilities in Pre S.S.C. Vocational Education.(District Plan-Pune)",budget_allocated:599e3,crc_code:"22031029",schemetype:"REVENUE"},{id:107,district_code:"PUNE",fy:"2025-26",scheme_name:"Special Programme for Development of Pilgrimage Places (Plan)(District Plan-Pune)",budget_allocated:1e8,crc_code:"36040621",schemetype:"REVENUE"},{id:108,district_code:"PUNE",fy:"2025-26",scheme_name:"Provide infrastructural facilities to various establishments of Police and Prisons in Home Department, Implementing various technological projects including CCTV system, as also strengthening of traffic arrangements.",budget_allocated:1e3,crc_code:"40550386",schemetype:"CAPITAL"},{id:109,district_code:"PUNE",fy:"2025-26",scheme_name:"Provide infrastructural facilities to various establishments of Police and Prisons in Home Department, Implementing various technological projects including CCTV system, as also strengthening of traffic arrangements.",budget_allocated:177433e3,crc_code:"40550386",schemetype:"CAPITAL"},{id:110,district_code:"PUNE",fy:"2025-26",scheme_name:"Provide infrastructural facilities to various establishments of Police and Prisons in Home Department, Implementing various technological projects including CCTV system, as also strengthening of traffic arrangements.",budget_allocated:1e3,crc_code:"40550386",schemetype:"CAPITAL"},{id:111,district_code:"PUNE",fy:"2025-26",scheme_name:"Provide infrastructural facilities to various establishments of Police and Prisons in Home Department, Implementing various technological projects including CCTV system, as also strengthening of traffic arrangements.",budget_allocated:136245e3,crc_code:"40550386",schemetype:"CAPITAL"},{id:112,district_code:"PUNE",fy:"2025-26",scheme_name:"Major Works",budget_allocated:15e7,crc_code:"40591436",schemetype:"CAPITAL"},{id:113,district_code:"PUNE",fy:"2025-26",scheme_name:"Construction of Protection Wall to Prevent Encrochment on Public Lands",budget_allocated:5e7,crc_code:"40592601",schemetype:"CAPITAL"},{id:114,district_code:"PUNE",fy:"2025-26",scheme_name:"Construction/ Extension, Repairs Maintenance, of hospitals, Purchase & Repairs of Fire safety equipments, Structural Audit & Electrical Audit of Hospital",budget_allocated:2e7,crc_code:"42103336",schemetype:"CAPITAL"},{id:115,district_code:"PUNE",fy:"2025-26",scheme_name:"Major Works.(District Plan-Pune)General Pool Accoommodation",budget_allocated:5e7,crc_code:"42160736",schemetype:"CAPITAL"},{id:116,district_code:"PUNE",fy:"2025-26",scheme_name:"Major Works of Women and Child Developmemt Department",budget_allocated:1e3,crc_code:"42350449",schemetype:"CAPITAL"},{id:117,district_code:"PUNE",fy:"2025-26",scheme_name:"Major Works of Women and Child Developmemt Department",budget_allocated:1e3,crc_code:"42350449",schemetype:"CAPITAL"},{id:118,district_code:"PUNE",fy:"2025-26",scheme_name:"Major Works of Women and Child Developmemt Department",budget_allocated:5e7,crc_code:"42350449",schemetype:"CAPITAL"},{id:119,district_code:"PUNE",fy:"2025-26",scheme_name:"Land acquisition and construction of Workshop building for I.T.Is(4250****)53 Major works",budget_allocated:5e7,crc_code:"42501783",schemetype:"CAPITAL"},{id:120,district_code:"PUNE",fy:"2025-26",scheme_name:"Construction of Government Technical school(4250****) 21 Supplies and Material, 53 Major works",budget_allocated:14e6,crc_code:"42501809",schemetype:"CAPITAL"},{id:121,district_code:"PUNE",fy:"2025-26",scheme_name:"Construction of hostel for ITI students & providing training facilities(",budget_allocated:65e5,crc_code:"42502224",schemetype:"CAPITAL"},{id:122,district_code:"PUNE",fy:"2025-26",scheme_name:"Land Development through Soil Conservation Measures",budget_allocated:5e6,crc_code:"44021765",schemetype:"CAPITAL"},{id:123,district_code:"PUNE",fy:"2025-26",scheme_name:"Constuction,Strenthning and Modernization of Veterinary hospital and Despensaries(4403****)53 Major works",budget_allocated:4e6,crc_code:"44031641",schemetype:"CAPITAL"},{id:124,district_code:"PUNE",fy:"2025-26",scheme_name:"Constuction,Strenthning and Modernization of Veterinary hospital and Despensaries(4403****)53 Major works",budget_allocated:2e7,crc_code:"44031641",schemetype:"CAPITAL"},{id:125,district_code:"PUNE",fy:"2025-26",scheme_name:"Fish Seed Farm",budget_allocated:2e7,crc_code:"44051021",schemetype:"CAPITAL"},{id:126,district_code:"PUNE",fy:"2025-26",scheme_name:"Schemes in the Five Year Plan- State Plan Scheme-Forest Roads and Bridges.(District Plan-Pune)",budget_allocated:36e6,crc_code:"44061122",schemetype:"CAPITAL"},{id:127,district_code:"PUNE",fy:"2025-26",scheme_name:"Schemes in the Five Year Plan- State Plan Scheme-Forest Roads and Bridges.(District Plan-Pune)",budget_allocated:9e6,crc_code:"44061122",schemetype:"CAPITAL"},{id:128,district_code:"PUNE",fy:"2025-26",scheme_name:"Soil and water conservation works in the Forest",budget_allocated:104e6,crc_code:"44063188",schemetype:"CAPITAL"},{id:129,district_code:"PUNE",fy:"2025-26",scheme_name:"Soil and water conservation works in the Forest",budget_allocated:26e6,crc_code:"44063188",schemetype:"CAPITAL"},{id:130,district_code:"PUNE",fy:"2025-26",scheme_name:"Buildings In Forest",budget_allocated:35e6,crc_code:"44063902",schemetype:"CAPITAL"},{id:131,district_code:"PUNE",fy:"2025-26",scheme_name:"Other District Scheme",budget_allocated:11456e4,crc_code:"45150997",schemetype:"CAPITAL"},{id:132,district_code:"PUNE",fy:"2025-26",scheme_name:"Other District Scheme",budget_allocated:1e7,crc_code:"45150997",schemetype:"CAPITAL"},{id:133,district_code:"PUNE",fy:"2025-26",scheme_name:"Land Acquisition for Minor Irrigation",budget_allocated:99e3,crc_code:"4702A251",schemetype:"CAPITAL"},{id:134,district_code:"PUNE",fy:"2025-26",scheme_name:"Construction and Repairs of Minor Irrigation Works (Upto 101 to 250 ha. Capacity)",budget_allocated:1e3,crc_code:"4702A494",schemetype:"CAPITAL"},{id:135,district_code:"PUNE",fy:"2025-26",scheme_name:"Works for Flood-Control",budget_allocated:1e7,crc_code:"47112892",schemetype:"CAPITAL"},{id:136,district_code:"PUNE",fy:"2025-26",scheme_name:"Construction of Sakav",budget_allocated:35e7,crc_code:"50545494",schemetype:"CAPITAL"},{id:137,district_code:"PUNE",fy:"2025-26",scheme_name:"Loans to Municipal Councils for implementation of Development Plans.(District Plan-Pune)",budget_allocated:1e3,crc_code:"62170204",schemetype:"CAPITAL"},{id:138,district_code:"PUNE",fy:"2025-26",scheme_name:"Loans to Educated unemployed by way of Seed Money.(District Plan-Pune)",budget_allocated:2e6,crc_code:"62500323",schemetype:"CAPITAL"},{id:139,district_code:"PUNE",fy:"2025-26",scheme_name:"Loans for Rural Industrial Project Programme in the District Industries Centres(District Plan-Pune)",budget_allocated:1e3,crc_code:"68510537",schemetype:"CAPITAL"}],we=[{districtCode:"HADP-AMB",district:"Pune",taluka:"Ambegaon",planType:"HADP",financialYear:"2025-26",demandCode:"Ambegaon",schemeCode:"HADP01",schemeName:"HADP Special Scheme",head:"â",demandAmount:2e4,spillAmount:98.18,remainingBalance:101.82,status:"Approved"},{districtCode:"HADP-JUN",district:"Pune",taluka:"Junnar",planType:"HADP",financialYear:"2025-26",demandCode:"Junnar",schemeCode:"HADP02",schemeName:"HADP Development Grant",head:"â",demandAmount:2e4,spillAmount:57.29,remainingBalance:142.71,status:"Approved"},{districtCode:"HADP-MAW",district:"Pune",taluka:"Mawal",planType:"HADP",financialYear:"2025-26",demandCode:"Mawal",schemeCode:"HADP03",schemeName:"HADP Rural Infrastructure",head:"â",demandAmount:2e4,spillAmount:114.18,remainingBalance:85.82,status:"Approved"},{districtCode:"HADP-BHO",district:"Pune",taluka:"Bhor",planType:"HADP",financialYear:"2025-26",demandCode:"Bhor",schemeCode:"HADP04",schemeName:"HADP Infrastructure Upgrade",head:"â",demandAmount:2e4,spillAmount:52.15,remainingBalance:147.85,status:"Approved"},{districtCode:"HADP-MUL",district:"Pune",taluka:"Mulshi",planType:"HADP",financialYear:"2025-26",demandCode:"Mulshi",schemeCode:"HADP05",schemeName:"HADP Special Grant",head:"â",demandAmount:2e4,spillAmount:60,remainingBalance:140,status:"Approved"},{districtCode:"HADP-VEL",district:"Pune",taluka:"Velhe",planType:"HADP",financialYear:"2025-26",demandCode:"Velhe",schemeCode:"HADP06",schemeName:"HADP Village Development",head:"â",demandAmount:2e4,spillAmount:65,remainingBalance:135,status:"Approved"},{districtCode:"HADP-PUR",district:"Pune",taluka:"Purandar",planType:"HADP",financialYear:"2025-26",demandCode:"Purandar",schemeCode:"HADP07",schemeName:"HADP Sustainable Growth",head:"â",demandAmount:2e4,spillAmount:22.29,remainingBalance:177.71,status:"Approved"},{districtCode:"HADP-KHE",district:"Pune",taluka:"Khed",planType:"HADP",financialYear:"2025-26",demandCode:"Khed",schemeCode:"HADP08",schemeName:"HADP Rural Roads",head:"â",demandAmount:2e4,spillAmount:101.98,remainingBalance:98.02,status:"Approved"},{districtCode:"HADP-HAW",district:"Pune",taluka:"Haweli",planType:"HADP",financialYear:"2025-26",demandCode:"Haweli",schemeCode:"HADP09",schemeName:"HADP Green Pune",head:"â",demandAmount:2e4,spillAmount:33.54,remainingBalance:166.46,status:"Approved"},{districtCode:"HADP-SHI",district:"Pune",taluka:"Shirur",planType:"HADP",financialYear:"2025-26",demandCode:"Shirur",schemeCode:"HADP10",schemeName:"HADP Urban-Rural Link",head:"â",demandAmount:1e4,spillAmount:49.98,remainingBalance:50.02,status:"Approved"},{districtCode:"HADP-DAU",district:"Pune",taluka:"Daund",planType:"HADP",financialYear:"2025-26",demandCode:"Daund",schemeCode:"HADP11",schemeName:"HADP Development Package",head:"â",demandAmount:1e4,spillAmount:105,remainingBalance:-5,status:"Approved"}],ze=s=>Array.from(new Set(s)),gs={data:[{district:"PUNE",taluka:"Pimpri",type:"MLA",term:15,name:"Anna Dadu Bansode",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:2e4},{district:"PUNE",taluka:"Baramati",type:"MLA",term:14,name:"Ajit Anantrao Pawar",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:1e4},{district:"PUNE",taluka:"Khed Alandi",type:"MLA",term:15,name:"Babaji Ramchandra Kale",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Vadgaon Sheri",type:"MLA",term:14,name:"Bapusaheb Tukaram Pathare",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Khadakwasala",type:"MLA",term:14,name:"Bhimrao Dhondiba Tapkir",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Bhosari",type:"MLA",term:15,name:"Mahesh Landge",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Hadapsar",type:"MLA",term:15,name:"Chetan Tupe",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Kothrud",type:"MLA",term:15,name:"Chandrakant Bachhu Patil",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Indapur",type:"MLA",term:15,name:"Dattatraya Vithoba Bharne",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Shirur",type:"MLA",term:14,name:"Dnyaneshwar Katke",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Ambegaon",type:"MLA",term:14,name:"Dilip Walse-Patil",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Kasba Peth",type:"MLA",term:15,name:"Hemant Narayan Rasane",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Chinchwad",type:"MLA",term:14,name:"Shankar Jagtap",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Bhor",type:"MLA",term:15,name:"Shankar Hiraman Mandekar",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Shivajinagar",type:"MLA",term:15,name:"Siddharth Shirole",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Pune Cantonment",type:"MLA",term:14,name:"Suni Dnyandev Kamble",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Maval",type:"MLA",term:15,name:"Sunil Shankarrao Shelke",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Parvati",type:"MLA",term:15,name:"Madhuri Satish Misal",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Daund",type:"MLA",term:14,name:"Rahul Subhashrao Kul",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Junnar",type:"MLA",term:14,name:"Sharad Sonavane",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0},{district:"PUNE",taluka:"Purandar",type:"MLA",term:14,name:"Vijay Shivtare",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:0}]},ea=()=>{const s=parseInt(ie.financialYear,10),n=`${s}-${s+1}`,[a,r]=t.useState(n),[l,x]=t.useState("DAP"),[o,m]=t.useState("All"),[i,u]=t.useState("All"),[j,A]=t.useState("All"),[S,R]=t.useState("All"),[D,f]=t.useState(null),[V,w]=t.useState(!1),[c,d]=t.useState("All"),[P,B]=t.useState("All");t.useEffect(()=>{m("All"),u("All"),A("All"),R("All"),f(null),w(!1),d("All"),B("All")},[l]),t.useEffect(()=>{u("All"),w(!1)},[o]),t.useEffect(()=>{R("All"),w(!1)},[j]),t.useEffect(()=>{B("All")},[c]);const ee=t.useMemo(()=>["All",n],[n]),T=["DAP","ML","HADP"],h=t.useMemo(()=>["All",...ze(ie.data.map(b=>b.district))],[]),v=t.useMemo(()=>{const b=ie.data.filter(O=>o==="All"||O.district===o).map(O=>O.demandNumber);return["All",...ze(b)]},[o]),p=t.useMemo(()=>["All",...ze(gs.data.map(b=>b.district))],[]),C=t.useMemo(()=>{const b=gs.data.filter(O=>j==="All"||O.district===j).map(O=>O.name);return["All",...ze(b)]},[j]),g=t.useMemo(()=>["All",...ze(we.map(b=>b.district||"Unknown"))],[]),q=t.useMemo(()=>c==="All"?["All",...ze(we.map(b=>b.taluka||"Unknown"))]:["All",...ze(we.filter(b=>b.district===c).map(b=>b.taluka||"Unknown"))],[c]),Y=t.useMemo(()=>{let b=ie.data.filter(O=>(a==="All"||`${ie.financialYear}-2026`===a)&&(o==="All"||O.district===o)&&(i==="All"||O.demandNumber===i)&&(!V||O.demandsPendingForApproval>0)).map(O=>({...O,key:`${O.demandNumber}|${O.district}`}));return b=[...b.filter(O=>!O.demandsPendingForApproval||O.demandsPendingForApproval===0),...b.filter(O=>O.demandsPendingForApproval>0)],b},[a,o,i,V]),z=t.useMemo(()=>{let b=gs.data.filter(O=>j==="All"||O.district===j).filter(O=>S==="All"||O.name===S).filter(O=>!V||O.pendingDemands>0);return b=[...b.filter(O=>!O.pendingDemands||O.pendingDemands===0),...b.filter(O=>O.pendingDemands>0)],b},[j,S,V]),k=t.useMemo(()=>{let b=we;c!=="All"&&(b=b.filter(ce=>ce.district===c)),P!=="All"&&(b=b.filter(ce=>ce.taluka===P));const O={};b.forEach(ce=>{O[ce.demandCode]||(O[ce.demandCode]={budget:0,utilized:0,balance:0,pendingDemands:0,demandCode:ce.demandCode}),O[ce.demandCode].budget+=ce.demandAmount,ce.status==="Approved"?O[ce.demandCode].utilized+=ce.demandAmount:O[ce.demandCode].balance+=ce.demandAmount});let ye=Object.values(O);return ye=[...ye.filter(ce=>!ce.balance||ce.balance===0),...ye.filter(ce=>ce.balance>0)],ye},[c,P,V]),Z=b=>(b/1).toFixed(1),me=(b,O)=>O>0?`${(b/O*100).toFixed(1)}%`:"0%",de=Y.reduce((b,O)=>b+O.budget,0),xe=Y.reduce((b,O)=>b+O.fundsDistributed,0),fe=Y.reduce((b,O)=>b+O.demandsPendingForApproval,0),Ee=Y.reduce((b,O)=>b+O.balanceBudget,0),Oe=ie.data.reduce((b,O)=>b+O.budget,0),Te=gs.data.reduce((b,O)=>b+O.budget,0),ge=we.reduce((b,O)=>b+O.demandAmount,0),y=t.useMemo(()=>Y.reduce((b,O)=>(b.budget+=O.budget,b.distributed+=O.fundsDistributed,b.pending+=O.demandsPendingForApproval,b.balance+=O.balanceBudget,b),{budget:0,distributed:0,pending:0,balance:0}),[Y]),W=t.useMemo(()=>z.reduce((b,O)=>(b.budget+=O.budget,b.utilized+=O.fundUtilized,b.pendingDemands+=O.pendingDemands,b.balance+=O.balance,b),{budget:0,utilized:0,pendingDemands:0,balance:0}),[z]),ae=t.useMemo(()=>k.reduce((b,O)=>(b.budget+=O.budget,b.utilized+=O.utilized,b.balance+=O.balance,b.pendingDemands+=O.pendingDemands,b),{budget:0,utilized:0,pendingDemands:0,balance:0}),[k]);if(D){const[b]=D.split("|"),ye=Y.find(De=>De.key===D).schemes||[],ce=ye.reduce((De,ps)=>(De.budget+=ps.budgetThousands,De),{budget:0});return e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx(L,{variant:"outline",onClick:()=>f(null),children:"â Back"}),e.jsxs("h2",{className:"text-lg font-semibold",children:["Schemes under ",b]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Ae,{className:"min-w-full border border-gray-300",children:[e.jsx(ve,{children:e.jsxs(se,{children:[e.jsx($,{className:"border px-2 py-1",children:"Sr No"}),e.jsx($,{className:"border px-2 py-1",children:"Scheme Name"}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Budget "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Pending"})]})}),e.jsx(Ce,{children:ye.map((De,ps)=>e.jsxs(se,{children:[e.jsx(N,{className:"border px-2 py-1 text-xs",children:ps+1}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:`${De.schemeCRC} (${De.objectCode}) ${De.schemeTitle}`}),e.jsx(N,{className:"border px-2 py-1 text-right text-xs",children:De.budgetThousands.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right text-xs",children:"â"})]},ps))}),e.jsx(Me,{children:e.jsxs(se,{children:[e.jsx(N,{colSpan:2,className:"border px-2 py-1 font-semibold text-xs",children:"Total"}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold text-xs",children:ce.budget.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold text-xs",children:"â"})]})})]})})]})}return e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsx(M,{htmlFor:"fy",children:"Financial Year"}),e.jsxs(X,{id:"fy",value:a,onValueChange:r,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:ee.map(b=>e.jsx(U,{value:b,children:b},b))})]})]}),e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsx(M,{htmlFor:"plan",children:"Plan Type"}),e.jsxs(X,{id:"plan",value:l,onValueChange:x,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:T.map(b=>e.jsx(U,{value:b,children:b},b))})]})]}),l==="DAP"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 min-w-[180px]",children:[e.jsx(M,{htmlFor:"district",children:"District"}),e.jsxs(X,{id:"district",value:o,onValueChange:m,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:h.map(b=>e.jsx(U,{value:b,children:b},b))})]})]}),e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsx(M,{htmlFor:"demand",children:"Demand Number"}),e.jsxs(X,{id:"demand",value:i,onValueChange:u,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:v.map(b=>e.jsx(U,{value:b,children:b},b))})]})]})]}),l==="ML"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 min-w-[180px]",children:[e.jsx(M,{htmlFor:"mlaDistrict",children:"District"}),e.jsxs(X,{id:"mlaDistrict",value:j,onValueChange:A,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:p.map(b=>e.jsx(U,{value:b,children:b},b))})]})]}),e.jsxs("div",{className:"flex-1 min-w-[180px]",children:[e.jsx(M,{htmlFor:"mlaname",children:"MLA/MLC Account name "}),e.jsxs(X,{id:"mlaname",value:S,onValueChange:R,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:C.map(b=>e.jsx(U,{value:b,children:b},b))})]})]})]}),l==="HADP"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 min-w-[180px]",children:[e.jsx(M,{htmlFor:"hadpDistrict",children:"District"}),e.jsxs(X,{id:"hadpDistrict",value:c,onValueChange:d,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:g.map(b=>e.jsx(U,{value:b,children:b},b))})]})]}),e.jsxs("div",{className:"flex-1 min-w-[180px]",children:[e.jsx(M,{htmlFor:"hadpTaluka",children:"Taluka"}),e.jsxs(X,{id:"hadpTaluka",value:P,onValueChange:B,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:q.map(b=>e.jsx(U,{value:b,children:b},b))})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[e.jsxs(Ge.div,{className:"col-span-6 sm:col-span-3 lg:col-span-2 border-l-4 border-purple-600 bg-white p-3 rounded-md shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsx("p",{className:"text-xs font-semibold text-purple-600 uppercase",children:"Overview"}),e.jsx("div",{className:"mt-1 text-xs space-y-0.5",children:[{label:"District Annual Plan:",val:Oe},{label:"ML",val:Te},{label:"HADP",val:ge}].map((b,O)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:b.label}),e.jsxs("span",{children:["â¹",Z(b.val)]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("small",{className:"text-gray-500",children:me(b.val,Oe+Te+ge)})})]},O))})]}),(l==="DAP"?[{title:"Total Budget ",value:de,whole:Oe,color:"blue"},{title:"Funds Distributed",value:xe,whole:de,color:"green"},{title:"Remaining Balance",value:Ee,whole:de,color:"red"},{title:"Pending Demand Amount ",value:fe,whole:de,color:"yellow"}]:l==="ML"?[{title:"Total Budget",value:W.budget,whole:W.budget,color:"green"},{title:"Disbursed Amount",value:W.utilized,whole:W.budget,color:"yellow"},{title:"Balance Amount",value:W.balance,whole:W.budget,color:"red"},{title:"Pending Demands",value:z.reduce((b,O)=>b+O.pendingDemands,0),whole:W.budget,color:"orange"}]:[{title:"Budget",value:ae.budget,whole:ae.budget,color:"blue"},{title:"Approved",value:ae.utilized,whole:ae.budget,color:"green"},{title:"Balance",value:ae.balance,whole:ae.budget,color:"red"},{title:"Pending",value:ae.balance,whole:ae.budget,color:"yellow"}]).map((b,O)=>e.jsxs(Ge.div,{className:`col-span-6 sm:col-span-3 lg:col-span-1 border-l-4 border-${b.color}-500 bg-${b.color}-50 p-2 rounded-md shadow-sm cursor-pointer`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*(O+1)},whileHover:{scale:1.02},onClick:()=>{["Pending","Pending Demands"].includes(b.title)?w(ye=>!ye):w(!1)},children:[e.jsx("p",{className:`text-xs font-semibold text-${b.color}-700`,children:b.title}),e.jsx("p",{className:`mt-1 text-lg font-bold text-${b.color}-900`,children:["Pending","Pending Demands","Total Entries"].includes(b.title)?b.value:`â¹${Z(b.value)}`}),e.jsx("div",{className:"flex justify-end",children:e.jsx("small",{className:`text-${b.color}-700 opacity-80`,children:me(b.value,b.whole)})})]},O))]}),l==="DAP"&&e.jsxs(I,{className:"rounded-md shadow-sm",children:[e.jsxs(G,{className:"flex justify-between items-center",children:[e.jsx(F,{className:"text-sm",children:"Demand Summary"}),e.jsxs("div",{className:"flex gap-2 text-right",children:[e.jsx("span",{className:"text-[10px] text-red-500",children:"*Balance = Budget Amount- Fund Distributed |"}),e.jsx("span",{className:"text-[10px] text-red-500",children:"*Amounts In Thousand"})]})]}),e.jsx(E,{className:"overflow-x-auto p-0",children:e.jsxs(Ae,{className:"min-w-full border border-gray-300",children:[e.jsx(ve,{children:e.jsxs(se,{children:[e.jsx($,{className:"border px-2 py-1",children:"S.No"}),e.jsx($,{className:"border px-2 py-1",children:"Demand No."}),e.jsx($,{className:"border px-2 py-1",children:"District"}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Budget "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Funds Disbursed "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Balance "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Pending demand Amount"})]})}),e.jsx(Ce,{children:Y.map((b,O)=>e.jsxs(se,{children:[e.jsx(N,{className:"border px-2 py-1 text-xs",children:O+1}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:e.jsx(L,{variant:"link",onClick:()=>f(b.key),children:b.demandNumber})}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:b.district}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Z(b.budget)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Z(b.fundsDistributed)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Z(b.balanceBudget)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:b.demandsPendingForApproval})]},b.key))}),e.jsx(Me,{children:e.jsxs(se,{children:[e.jsx(N,{colSpan:3,className:"border px-2 py-1 font-semibold",children:"Total"}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:y.budget.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:y.distributed.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:y.balance.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:y.pending.toLocaleString()})]})})]})})]}),l==="ML"&&e.jsxs(I,{className:"rounded-md shadow-sm",children:[e.jsx(G,{children:e.jsxs(F,{className:"text-sm",children:["MLA/MLC Details ",e.jsx("span",{className:"text-red-500"}),e.jsxs("div",{className:"flex gap-2 text-right",children:[e.jsx("span",{className:"text-[10px] text-red-500",children:"*Balance = Budget Amount- Fund Distributed |"}),e.jsx("span",{className:"text-[10px] text-red-500",children:"*Amounts In Thousand"})]})]})}),e.jsx(E,{className:"overflow-x-auto p-0",children:e.jsxs(Ae,{className:"min-w-full border border-gray-300",children:[e.jsx(ve,{children:e.jsxs(se,{children:[e.jsx($,{className:"border px-2 py-1",children:"S.No"}),e.jsx($,{className:"border px-2 py-1",children:"Nodal District"}),e.jsx($,{className:"border px-2 py-1",children:"Type"}),e.jsx($,{className:"border px-2 py-1",children:"Assembly Constituency"}),e.jsx($,{className:"border px-2 py-1",children:"Term"}),e.jsx($,{className:"border px-2 py-1",children:"MLA/MLC Name "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Budgeted Amount "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Funds Disbursed "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Balance Funds "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Pending demand Amount "})]})}),e.jsx(Ce,{children:z.map((b,O)=>e.jsxs(se,{children:[e.jsx(N,{className:"border px-2 py-1 text-xs",children:O+1}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:b.district}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:b.type}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:b.taluka}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:b.term}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:b.name}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Z(b.budget)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Z(b.fundUtilized)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Z(b.balance)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Z(b.pendingDemands)})]},`${b.name}|${O}`))}),e.jsx(Me,{children:e.jsxs(se,{children:[e.jsx(N,{colSpan:6,className:"border px-2 py-1 font-semibold",children:"Total"}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:W.budget.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:W.utilized.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:W.balance.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:W.pendingDemands.toLocaleString()})]})})]})})]}),l==="HADP"&&e.jsxs(I,{className:"rounded-md shadow-sm",children:[e.jsx(G,{children:e.jsxs(F,{className:"text-sm",children:["HADP Summary",e.jsx("span",{className:"text-xs text-red-300 italic",children:"    *Amounts In Thousands"})]})}),e.jsx(E,{className:"overflow-x-auto p-0",children:e.jsxs(Ae,{className:"min-w-full border border-gray-300",children:[e.jsx(ve,{children:e.jsxs(se,{children:[e.jsx($,{className:"border px-2 py-1",children:"S.No"}),e.jsx($,{className:"border px-2 py-1",children:"Taluka"}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Budget Amount "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Disbursed Amount "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Balance Amount "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Pending Demand Amount"})]})}),e.jsx(Ce,{children:k.map((b,O)=>e.jsxs(se,{children:[e.jsx(N,{className:"border px-2 py-1 text-xs",children:O+1}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:b.demandCode}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Z(b.budget)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Z(b.utilized)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Z(b.balance)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Z(b.balance)})]},b.demandCode))}),e.jsx(Me,{children:e.jsxs(se,{children:[e.jsx(N,{colSpan:2,className:"border px-2 py-1 font-semibold",children:"Total"}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:ae.budget.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:ae.utilized.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:ae.balance.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:ae.balance.toLocaleString()})]})})]})})]})]})},Wn="http://localhost:5002",$n={hidden:{opacity:0,y:20},visible:s=>({opacity:1,y:0,transition:{delay:s*.1,duration:.4,ease:"easeOut"}})};function Hn(){const s=wa(),{toast:n}=Be(),[a,r]=t.useState([]),[l,x]=t.useState(!1),[o,m]=t.useState("All"),[i,u]=t.useState("All"),[j,A]=t.useState("All"),[S,R]=t.useState("All"),[D,f]=t.useState("All"),[V,w]=t.useState(["All"]),[c,d]=t.useState(["All"]),[P,B]=t.useState([{id:"All",name:"All"}]),[ee,T]=t.useState([{id:"All",name:"All"}]),[h,v]=t.useState(["All"]);t.useEffect(()=>{p()},[o,i,j,S,D]);const p=async()=>{var k;x(!0);try{const Z={};o!=="All"&&(Z.financialYear=o),i!=="All"&&(Z.planType=i),j!=="All"&&(Z.schemeId=j),S!=="All"&&(Z.workId=S),D!=="All"&&(Z.status=D);const me=await he.get(`${Wn}/api/ia-dashboard`,{params:Z,headers:{Authorization:localStorage.getItem("token")||""}});let de=[];Array.isArray(me.data)?de=me.data:Array.isArray((k=me.data)==null?void 0:k.data)?de=me.data.data:de=[],r(de),w(["All",...Array.from(new Set(de.map(xe=>xe.financialYear).filter(Boolean)))]),d(["All",...Array.from(new Set(de.map(xe=>xe.planType).filter(Boolean)))]),B([{id:"All",name:"All"},...C(de,"schemeId","schemeName")]),T([{id:"All",name:"All"},...C(de,"workId","workName")]),v(["All",...Array.from(new Set(de.map(xe=>xe.status).filter(Boolean)))])}catch{r([]),n({title:"Error",description:"Failed to fetch IA Dashboard data.",variant:"destructive"})}x(!1)};function C(k,Z,me){const de=new Map;return k.forEach(xe=>{xe[Z]&&xe[me]&&de.set(xe[Z],{id:xe[Z],name:xe[me]})}),Array.from(de.values())}const g=t.useMemo(()=>(Array.isArray(a)?a:[]).filter(k=>(o==="All"||k.financialYear===o)&&(i==="All"||k.planType===i)&&(j==="All"||`${k.schemeId}`==`${j}`)&&(S==="All"||`${k.workId}`==`${S}`)&&(D==="All"||k.status===D)),[a,o,i,j,S,D]),q=t.useMemo(()=>{if(!Array.isArray(g)||g.length===0)return{total:0,approved:0,pending:0,demandedSum:0,approvedSum:0};const k=g.length,Z=g.filter(fe=>fe.status==="Approved").length,me=g.filter(fe=>fe.status==="Pending").length,de=g.reduce((fe,Ee)=>fe+(Number(Ee.demandAmount)||0),0),xe=g.filter(fe=>fe.status==="Approved").reduce((fe,Ee)=>fe+(Number(Ee.demandAmount)||0),0);return{total:k,approved:Z,pending:me,demandedSum:de,approvedSum:xe}},[g]),Y=()=>{const k=new Qa;k.text("Fund Demand Report",14,16),on(k,{head:[["#","MLA/MLC","IA Name","Work","Gross (â¹)","Demand (â¹)","Status"]],body:g.map((Z,me)=>[me+1,Z.mlaName||"-",Z.iaName||"-",Z.workName||Z.name||"-",`â¹${(Z.adminApprovedAmount||0).toLocaleString()}`,`â¹${(Z.demandAmount||0).toLocaleString()}`,Z.status||"-"])}),k.save("Fund_Demand_Report.pdf")},z=[{title:"Total Demands",value:q.total,icon:e.jsx(os,{className:"w-6 h-6 text-blue-500"}),bg:"bg-blue-50"},{title:"Approved Demands",value:q.approved,icon:e.jsx(ys,{className:"w-6 h-6 text-green-500"}),bg:"bg-green-50"},{title:"Pending Demands",value:q.pending,icon:e.jsx(ys,{className:"w-6 h-6 text-yellow-500"}),bg:"bg-yellow-50"},{title:"Sent Back By District",value:0,icon:e.jsx(je,{className:"w-6 h-6 text-rose-500"}),bg:"bg-rose-50"},{title:"Total Work Amount",value:`â¹${(q.demandedSum||0).toLocaleString()}`,icon:e.jsx(os,{className:"w-6 h-6 text-purple-500"}),bg:"bg-purple-50"},{title:"Approved Amount",value:`â¹${(q.approvedSum||0).toLocaleString()}`,icon:e.jsx(ys,{className:"w-6 h-6 text-red-500"}),bg:"bg-red-50"}];return e.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"IA Dashboard"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(L,{onClick:Y,variant:"outline",className:"border-blue-600 text-blue-600",children:[e.jsx(Os,{className:"w-4 h-4 mr-1"})," Download"]}),e.jsxs(L,{onClick:()=>s("/fund-demand"),className:"bg-blue-600 text-white hover:bg-blue-700",children:[e.jsx(Oa,{className:"w-4 h-4 mr-1"})," New Demand"]}),e.jsxs(L,{onClick:()=>s("/vendor-detail"),variant:"outline",children:[e.jsx(We,{className:"w-4 h-4 mr-1"})," Register Vendor"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6 gap-6",children:z.map((k,Z)=>e.jsxs(Ge.div,{initial:"hidden",animate:"visible",variants:$n,custom:Z,className:`${k.bg} p-4 rounded-lg shadow hover:shadow-md flex items-center gap-4`,children:[k.icon,e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-600",children:k.title}),e.jsx("div",{className:"text-2xl font-bold text-gray-800 mt-1",children:k.value})]})]},k.title))}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-600 mb-1",children:"Financial Year"}),e.jsx("select",{className:"border border-gray-300 rounded px-3 py-2 text-sm",value:o,onChange:k=>m(k.target.value),children:V.map(k=>e.jsx("option",{value:k,children:k},k))})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-600 mb-1",children:"Plan Type"}),e.jsx("select",{className:"border border-gray-300 rounded px-3 py-2 text-sm",value:i,onChange:k=>u(k.target.value),children:c.map(k=>e.jsx("option",{value:k,children:k},k))})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-600 mb-1",children:"Scheme"}),e.jsx("select",{className:"border border-gray-300 rounded px-3 py-2 text-sm",value:j,onChange:k=>A(k.target.value),children:P.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-600 mb-1",children:"Work"}),e.jsx("select",{className:"border border-gray-300 rounded px-3 py-2 text-sm",value:S,onChange:k=>R(k.target.value),children:ee.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-600 mb-1",children:"Status"}),e.jsx("select",{className:"border border-gray-300 rounded px-3 py-2 text-sm",value:D,onChange:k=>f(k.target.value),children:h.map(k=>e.jsx("option",{value:k,children:k},k))})]})]}),e.jsxs(I,{className:"border border-gray-200 rounded-lg shadow overflow-hidden",children:[e.jsx(G,{children:e.jsx(F,{className:"text-xl font-semibold",children:"MLA/MLC Fund Demand Details"})}),e.jsx(E,{className:"p-0 overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsx("tr",{children:["Sr","MLA/MLC Account Name","IA Name","Work Title","Gross Work Order Amount","Demand Amount","Status"].map(k=>e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-semibold text-gray-700 uppercase",children:k},k))})}),e.jsx("tbody",{children:!l&&g.length>0?g.map((k,Z)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm text-gray-600",children:Z+1}),e.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm text-gray-800",children:k.mlaName||"-"}),e.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm text-gray-800",children:k.iaName||"-"}),e.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm text-gray-800",children:k.workName||k.name||"-"}),e.jsxs("td",{className:"border border-gray-200 px-4 py-2 text-sm text-gray-800 text-right",children:["â¹",(k.adminApprovedAmount||0).toLocaleString()]}),e.jsxs("td",{className:"border border-gray-200 px-4 py-2 text-sm text-blue-800 text-right",children:["â¹",(k.demandAmount||0).toLocaleString()]}),e.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm text-yellow-600 text-left",children:k.status||"-"})]},k.id||Z)):l?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"border border-gray-200 py-6 text-center text-gray-400 text-sm",children:"Loading..."})}):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"border border-gray-200 py-6 text-center text-gray-400 text-sm",children:"No records found."})})})]})})]})]})}const _=t.forwardRef(({className:s,type:n,...a},r)=>e.jsx("input",{type:n,className:H("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...a}));_.displayName="Input";const rs="http://13.232.90.40:8080";function Yn(s){return e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold
      ${s==="Completed"?"bg-green-100 text-green-700":s==="Pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:s})}const qn=({open:s,onClose:n,work:a,onAssign:r,vendors:l,taxes:x})=>{var T;const[o,m]=t.useState(""),[i,u]=t.useState([]),[j,A]=t.useState((a==null?void 0:a.workPortionAmount)??0),[S,R]=t.useState(!1),[D,f]=t.useState(null);if(t.useEffect(()=>{A((a==null?void 0:a.workPortionAmount)??0),m(""),u([]),f(null)},[a,s]),!s||!a)return null;const V=x.filter(h=>i.includes(h.taxName)),w=V.reduce((h,v)=>h+j*v.taxPercentage/100,0),c=j+w,d=l.find(h=>h.id===Number(o)),P=d&&j>0&&c<=(a.workLimit??1/0),B=h=>{var v;(v=h.target.files)!=null&&v.length&&f(h.target.files[0])},ee=async()=>{R(!0);try{await he.post(`${rs}/api/work-vendor-mapping/assign-vendor`,{workId:a.id,vendorId:Number(o),workPortionAmount:j,taxes:V.map(h=>({taxName:h.taxName,taxPercentage:h.taxPercentage,taxAmount:j*h.taxPercentage/100}))},{headers:{Authorization:localStorage.getItem("token")||""}}),r({assignedVendor:d,assignedTax:V,workPortionAmount:j,grossTotal:c,status:"Completed",workOrderFile:D}),R(!1),n()}catch{alert("Failed to assign vendor. Please try again."),R(!1)}};return e.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-[70vw] max-w-4xl p-8 relative",children:[e.jsx("button",{className:"absolute top-4 right-4",onClick:n,children:e.jsx(be,{className:"w-5 h-5 text-gray-400 hover:text-red-500"})}),e.jsx("h2",{className:"text-2xl font-bold mb-4 text-primary",children:"Assign Vendor to Work"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-blue-50 p-5 rounded-lg mb-5",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Work Title"}),e.jsx("div",{children:a.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Financial Year"}),e.jsx("div",{children:a.financialYear})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Admin Approved Limit"}),e.jsxs("div",{children:["â¹",(a.adminApprovedAmount??0).toLocaleString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-gray-700 block mb-1",children:"Select Vendor"}),e.jsxs("select",{className:"w-full border rounded px-3 py-2",value:o,onChange:h=>m(h.target.value),children:[e.jsx("option",{value:"",children:"-- Select Vendor --"}),l.map(h=>{var v;return e.jsxs("option",{value:h.id,children:[h.name," (**** **** ",((v=h.aadhaarNumber)==null?void 0:v.slice(-4))||"----",")"]},h.id)})]}),d&&e.jsxs("div",{className:"mt-3 border rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Account:"}),e.jsx("span",{className:"font-mono text-gray-800",children:d.bankAccountNumber??"-"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"IFSC:"}),e.jsx("span",{className:"font-mono text-gray-800",children:d.bankIfsc??"-"})]}),e.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[e.jsx(Ne,{className:"inline w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-700 font-medium",children:"Verified"})]})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"GST:"})," ",d.gstNumber]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Aadhaar:"})," ","**** **** ",((T=d.aadhaarNumber)==null?void 0:T.slice(-4))||"----"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-gray-700 block mb-1",children:"Work Portion Amount (Work Order Amount)"}),e.jsx(_,{type:"number",value:j,min:1,max:a.adminApprovedAmount,onChange:h=>A(Number(h.target.value))}),j>a.adminApprovedAmount&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:"Portion amount cannot exceed Admin Approved Amount."}),e.jsx("label",{className:"font-semibold text-gray-700 block mb-1 mt-4",children:"Tax/Deductions (select one or more)"}),e.jsx("select",{className:"w-full border rounded px-3 py-2",multiple:!0,value:i,onChange:h=>u(Array.from(h.target.selectedOptions,v=>v.value)),size:Math.min(4,x.length),children:x.map(h=>e.jsxs("option",{value:h.taxName,children:[h.taxName," (",h.taxPercentage,"%)"]},h.taxName))}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"font-semibold text-gray-700 block mb-1",children:"Work Order Letter (PDF, Image)"}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(Ft,{className:"w-5 h-5 text-blue-600"}),e.jsx("input",{type:"file",accept:"application/pdf,image/*",className:"hidden",onChange:B}),e.jsx("span",{className:"text-sm",children:D?D.name:"Select file"})]}),D&&e.jsx("div",{className:"mt-2 text-xs text-green-700",children:"File attached (Not uploaded to backend)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 my-4 bg-gray-50 p-3 rounded-xl text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-600",children:"Deducted Amount:"}),e.jsxs("div",{children:["â¹",w.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-600",children:"Gross Total:"}),e.jsxs("div",{children:["â¹",c.toLocaleString()]})]})]}),c>(a.adminApprovedAmount??0)&&e.jsx("div",{className:"text-red-500 text-xs mb-2",children:"Gross amount cannot exceed Admin Approved Amount!"}),e.jsxs(L,{className:"w-full mt-2",disabled:!P||S,onClick:ee,children:[S?e.jsx(Fa,{className:"animate-spin h-4 w-4 mr-2"}):e.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Assign Vendor"]})]})})},Kn=()=>{const[s,n]=t.useState([]),[a,r]=t.useState([]),[l,x]=t.useState([]),[o,m]=t.useState({}),[i,u]=t.useState({open:!1,work:null}),[j,A]=t.useState(""),[S,R]=t.useState(""),[D,f]=t.useState(""),[V,w]=t.useState("");t.useEffect(()=>{he.get(`${rs}/api/work-vendor-mapping/works`,{headers:{Authorization:localStorage.getItem("token")||""}}).then(T=>n(T.data||[])),he.get(`${rs}/api/work-vendor-mapping/vendors`,{headers:{Authorization:localStorage.getItem("token")||""}}).then(T=>r(T.data||[])),he.get(`${rs}/api/tax-master`,{headers:{Authorization:localStorage.getItem("token")||""}}).then(T=>x(T.data||[])),he.get(`${rs}/api/work-vendor-mapping/counts`,{headers:{Authorization:localStorage.getItem("token")||""}}).then(T=>m(T.data||{}))},[]);let c=s;j&&(c=c.filter(T=>T.financialYear===j)),S&&(c=c.filter(T=>String(T.schemeId)===S)),D&&(c=c.filter(T=>T.name===D)),V&&(c=c.filter(T=>V==="Completed"?T.status==="Completed"&&T.assignedVendor:T.status==="Pending"&&!T.assignedVendor));const d=(T,h)=>{n(v=>v.map(p=>p.id===T?{...p,assignedVendor:h.assignedVendor,assignedTax:h.assignedTax,workPortionAmount:h.workPortionAmount,grossTotal:h.grossTotal,status:h.status,workOrderFile:h.workOrderFile}:p))},P=t.useMemo(()=>[...new Set(s.map(T=>T.financialYear))],[s]),B=t.useMemo(()=>{const T=new Set;return s.forEach(h=>T.add(String(h.schemeId))),Array.from(T)},[s]),ee=t.useMemo(()=>[...new Set(s.map(T=>T.name))],[s]);return e.jsxs("div",{className:"space-y-8 p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs(I,{children:[e.jsx(G,{className:"pb-2",children:e.jsx(F,{className:"text-sm font-medium",children:"Total Schemes"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.totalSchemes??0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Schemes managed"})]})]}),e.jsxs(I,{children:[e.jsx(G,{className:"pb-2",children:e.jsx(F,{className:"text-sm font-medium",children:"Total Works Assigned"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.totalWorks??0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Works under schemes"})]})]}),e.jsxs(I,{children:[e.jsx(G,{className:"pb-2",children:e.jsx(F,{className:"text-sm font-medium",children:"Total Vendor Registered"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.totalVendors??0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Vendors registered to schemes"})]})]}),e.jsxs(I,{children:[e.jsx(G,{className:"pb-2",children:e.jsx(F,{className:"text-sm font-medium",children:"Pending Work Vendor Registration"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.pendingVendorReg??0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Works pending vendor assignment"})]})]})]}),e.jsxs("div",{className:"flex items-end gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("label",{className:"block font-medium mb-1 text-gray-700",children:"Financial Year"}),e.jsxs("select",{className:"w-full border rounded px-3 py-2",value:j,onChange:T=>A(T.target.value),children:[e.jsx("option",{value:"",children:"All"}),P.map(T=>e.jsx("option",{value:T,children:T},T))]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("label",{className:"block font-medium mb-1 text-gray-700",children:"Scheme"}),e.jsxs("select",{className:"w-full border rounded px-3 py-2",value:S,onChange:T=>R(T.target.value),children:[e.jsx("option",{value:"",children:"All"}),B.map(T=>e.jsx("option",{value:T,children:T},T))]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("label",{className:"block font-medium mb-1 text-gray-700",children:"Work"}),e.jsxs("select",{className:"w-full border rounded px-3 py-2",value:D,onChange:T=>f(T.target.value),children:[e.jsx("option",{value:"",children:"All"}),ee.map(T=>e.jsx("option",{value:T,children:T},T))]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("label",{className:"block font-medium mb-1 text-gray-700",children:"Status"}),e.jsxs("select",{className:"w-full border rounded px-3 py-2",value:V,onChange:T=>w(T.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Pending",children:"Pending Vendor Registration"}),e.jsx("option",{value:"Completed",children:"Completed Vendor Registration"})]})]})]}),e.jsx("div",{className:"overflow-x-auto rounded-2xl shadow border border-gray-200 bg-white",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Actions (Assign Vendor)"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Scheme ID"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Work Name"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Fin. Year"}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-700",children:"AA Amount"}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-700",children:"Gross Total"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Status"})]})}),e.jsxs("tbody",{children:[c.map((T,h)=>e.jsxs("tr",{className:`${h%2===0?"bg-white":"bg-gray-50"} hover:bg-primary/5 transition border-b last:border-0`,children:[e.jsxs("td",{className:"px-4 py-2 text-center",children:[e.jsxs(L,{size:"sm",variant:"outline",onClick:()=>u({open:!0,work:T}),disabled:!!T.assignedVendor,children:[e.jsx(cs,{className:"w-4 h-4 mr-1"}),T.assignedVendor?"Assigned":"Assign Vendor"]}),T.assignedVendor&&e.jsxs("span",{className:"block mt-1 text-xs text-green-700 font-semibold",children:["Assigned: ",T.assignedVendor.name]}),T.workOrderFile&&e.jsxs("div",{className:"mt-1 text-xs text-blue-500",children:["ð ",T.workOrderFile.name]})]}),e.jsx("td",{className:"px-4 py-2",children:T.schemeId??"-"}),e.jsx("td",{className:"px-4 py-2",children:T.name}),e.jsx("td",{className:"px-4 py-2",children:T.financialYear}),e.jsxs("td",{className:"px-4 py-2 text-right",children:["â¹",(T.adminApprovedAmount??0).toLocaleString()]}),e.jsxs("td",{className:"px-4 py-2 text-right",children:["â¹",(T.grossTotal??0).toLocaleString()]}),e.jsx("td",{className:"px-4 py-2 text-center",children:Yn(T.status)})]},T.id)),c.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"text-center text-gray-400 py-6",children:"No works found for selected filter"})})]})]})}),e.jsx(qn,{open:i.open,onClose:()=>u({open:!1,work:null}),work:i.work,onAssign:T=>d(i.work.id,T),vendors:a,taxes:l})]})},Ye=[{id:467,workCode:"ML/2425/2572",name:"ML/2425/2572 à¤à¤®à¤¦à¤¾à¤° à¤¸à¥à¤¥à¤¾à¤¨à¤¿à¤ à¤µà¤¿à¤à¤¾à¤¸ à¤à¤¾à¤°à¥à¤¯à¤à¥à¤°à¤® à¤¸à¤¨ à¥¨à¥¦à¥¨à¥ª-à¥¨à¥« à¤à¤à¤¤à¤°à¥à¤à¤¤ à¤¬à¤¾à¤°à¤¾à¤®à¤¤à¥ à¤¯à¥à¤¥à¥ à¤¹à¥à¤£à¤¾à¤±à¥à¤¯à¤¾ à¤¶à¤¿à¤µà¤à¤¤à¥à¤°à¤ªà¤¤à¥ à¤°à¤¾à¤à¥à¤¯ à¤¸à¥à¤¤à¤°à¥à¤¯ à¤à¤¬à¤¡à¥à¤¡à¥ à¤¸à¥à¤ªà¤°à¥à¤§à¥à¤à¤°à¤¿à¤¤à¤¾ à¤¨à¤¿à¤§à¥ à¤à¤ªà¤²à¤¬à¥à¤§ à¤à¤°à¤£à¥à¤¬à¤¾à¤¬à¤¤",district:"Pune",constituency:"Baramati",mlaName:"Ajit Anantrao Pawar",financialYear:"2024-25",adminApprovedAmount:2999,workPortionAmount:2800,taxDeductionAmount:100,vendor:{id:"1189",name:"Shree Ganesh Constructions Pvt. Ltd.",aadhar:"123412341234"}},{id:468,workCode:"ML/2425/2151",name:"ML/2425/2151 à¤à¤¾à¤à¤¬à¥à¤¤ à¤¯à¥à¤¥à¥ à¤à¤¾à¤à¤¬à¥à¤¤ à¤à¥à¤à¤­à¥à¤¤ à¤°à¥à¤¡ à¤¤à¥ à¤à¤³à¤®à¤à¤¾à¤ à¤®à¤à¤¦à¤¿à¤° à¤°à¤¸à¥à¤¤à¤¾Â à¤à¤°à¤£à¥Â à¤¤à¤¾.à¤¶à¤¿à¤°à¥à¤°",district:"Pune",constituency:"Shirur",mlaName:"Dnyaneshwar Katke",financialYear:"2024-25",adminApprovedAmount:1400,workPortionAmount:1200,taxDeductionAmount:110,vendor:{id:"1189",name:"Maratha Nirman & Co.",aadhar:"987654321098"}},{id:469,workCode:"ML/2425/2569",name:"ML/2425/2569 à¤à¤®à¤¦à¤¾à¤° à¤¸à¥à¤¥à¤¾à¤¨à¤¿à¤ à¤µà¤¿à¤à¤¾à¤¸ à¤à¤¾à¤°à¥à¤¯à¤à¥à¤°à¤® à¤¸à¤¨ à¥¨à¥¦à¥¨à¥ª-à¥¨à¥« à¤à¤à¤¤à¤°à¥à¤à¤¤ à¤¬à¤¾à¤°à¤¾à¤®à¤¤à¥ à¤¯à¥à¤¥à¥ à¤¹à¥à¤£à¤¾à¤±à¥à¤¯à¤¾ à¤¶à¤¿à¤µà¤à¤¤à¥à¤°à¤ªà¤¤à¥ à¤°à¤¾à¤à¥à¤¯ à¤¸à¥à¤¤à¤°à¥à¤¯ à¤à¤¬à¤¡à¥à¤¡à¥ à¤¸à¥à¤ªà¤°à¥à¤§à¥à¤à¤°à¤¿à¤¤à¤¾ à¤¨à¤¿à¤§à¥ à¤à¤ªà¤²à¤¬à¥à¤§ à¤à¤°à¤£à¥à¤¬à¤¾à¤¬à¤¤",district:"Pune",constituency:"Baramati",mlaName:"Ajit Anantrao Pawar",financialYear:"2024-25",adminApprovedAmount:1990,workPortionAmount:1800,taxDeductionAmount:100,vendor:{id:"1189",name:"Sadguru Infrastructure Ltd.",aadhar:"456789123456"}},{id:470,workCode:"ML/2425/0325",name:"ML/2425/0325 à¤®à¥à¤à¥ à¤µà¥à¤¹à¥à¤°à¤à¤¾à¤µ à¤¯à¥à¤¥à¥ à¤­à¥à¤°à¤µà¤¨à¤¾à¤¥ à¤®à¤à¤¦à¤¿à¤°à¤¾à¤¸à¤®à¥à¤°à¥à¤² à¤à¥à¤°à¤¾à¤®à¤ªà¤à¤à¤¾à¤¯à¤¤à¥à¤à¥à¤¯à¤¾ à¤®à¥à¤à¤³à¥à¤¯à¤¾ à¤à¤¾à¤à¥à¤¤ à¤¸à¤­à¤¾à¤®à¤à¤¡à¤ª à¤¬à¤¾à¤à¤§à¤£à¥.à¤¤à¤¾.à¤®à¤¾à¤µà¤³.à¤à¤¿.à¤ªà¥à¤£à¥ à¤à¥à¤°à¤¾à¤®à¤ªà¤à¤à¤¾à¤¯à¤¤ à¤µà¥à¤¹à¥à¤°à¤à¤¾à¤µ à¤®à¤¾à¤²à¤®à¤¤à¥à¤¤à¤¾ à¤à¥à¤°à¤®à¤¾à¤à¤ 120 Lat18.784103Â Long73.465508",district:"Pune",constituency:"Maval",mlaName:"Sunil Shankarrao Shelke",financialYear:"2024-25",adminApprovedAmount:1600,workPortionAmount:1400,taxDeductionAmount:100,vendor:{id:"1189",name:"Maharashtra Builders & Developers",aadhar:"321098765432"}},{id:477,workCode:"ML/2425/2561",name:"ML/2425/2561 à¤¬à¤¾à¤°à¤¾à¤®à¤¤à¥ à¤¯à¥à¤¥à¥ à¤à¤¯à¥à¤à¤¿à¤¤ à¤à¤°à¤£à¥à¤¯à¤¾à¤¤ à¤¯à¥à¤£à¤¾-à¤¯à¤¾ à¤¶à¤¿à¤µà¤à¤¤à¥à¤°à¤ªà¤¤à¥ à¤°à¤¾à¤à¥à¤¯à¤¸à¥à¤¤à¤°à¥à¤¯ à¤à¤¬à¥à¤¬à¤¡à¥ à¤¸à¥à¤ªà¤°à¥à¤§à¥à¤à¤°à¤¿à¤¤à¤¾ 10 à¤²à¤à¥à¤· à¤¨à¤¿à¤§à¥ à¤¦à¥à¤£à¥",district:"Pune",constituency:"Baramati",mlaName:"Ajit Anantrao Pawar",financialYear:"2024-25",adminApprovedAmount:1e3,workPortionAmount:1e3,taxDeductionAmount:0,vendor:{id:"1189",name:"Sahyadri Construction Co.",aadhar:"147852369258"}}],Jn=[{id:"MLD-467-1",workId:467,amount:500,date:"2025-02-01",status:"Pending",remarks:"First Installment"},{id:"MLD-468-1",workId:468,amount:500,date:"2025-02-02",status:"Pending",remarks:"First Installment"},{id:"MLD-469-1",workId:469,amount:500,date:"2025-02-03",status:"Pending",remarks:"First Installment"},{id:"MLD-470-1",workId:470,amount:500,date:"2025-02-04",status:"Pending",remarks:"First Installment"},{id:"MLD-473-1",workId:473,amount:500,date:"2025-02-05",status:"Pending",remarks:"First Installment"},{id:"MLD-473-2",workId:473,amount:500,date:"2025-03-05",status:"Approved",remarks:"Second Installment"},{id:"MLD-474-1",workId:474,amount:500,date:"2025-02-06",status:"Pending",remarks:"First Installment"},{id:"MLD-475-1",workId:475,amount:500,date:"2025-02-07",status:"Pending",remarks:"First Installment"},{id:"MLD-475-2",workId:475,amount:500,date:"2025-03-07",status:"Approved",remarks:"Second Installment"},{id:"MLD-476-1",workId:476,amount:500,date:"2025-02-08",status:"Pending",remarks:"First Installment"},{id:"MLD-476-2",workId:476,amount:500,date:"2025-03-08",status:"Approved",remarks:"Second Installment"},{id:"MLD-477-1",workId:477,amount:500,date:"2025-02-09",status:"Pending",remarks:"First Installment"},{id:"MLD-477-2",workId:477,amount:500,date:"2025-03-09",status:"Approved",remarks:"Second Installment"}];function Zn(){const[s,n]=t.useState(""),[a,r]=t.useState(""),[l,x]=t.useState(""),[o,m]=t.useState(null),i=t.useRef(null),u=t.useMemo(()=>[...new Set(Ye.map(f=>f.financialYear))],[]),j=t.useMemo(()=>[...new Set(Ye.map(f=>f.district))],[]),A=t.useMemo(()=>[...new Set(Ye.map(f=>f.mlaName))],[]),S=t.useMemo(()=>Jn.filter(f=>{const V=Ye.find(w=>w.id===f.workId);return V?(!s||V.financialYear===s)&&(!a||V.district===a)&&(!l||V.mlaName===l):!1}),[s,a,l]),R=async()=>{if(!i.current||!o)return;const f=await mn(i.current,{scale:2}),V=f.toDataURL("image/png"),w=new Qa({unit:"pt",format:"a4"}),c=20,d=w.internal.pageSize.getWidth()-c*2,P=f.height*d/f.width;w.addImage(V,"PNG",c,c,d,P),w.save(`${o.id}.pdf`)},D=new Date;return D.toLocaleDateString("en-GB"),D.toLocaleTimeString("en-GB"),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(I,{className:"border rounded shadow-sm",children:[e.jsxs(G,{className:"flex flex-wrap items-center gap-4",children:[e.jsx(F,{className:"flex-1 text-xl",children:"MLA/MLC Fund Demands"}),e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsxs(X,{value:s,onValueChange:n,children:[e.jsx(K,{className:"w-32",children:e.jsx(Q,{placeholder:"All FYs"})}),e.jsx(J,{children:u.map(f=>e.jsx(U,{value:f,children:f},f))})]}),e.jsxs(X,{value:a,onValueChange:r,children:[e.jsx(K,{className:"w-32",children:e.jsx(Q,{placeholder:"All Districts"})}),e.jsx(J,{children:j.map(f=>e.jsx(U,{value:f,children:f},f))})]}),e.jsxs(X,{value:l,onValueChange:x,children:[e.jsx(K,{className:"w-48",children:e.jsx(Q,{placeholder:"All MLAs/MLCs"})}),e.jsx(J,{children:A.map(f=>e.jsx(U,{value:f,children:f},f))})]})]})]}),e.jsx(E,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border-collapse",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:["FY","District","MLA/MLC Name","Demand ID","Amount","Date","Status","Details"].map(f=>e.jsx("th",{className:"border px-3 py-2 text-left text-sm font-medium",children:f},f))})}),e.jsx("tbody",{children:S.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"py-6 text-center text-gray-500",children:"No records."})}):S.map(f=>{const V=Ye.find(w=>w.id===f.workId);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border px-3 py-2 text-sm",children:V.financialYear}),e.jsx("td",{className:"border px-3 py-2 text-sm",children:V.district}),e.jsx("td",{className:"border px-3 py-2 text-sm",children:V.mlaName}),e.jsx("td",{className:"border px-3 py-2 text-sm",children:f.id}),e.jsxs("td",{className:"border px-3 py-2 text-sm",children:["â¹",f.amount.toLocaleString()]}),e.jsx("td",{className:"border px-3 py-2 text-sm",children:f.date}),e.jsx("td",{className:"border px-3 py-2 text-sm",children:f.status}),e.jsx("td",{className:"border px-3 py-2 text-center",children:e.jsx(L,{size:"sm",variant:"ghost",onClick:()=>m(f),children:e.jsx(je,{className:"w-4 h-4 text-blue-600"})})})]},f.id)})})]})})})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>m(null),children:e.jsxs("div",{ref:i,className:"relative bg-white rounded-md shadow-lg w-full max-w-3xl p-6 space-y-4 text-sm",onClick:f=>f.stopPropagation(),children:[e.jsx("button",{onClick:()=>m(null),className:"absolute top-3 right-3 p-1 hover:bg-gray-100 rounded-full",children:e.jsx(be,{size:18})}),e.jsxs("div",{className:"text-center space-y-1",children:[e.jsx("img",{src:"./logo.png",alt:"Gov Seal",className:"h-12 mx-auto"}),e.jsx("h2",{className:"text-base font-bold",children:"Government of Maharashtra"}),e.jsx("p",{className:"text-xs text-gray-600 -mt-1",children:"Finance Department"}),e.jsx("p",{className:"text-xs font-medium",children:"Work Payment Receipt"})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-700 border-y py-1",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"Voucher ID:"})," ",o.id]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Date:"})," ",new Date().toLocaleDateString("en-IN")]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Time:"})," ",new Date().toLocaleTimeString("en-IN")]})]}),(()=>{var d;const f=Ye.find(P=>P.id===o.workId),V=f.taxDeductionAmount||0,w=o.amount+V,c=P=>P.toLocaleString("en-IN")+" Rupees Only";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"border rounded p-3 bg-gray-50",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"FY:"})," ",f.financialYear]}),e.jsxs("p",{children:[e.jsx("strong",{children:"District:"})," ",f.district]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Scheme:"})," ",f.scheme||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Work Title:"})," ",f.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"IA Name:"})," ",f.implementingAgency||"N/A"]})]}),e.jsxs("div",{className:"border rounded p-3 bg-gray-50",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Admin Approved Amount:"})," â¹",f.adminApprovedAmount.toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gross Work Order:"})," â¹",w.toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Previously Released:"})," â¹",((d=f.fundsReleasedBefore)==null?void 0:d.toLocaleString())||"0"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Disbursed Now:"})," â¹",o.amount.toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount in Words:"})," ",c(o.amount)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"border rounded p-3 bg-gray-50",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Vendor:"})," ",f.vendor.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Aadhar:"})," ",f.vendor.aadhar]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Number:"})," ********1234"]})]}),e.jsxs("div",{className:"border rounded p-3 bg-gray-50",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Bank:"})," State Bank of India"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"IFSC:"})," SBIN0000456"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"UTR No:"})," UTR20250717001"]})]})]})]})})(),e.jsxs("div",{className:"pt-3 border-t text-right text-xs",children:[e.jsx("p",{className:"text-gray-600",children:"Authorized Signatory"}),e.jsx("div",{className:"h-10 border-b w-40 ml-auto mt-1"})]}),e.jsxs("div",{className:"flex justify-end gap-2 text-xs",children:[e.jsx(L,{variant:"outline",size:"sm",onClick:()=>m(null),children:"Close"}),e.jsx(L,{size:"sm",onClick:R,children:"Download PDF"})]})]})})]})}function Xn(){return e.jsx("div",{})}const _e=Vt,es=Bt,Qn=Gt,er=Ba,xt=t.forwardRef(({className:s,...n},a)=>e.jsx(Ga,{ref:a,className:H("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n}));xt.displayName=Ga.displayName;const Ie=t.forwardRef(({className:s,children:n,...a},r)=>e.jsxs(Qn,{children:[e.jsx(xt,{}),e.jsxs(Va,{ref:r,className:H("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[n,e.jsxs(Ba,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ie.displayName=Va.displayName;const ss=({className:s,...n})=>e.jsx("div",{className:H("flex flex-col space-y-1.5 text-center sm:text-left",s),...n});ss.displayName="DialogHeader";const Hs=({className:s,...n})=>e.jsx("div",{className:H("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...n});Hs.displayName="DialogFooter";const as=t.forwardRef(({className:s,...n},a)=>e.jsx(Ua,{ref:a,className:H("text-lg font-semibold leading-none tracking-tight",s),...n}));as.displayName=Ua.displayName;const sr=t.forwardRef(({className:s,...n},a)=>e.jsx(_a,{ref:a,className:H("text-sm text-muted-foreground",s),...n}));sr.displayName=_a.displayName;const sa={"à¤ªà¥à¤°à¤¥à¤® à¤¹à¤ªà¥à¤¤à¤¾":"First Installment","à¤ªà¤¹à¤¿à¤²à¥ à¤®à¤¾à¤à¤£à¥":"Initial Request","à¤¦à¥à¤¸à¤°à¥ à¤®à¤¾à¤à¤£à¥":"Second Installment"},ar=({open:s,onClose:n,demand:a,work:r,demands:l=[]})=>{if(!s||!a||!r)return null;const x=l.filter(R=>R.workId===r.id),o=(r.workPortionAmount??0)+(r.taxDeductionAmount??0),m=x.reduce((R,D)=>R+(D.amount??0),0),i=o-m,u=sa[a.remarks]||a.remarks,j=()=>alert(`Approved ${a.id}`),A=()=>alert(`Rejected ${a.id}`),S=()=>alert(`Sent Back ${a.id}`);return e.jsxs("div",{className:`
        bg-white rounded-2xl shadow-lg
        w-full max-w-[90vw] md:max-w-[1100px]
        max-h-[90vh] overflow-y-auto
        relative p-6
      `,children:[e.jsx("button",{className:"absolute top-4 right-4",onClick:n,children:e.jsx(be,{className:"w-5 h-5 text-gray-400 hover:text-red-500"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs(I,{children:[e.jsx(G,{children:e.jsx(F,{className:"text-lg",children:"Work & MLA Overview"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"MLA/MLC Name"}),e.jsx("div",{children:r.mlaName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"District"}),e.jsx("div",{children:r.district})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Constituency"}),e.jsx("div",{children:r.constituency})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Work Code"}),e.jsx("div",{children:r.workCode})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Work Title"}),e.jsx("div",{children:r.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Financial Year"}),e.jsx("div",{children:r.financialYear})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"AA Amount"}),e.jsxs("div",{children:["â¹",r.adminApprovedAmount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Gross Amt"}),e.jsxs("div",{children:["â¹",o.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Total Demanded"}),e.jsxs("div",{children:["â¹",m.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Balance Amount"}),e.jsxs("div",{className:"font-bold",children:["â¹",i.toLocaleString()]})]})]})}),e.jsxs(I,{children:[e.jsx(G,{children:e.jsx(F,{className:"text-base",children:"File Attachments"})}),e.jsx(E,{children:e.jsxs("div",{className:"flex space-x-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pe,{className:"w-4 h-4"})," Work Order"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pe,{className:"w-4 h-4"})," AA Order"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pe,{className:"w-4 h-4"})," Previous Releases"]})]})})]})]}),e.jsxs(I,{children:[e.jsxs("div",{children:[e.jsx(G,{children:e.jsx(F,{className:"text-base",children:"Vendor Details"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Vendor ID"}),e.jsx("div",{children:r.vendor.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Vendor Name"}),e.jsx("div",{children:r.vendor.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Aadhar No."}),e.jsxs("div",{children:["xxxx-xxxx-",r.vendor.aadhar.slice(-4)]})]})]})})]}),e.jsxs(I,{children:[e.jsx(G,{children:e.jsx(F,{className:"text-lg",children:"Current Demand Details"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Demand ID"}),e.jsx("div",{children:a.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Date"}),e.jsx("div",{children:a.date})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Demand Amount"}),e.jsxs("div",{children:["â¹",a.amount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Status"}),e.jsx("div",{children:e.jsx(le,{children:a.status})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Remark"}),e.jsx("div",{children:u})]})]})})]})]})]}),e.jsxs(I,{className:"mb-4",children:[e.jsx(G,{children:e.jsx(F,{className:"text-base",children:"All Demands for this Work"})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-xs border",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-1 border",children:"Demand ID"}),e.jsx("th",{className:"px-2 py-1 border",children:"Date"}),e.jsx("th",{className:"px-2 py-1 border",children:"Amount"}),e.jsx("th",{className:"px-2 py-1 border",children:"Status"}),e.jsx("th",{className:"px-2 py-1 border",children:"Remark"})]})}),e.jsx("tbody",{children:x.length>0?x.map(R=>e.jsxs("tr",{className:R.id===a.id?"bg-primary/10 font-semibold":void 0,children:[e.jsx("td",{className:"px-2 py-1 border",children:R.id}),e.jsx("td",{className:"px-2 py-1 border",children:R.date}),e.jsxs("td",{className:"px-2 py-1 border",children:["â¹",R.amount.toLocaleString()]}),e.jsx("td",{className:"px-2 py-1 border",children:e.jsx(le,{children:R.status})}),e.jsx("td",{className:"px-2 py-1 border",children:sa[R.remarks]||R.remarks})]},R.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center text-gray-400 py-4",children:"No demands"})})})]})})})]}),e.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[e.jsxs(L,{variant:"destructive",onClick:A,children:[e.jsx(Ze,{className:"w-4 h-4 mr-1"})," Reject"]}),e.jsxs(L,{variant:"outline",onClick:S,children:[e.jsx(za,{className:"w-4 h-4 mr-1"})," Send Back"]}),e.jsxs(L,{variant:"default",onClick:j,children:[e.jsx(us,{className:"w-4 h-4 mr-1"})," Approve"]})]})]})},qe=[{id:467,workCode:"ML/2425/2572",name:"ML/2425/2572 à¤à¤®à¤¦à¤¾à¤° à¤¸à¥à¤¥à¤¾à¤¨à¤¿à¤ à¤µà¤¿à¤à¤¾à¤¸ à¤à¤¾à¤°à¥à¤¯à¤à¥à¤°à¤® à¤¸à¤¨ à¥¨à¥¦à¥¨à¥ª-à¥¨à¥« à¤à¤à¤¤à¤°à¥à¤à¤¤ à¤¬à¤¾à¤°à¤¾à¤®à¤¤à¥ à¤¯à¥à¤¥à¥ à¤¹à¥à¤£à¤¾à¤±à¥à¤¯à¤¾ à¤¶à¤¿à¤µà¤à¤¤à¥à¤°à¤ªà¤¤à¥ à¤°à¤¾à¤à¥à¤¯ à¤¸à¥à¤¤à¤°à¥à¤¯ à¤à¤¬à¤¡à¥à¤¡à¥ à¤¸à¥à¤ªà¤°à¥à¤§à¥à¤à¤°à¤¿à¤¤à¤¾ à¤¨à¤¿à¤§à¥ à¤à¤ªà¤²à¤¬à¥à¤§ à¤à¤°à¤£à¥à¤¬à¤¾à¤¬à¤¤",district:"Pune",constituency:"Baramati",mlaName:"Ajit Anantrao Pawar",financialYear:"2024-25",adminApprovedAmount:2999,workPortionAmount:2800,taxDeductionAmount:100,vendor:{id:"1189",name:"Shree Ganesh Constructions Pvt. Ltd.",aadhar:"123412341234"}},{id:468,workCode:"ML/2425/2151",name:"ML/2425/2151 à¤à¤¾à¤à¤¬à¥à¤¤ à¤¯à¥à¤¥à¥ à¤à¤¾à¤à¤¬à¥à¤¤ à¤à¥à¤à¤­à¥à¤¤ à¤°à¥à¤¡ à¤¤à¥ à¤à¤³à¤®à¤à¤¾à¤ à¤®à¤à¤¦à¤¿à¤° à¤°à¤¸à¥à¤¤à¤¾Â à¤à¤°à¤£à¥Â à¤¤à¤¾.à¤¶à¤¿à¤°à¥à¤°",district:"Pune",constituency:"Shirur",mlaName:"Dnyaneshwar Katke",financialYear:"2024-25",adminApprovedAmount:1400,workPortionAmount:1200,taxDeductionAmount:110,vendor:{id:"1189",name:"Maratha Nirman & Co.",aadhar:"987654321098"}},{id:469,workCode:"ML/2425/2569",name:"ML/2425/2569 à¤à¤®à¤¦à¤¾à¤° à¤¸à¥à¤¥à¤¾à¤¨à¤¿à¤ à¤µà¤¿à¤à¤¾à¤¸ à¤à¤¾à¤°à¥à¤¯à¤à¥à¤°à¤® à¤¸à¤¨ à¥¨à¥¦à¥¨à¥ª-à¥¨à¥« à¤à¤à¤¤à¤°à¥à¤à¤¤ à¤¬à¤¾à¤°à¤¾à¤®à¤¤à¥ à¤¯à¥à¤¥à¥ à¤¹à¥à¤£à¤¾à¤±à¥à¤¯à¤¾ à¤¶à¤¿à¤µà¤à¤¤à¥à¤°à¤ªà¤¤à¥ à¤°à¤¾à¤à¥à¤¯ à¤¸à¥à¤¤à¤°à¥à¤¯ à¤à¤¬à¤¡à¥à¤¡à¥ à¤¸à¥à¤ªà¤°à¥à¤§à¥à¤à¤°à¤¿à¤¤à¤¾ à¤¨à¤¿à¤§à¥ à¤à¤ªà¤²à¤¬à¥à¤§ à¤à¤°à¤£à¥à¤¬à¤¾à¤¬à¤¤",district:"Pune",constituency:"Baramati",mlaName:"Ajit Anantrao Pawar",financialYear:"2024-25",adminApprovedAmount:1990,workPortionAmount:1800,taxDeductionAmount:100,vendor:{id:"1189",name:"Sadguru Infrastructure Ltd.",aadhar:"456789123456"}},{id:470,workCode:"ML/2425/0325",name:"ML/2425/0325 à¤®à¥à¤à¥ à¤µà¥à¤¹à¥à¤°à¤à¤¾à¤µ à¤¯à¥à¤¥à¥ à¤­à¥à¤°à¤µà¤¨à¤¾à¤¥ à¤®à¤à¤¦à¤¿à¤°à¤¾à¤¸à¤®à¥à¤°à¥à¤² à¤à¥à¤°à¤¾à¤®à¤ªà¤à¤à¤¾à¤¯à¤¤à¥à¤à¥à¤¯à¤¾ à¤®à¥à¤à¤³à¥à¤¯à¤¾ à¤à¤¾à¤à¥à¤¤ à¤¸à¤­à¤¾à¤®à¤à¤¡à¤ª à¤¬à¤¾à¤à¤§à¤£à¥.à¤¤à¤¾.à¤®à¤¾à¤µà¤³.à¤à¤¿.à¤ªà¥à¤£à¥ à¤à¥à¤°à¤¾à¤®à¤ªà¤à¤à¤¾à¤¯à¤¤ à¤µà¥à¤¹à¥à¤°à¤à¤¾à¤µ à¤®à¤¾à¤²à¤®à¤¤à¥à¤¤à¤¾ à¤à¥à¤°à¤®à¤¾à¤à¤ 120 Lat18.784103Â Long73.465508",district:"Pune",constituency:"Maval",mlaName:"Sunil Shankarrao Shelke",financialYear:"2024-25",adminApprovedAmount:1600,workPortionAmount:1400,taxDeductionAmount:100,vendor:{id:"1189",name:"Maharashtra Builders & Developers",aadhar:"321098765432"}}],aa=[{id:"MLD-467-1",workId:467,amount:500,date:"2025-02-01",status:"Pending",remarks:"First Installment"},{id:"MLD-468-1",workId:468,amount:500,date:"2025-02-02",status:"Pending",remarks:"First Installment"},{id:"MLD-469-1",workId:469,amount:500,date:"2025-02-03",status:"Pending",remarks:"First Installment"},{id:"MLD-470-1",workId:470,amount:500,date:"2025-02-04",status:"Pending",remarks:"First Installment"},{id:"MLD-473-1",workId:473,amount:500,date:"2025-02-05",status:"Pending",remarks:"First Installment"},{id:"MLD-473-2",workId:473,amount:500,date:"2025-03-05",status:"Approved",remarks:"Second Installment"},{id:"MLD-474-1",workId:474,amount:500,date:"2025-02-06",status:"Pending",remarks:"First Installment"},{id:"MLD-475-1",workId:475,amount:500,date:"2025-02-07",status:"Pending",remarks:"First Installment"},{id:"MLD-475-2",workId:475,amount:500,date:"2025-03-07",status:"Approved",remarks:"Second Installment"},{id:"MLD-476-1",workId:476,amount:500,date:"2025-02-08",status:"Pending",remarks:"First Installment"},{id:"MLD-476-2",workId:476,amount:500,date:"2025-03-08",status:"Approved",remarks:"Second Installment"},{id:"MLD-477-1",workId:477,amount:500,date:"2025-02-09",status:"Pending",remarks:"First Installment"},{id:"MLD-477-2",workId:477,amount:500,date:"2025-03-09",status:"Approved",remarks:"Second Installment"}];function tr(){const[s,n]=t.useState("All"),[a,r]=t.useState("All"),[l,x]=t.useState("All"),[o,m]=t.useState("All"),[i,u]=t.useState(!1),[j,A]=t.useState(null),S=t.useMemo(()=>["All",...new Set(qe.map(c=>c.financialYear))],[]),R=t.useMemo(()=>["All",...new Set(qe.map(c=>c.district))],[]),D=t.useMemo(()=>["All",...new Set(qe.map(c=>c.constituency))],[]),f=t.useMemo(()=>["All",...new Set(qe.map(c=>c.mlaName))],[]),V=t.useMemo(()=>aa.filter(c=>{const d=qe.find(P=>P.id===c.workId);return!(s!=="All"&&d.financialYear!==s||a!=="All"&&d.district!==a||l!=="All"&&d.constituency!==l||o!=="All"&&d.mlaName!==o)}),[s,a,l,o]),w=c=>{A(c),u(!0)};return e.jsxs("div",{className:"p-6 bg-gray-50 space-y-6",children:[e.jsx(I,{children:e.jsx(E,{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 py-4",children:[{label:"Financial Year",value:s,onChange:n,options:S},{label:"Nodal District",value:a,onChange:r,options:R},{label:"Assembly Constituency",value:l,onChange:x,options:D},{label:"MLA/MLC Name",value:o,onChange:m,options:f}].map(({label:c,options:d,value:P,onChange:B})=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-600 text-xs mb-1",children:c}),e.jsxs(X,{value:P,onValueChange:B,children:[e.jsx(K,{className:"h-10 bg-white text-sm rounded-sm border border-gray-300",children:e.jsx(Q,{placeholder:"All"})}),e.jsx(J,{children:d.map(ee=>e.jsx(U,{value:ee,children:ee},ee))})]})]},c))})}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{className:"text-lg text-gray-800",children:"MLA/MLC Fund Demands"}),e.jsx("span",{className:"text-sm text-red-600 italic",children:"*All Amounts Are in Thousands"})]}),e.jsx(E,{className:"overflow-x-auto p-0",children:e.jsxs("table",{className:"min-w-full border border-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700 uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-3 py-2 text-left",children:"Sr No"}),e.jsx("th",{className:"border px-3 py-2 text-left",children:"District"}),e.jsx("th",{className:"border px-3 py-2 text-left",children:"Demand ID"}),e.jsx("th",{className:"border px-3 py-2 text-left",children:"MLA/MLC Account Name"}),e.jsx("th",{className:"border px-3 py-2 text-right",children:"AA Amount"}),e.jsx("th",{className:"border px-3 py-2 text-right",children:"Gross Work Order Amt"}),e.jsx("th",{className:"border px-3 py-2 text-right",children:"Demand Amount"}),e.jsx("th",{className:"border px-3 py-2 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"py-6 text-center text-gray-500",children:"No records found"})}):V.map((c,d)=>{const P=qe.find(ee=>ee.id===c.workId);if(!P)return null;const B=P.workPortionAmount+P.taxDeductionAmount;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border px-3 py-2",children:d+1}),e.jsx("td",{className:"border px-3 py-2",children:P.district}),e.jsx("td",{className:"border px-3 py-2",children:c.id}),e.jsx("td",{className:"border px-3 py-2",children:P.mlaName}),e.jsx("td",{className:"border px-3 py-2 text-right",children:P.adminApprovedAmount}),e.jsx("td",{className:"border px-3 py-2 text-right",children:B}),e.jsx("td",{className:"border px-3 py-2 text-right",children:c.amount.toLocaleString()}),e.jsx("td",{className:"border px-3 py-2 text-center",children:e.jsxs(_e,{open:i&&j===c.id,onOpenChange:u,children:[e.jsx(es,{asChild:!0,children:e.jsx(L,{size:"icon",variant:"ghost",onClick:()=>w(c.id),children:e.jsx(je,{className:"w-5 h-5 text-blue-600"})})}),e.jsx(Ie,{className:"w-[90vw] max-w-[1200px]",children:e.jsx(ar,{open:i&&j===c.id,onClose:()=>u(!1),demand:c,work:P,demands:aa})})]})})]},c.id)})})]})})]})]})}const js={data:[{district:"PUNE",taluka:"Pimpri",type:"MLA",term:15,name:"Anna Dadu Bansode",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:2e4},{district:"PUNE",taluka:"Baramati",type:"MLA",term:14,name:"Ajit Anantrao Pawar",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",budget:5e4,fundUtilized:0,balance:5e4,pendingDemands:1e4}]},nr=()=>{const s=parseInt(ie.financialYear,10),n=`${s}-${s+1}`,[a,r]=t.useState(n),[l,x]=t.useState("DAP"),[o,m]=t.useState("All"),[i,u]=t.useState("All"),[j,A]=t.useState("All"),[S,R]=t.useState("All"),[D,f]=t.useState("All"),[V,w]=t.useState(null),[c,d]=t.useState(!1);t.useEffect(()=>{m("All"),u("All"),A("All"),R("All"),f("All"),w(null),d(!1)},[l]),t.useEffect(()=>{u("All"),d(!1)},[o]),t.useEffect(()=>{R("All"),d(!1)},[j]);const P=t.useMemo(()=>["All",n],[n]),B=["DAP","ML","HADP"],ee=t.useMemo(()=>["All",...new Set(ie.data.map(y=>y.district))],[]),T=t.useMemo(()=>{const y=ie.data.filter(W=>o==="All"||W.district===o).map(W=>W.demandNumber);return["All",...new Set(y)]},[o]),h=t.useMemo(()=>["All",...new Set(js.data.map(y=>y.district))],[]),v=t.useMemo(()=>{const y=js.data.filter(W=>j==="All"||W.district===j).map(W=>W.name);return["All",...new Set(y)]},[j]),p=t.useMemo(()=>["All",...Array.from(new Set(we.map(y=>y.taluka)))],[]),C=t.useMemo(()=>ie.data.filter(y=>(a==="All"||`${ie.financialYear}-2026`===a)&&(o==="All"||y.district===o)&&(i==="All"||y.demandNumber===i)&&(!c||y.demandsPendingForApproval>0)).map(y=>({...y,key:`${y.demandNumber}|${y.district}`})),[a,o,i,c]),g=t.useMemo(()=>js.data.filter(y=>j==="All"||y.district===j).filter(y=>S==="All"||y.name===S).filter(y=>!c||y.pendingDemands>0),[j,S,c]),q=t.useMemo(()=>{const y={};we.forEach(ae=>{D!=="All"&&ae.taluka!==D||(y[ae.demandCode]||(y[ae.demandCode]={budget:0,utilized:0,pendingDemands:0,balance:0,taluka:ae.taluka}),y[ae.demandCode].budget+=ae.demandAmount,ae.status==="Approved"?y[ae.demandCode].utilized+=ae.demandAmount:(y[ae.demandCode].balance+=ae.demandAmount,y[ae.demandCode].pendingDemands+=ae.demandAmount),y[ae.demandCode].taluka=ae.taluka)});let W=Object.entries(y).map(([ae,b])=>({key:ae,demandCode:ae,...b}));return W.sort((ae,b)=>ae.balance>0&&b.balance===0?1:ae.balance===0&&b.balance>0?-1:0),W.filter(ae=>!c||ae.balance>0)},[c,D]),Y=y=>(y/1).toFixed(1),z=(y,W)=>W>0?`${(y/W*100).toFixed(1)}%`:"0%",k=C.reduce((y,W)=>y+W.budget,0),Z=C.reduce((y,W)=>y+W.fundsDistributed,0),me=C.reduce((y,W)=>y+W.demandsPendingForApproval,0),de=C.reduce((y,W)=>y+W.balanceBudget,0),xe=ie.data.reduce((y,W)=>y+W.budget,0),fe=js.data.reduce((y,W)=>y+W.budget,0),Ee=we.reduce((y,W)=>y+W.demandAmount,0),Oe=t.useMemo(()=>C.reduce((y,W)=>(y.budget+=W.budget,y.distributed+=W.fundsDistributed,y.pending+=W.demandsPendingForApproval,y.balance+=W.balanceBudget,y),{budget:0,distributed:0,pending:0,balance:0}),[C]),Te=t.useMemo(()=>g.reduce((y,W)=>(y.budget+=W.budget,y.utilized+=W.fundUtilized,y.pendingDemands+=W.pendingDemands,y.balance+=W.balance,y),{budget:0,utilized:0,pendingDemands:0,balance:0}),[g]),ge=t.useMemo(()=>q.reduce((y,W)=>(y.budget+=W.budget,y.utilized+=W.utilized,y.balance+=W.balance,y.pendingDemands+=W.pendingDemands,y),{budget:0,utilized:0,pendingDemands:0,balance:0}),[q]);if(V){const[y]=V.split("|"),ae=C.find(O=>O.key===V).schemes||[],b=ae.reduce((O,ye)=>(O.budget+=ye.budgetThousands,O),{budget:0});return e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx(L,{variant:"outline",onClick:()=>w(null),children:"â Back"}),e.jsxs("h2",{className:"text-lg font-semibold",children:["Schemes under ",y]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Ae,{className:"min-w-full border border-gray-300",children:[e.jsx(ve,{children:e.jsxs(se,{children:[e.jsx($,{className:"border px-2 py-1",children:"Sr No"}),e.jsx($,{className:"border px-2 py-1",children:"Scheme Name"}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Budget "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Pending"})]})}),e.jsx(Ce,{children:ae.map((O,ye)=>e.jsxs(se,{children:[e.jsx(N,{className:"border px-2 py-1 text-xs",children:ye+1}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:`${O.schemeCRC} (${O.objectCode}) ${O.schemeTitle}`}),e.jsx(N,{className:"border px-2 py-1 text-right text-xs",children:O.budgetThousands.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right text-xs",children:"â"})]},ye))}),e.jsx(Me,{children:e.jsxs(se,{children:[e.jsx(N,{colSpan:2,className:"border px-2 py-1 font-semibold text-xs",children:"Total"}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold text-xs",children:b.budget.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold text-xs",children:"â"})]})})]})})]})}return e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsx(M,{htmlFor:"fy",children:"Financial Year"}),e.jsxs(X,{id:"fy",value:a,onValueChange:r,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:P.map(y=>e.jsx(U,{value:y,children:y},y))})]})]}),e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsx(M,{htmlFor:"plan",children:"Plan Type"}),e.jsxs(X,{id:"plan",value:l,onValueChange:x,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:B.map(y=>e.jsx(U,{value:y,children:y},y))})]})]}),l==="DAP"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 min-w-[180px]",children:[e.jsx(M,{htmlFor:"district",children:"District"}),e.jsxs(X,{id:"district",value:o,onValueChange:m,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:ee.map(y=>e.jsx(U,{value:y,children:y},y))})]})]}),e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsx(M,{htmlFor:"demand",children:"Demand Number"}),e.jsxs(X,{id:"demand",value:i,onValueChange:u,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:T.map(y=>e.jsx(U,{value:y,children:y},y))})]})]})]}),l==="ML"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 min-w-[180px]",children:[e.jsx(M,{htmlFor:"mladist",children:"District"}),e.jsxs(X,{id:"mladist",value:j,onValueChange:A,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:h.map(y=>e.jsx(U,{value:y,children:y},y))})]})]}),e.jsxs("div",{className:"flex-1 min-w-[180px]",children:[e.jsx(M,{htmlFor:"mlaname",children:"MLA/MLC Account name "}),e.jsxs(X,{id:"mlaname",value:S,onValueChange:R,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:v.map(y=>e.jsx(U,{value:y,children:y},y))})]})]})]}),l==="HADP"&&e.jsxs("div",{className:"flex-1 min-w-[160px]",children:[e.jsx(M,{htmlFor:"hadp-taluka",children:"Taluka"}),e.jsxs(X,{id:"hadp-taluka",value:D,onValueChange:f,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:p.map(y=>e.jsx(U,{value:y,children:y},y))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[e.jsxs(Ge.div,{className:"col-span-6 sm:col-span-3 lg:col-span-2 border-l-4 border-purple-600 bg-white p-3 rounded-md shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsx("p",{className:"text-xs font-semibold text-purple-600 uppercase",children:"Overview"}),e.jsx("div",{className:"mt-1 text-xs space-y-0.5",children:[{label:"District Annual Plan:",val:xe},{label:"ML",val:fe},{label:"HADP",val:Ee}].map((y,W)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:y.label}),e.jsxs("span",{children:["â¹",Y(y.val)]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("small",{className:"text-gray-500",children:z(y.val,xe+fe+Ee)})})]},W))})]}),(l==="DAP"?[{title:"Total Budget ",value:k,whole:xe,color:"blue"},{title:"Funds Distributed",value:Z,whole:k,color:"green"},{title:"Remaining Balance",value:de,whole:k,color:"red"},{title:"Pending Demand Amount ",value:me,whole:k,color:"yellow"}]:l==="ML"?[{title:"Total Budget",value:Te.budget,whole:Te.budget,color:"green"},{title:"Disbursed Amount",value:Te.utilized,whole:Te.budget,color:"yellow"},{title:"Balance Amount",value:Te.balance,whole:Te.budget,color:"red"},{title:"Pending Demands",value:g.reduce((y,W)=>y+W.pendingDemands,0),whole:Te.budget,color:"orange"}]:[{title:"Budget",value:ge.budget,whole:ge.budget,color:"blue"},{title:"Approved",value:ge.utilized,whole:ge.budget,color:"green"},{title:"Pending",value:ge.balance,whole:ge.budget,color:"yellow"},{title:"Balance",value:ge.balance,whole:ge.budget,color:"red"}]).map((y,W)=>e.jsxs(Ge.div,{className:`col-span-6 sm:col-span-3 lg:col-span-1 border-l-4 border-${y.color}-500 bg-${y.color}-50 p-2 rounded-md shadow-sm cursor-pointer`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*(W+1)},whileHover:{scale:1.02},onClick:()=>{["Pending","Pending Demands"].includes(y.title)?d(ae=>!ae):d(!1)},children:[e.jsx("p",{className:`text-xs font-semibold text-${y.color}-700`,children:y.title}),e.jsx("p",{className:`mt-1 text-lg font-bold text-${y.color}-900`,children:["Pending","Pending Demands","Total Entries"].includes(y.title)?y.value:`â¹${Y(y.value)}`}),e.jsx("div",{className:"flex justify-end",children:e.jsx("small",{className:`text-${y.color}-700 opacity-80`,children:z(y.value,y.whole)})})]},W))]}),l==="DAP"&&e.jsxs(I,{className:"rounded-md shadow-sm",children:[e.jsxs(G,{className:"flex justify-between items-center",children:[e.jsx(F,{className:"text-sm",children:"Demand Summary"}),e.jsxs("div",{className:"flex gap-2 text-right",children:[e.jsx("span",{className:"text-[10px] text-red-500",children:"*Balance = Budget Amount- Fund Distributed |"}),e.jsx("span",{className:"text-[10px] text-red-500",children:"*Amounts In Thousand"})]})]}),e.jsx(E,{className:"overflow-x-auto p-0",children:e.jsxs(Ae,{className:"min-w-full border border-gray-300",children:[e.jsx(ve,{children:e.jsxs(se,{children:[e.jsx($,{className:"border px-2 py-1",children:"S.No"}),e.jsx($,{className:"border px-2 py-1",children:"Demand No."}),e.jsx($,{className:"border px-2 py-1",children:"District"}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Budget "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Funds Disbursed "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Pending demand Amount"}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Balance "})]})}),e.jsx(Ce,{children:C.map((y,W)=>e.jsxs(se,{children:[e.jsx(N,{className:"border px-2 py-1 text-xs",children:W+1}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:e.jsx(L,{variant:"link",onClick:()=>w(y.key),children:y.demandNumber})}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:y.district}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Y(y.budget)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Y(y.fundsDistributed)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:y.demandsPendingForApproval}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Y(y.balanceBudget)})]},y.key))}),e.jsx(Me,{children:e.jsxs(se,{children:[e.jsx(N,{colSpan:3,className:"border px-2 py-1 font-semibold",children:"Total"}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:Oe.budget.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:Oe.distributed.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:Oe.pending.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:Oe.balance.toLocaleString()})]})})]})})]}),l==="ML"&&e.jsxs(I,{className:"rounded-md shadow-sm",children:[e.jsx(G,{children:e.jsxs(F,{className:"text-sm",children:["MLA/MLC Details",e.jsxs("div",{className:"flex gap-2 text-right",children:[e.jsx("span",{className:"text-[10px] text-red-500",children:"*Balance = Budget Amount- Fund Distributed |"}),e.jsx("span",{className:"text-[10px] text-red-500",children:"*Amounts In Thousand"})]})]})}),e.jsx(E,{className:"overflow-x-auto p-0",children:e.jsxs(Ae,{className:"min-w-full border border-gray-300",children:[e.jsx(ve,{children:e.jsxs(se,{children:[e.jsx($,{className:"border px-2 py-1",children:"S.No"}),e.jsx($,{className:"border px-2 py-1",children:"MLA/MLC Name"}),e.jsx($,{className:"border px-2 py-1",children:"Assembly Constituency"}),e.jsx($,{className:"border px-2 py-1",children:"Term"}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Annual Budget Amount"}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Funds Disbursed "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Balance Amount "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Pending demands "})]})}),e.jsx(Ce,{children:g.map((y,W)=>e.jsxs(se,{children:[e.jsx(N,{className:"border px-2 py-1 text-xs",children:W+1}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:y.name}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:y.taluka}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:y.term}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Y(y.budget)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Y(y.fundUtilized)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Y(y.balance)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Y(y.pendingDemands)})]},`${y.name}|${W}`))}),e.jsx(Me,{children:e.jsxs(se,{children:[e.jsx(N,{colSpan:6,className:"border px-2 py-1 font-semibold",children:"Total"}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:Te.budget.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:Te.utilized.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:Te.balance.toLocaleString()})]})})]})})]}),l==="HADP"&&e.jsxs(I,{className:"rounded-md shadow-sm",children:[e.jsx(G,{children:e.jsx(F,{className:"text-sm",children:"HADP Summary"})}),e.jsx(E,{className:"overflow-x-auto p-0",children:e.jsxs(Ae,{className:"min-w-full border border-gray-300",children:[e.jsx(ve,{children:e.jsxs(se,{children:[e.jsx($,{className:"border px-2 py-1",children:"S.No"}),e.jsx($,{className:"border px-2 py-1",children:"Demand Code"}),e.jsx($,{className:"border px-2 py-1",children:"Taluka"}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Budget Amount "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Disbursed Amount"}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Remaning Balance "}),e.jsx($,{className:"border px-2 py-1 text-right",children:"Pending Demand Amount "})]})}),e.jsx(Ce,{children:q.map((y,W)=>e.jsxs(se,{children:[e.jsx(N,{className:"border px-2 py-1 text-xs",children:W+1}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:y.demandCode}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:y.taluka}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Y(y.budget)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Y(y.pendingDemands)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Y(y.utilized)}),e.jsx(N,{className:"border px-2 py-1 text-right",children:Y(y.balance)})]},y.key))}),e.jsx(Me,{children:e.jsxs(se,{children:[e.jsx(N,{colSpan:3,className:"border px-2 py-1 font-semibold",children:"Total"}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:ge.budget.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:ge.utilized.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:ge.pendingDemands.toLocaleString()}),e.jsx(N,{className:"border px-2 py-1 text-right font-semibold",children:ge.balance.toLocaleString()})]})})]})})]})]})},rr=[{agencyCode:"7023",iaName:"MSEB Mulshi Division",officerName:"Rakesh Patil",designation:"Executive Engineer",email:"rakesh.patil@maha.gov.in"},{agencyCode:"1880",iaName:"Chief Officer, Saswad Municipal Council, District-Pune",officerName:"Jyoti Deshmukh",designation:"Chief Officer",email:"jyoti.deshmukh@saswadmc.in"},{agencyCode:"931",iaName:"Executive Engineer, Public Works, Pune Division, Pune",officerName:"Manoj Kulkarni",designation:"Executive Engineer",email:"manoj.kulkarni@pwdpune.gov.in"},{agencyCode:"1133",iaName:"Divisional Forest Officer, Social Forestry Department, Pune",officerName:"Sunita More",designation:"Divisional Forest Officer",email:"sunita.more@forest.maharashtra.gov.in"},{agencyCode:"1083",iaName:"Deputy Chief Executive Officer (Village Panchayat), Zillha Parishad, Pune",officerName:"Vijay Bhosale",designation:"Deputy CEO",email:"vijay.bhosale@zppune.gov.in"}];function lr(){const[s,n]=t.useState(rr),[a,r]=t.useState(!1),[l,x]=t.useState({}),[o,m]=t.useState(""),i=A=>{const{name:S,value:R}=A.target;x(D=>({...D,[S]:R}))},u=()=>{if(!l.iaName||!l.agencyCode){m("Agency Name and Code are required.");return}m(""),n(A=>[{...l},...A]),x({}),r(!1)},j=A=>{n(S=>S.filter(R=>R.agencyCode!==A))};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(F,{className:"text-2xl font-semibold",children:"Implementing Agency Master"}),e.jsxs(L,{size:"sm",onClick:()=>r(!0),children:[e.jsx(Se,{className:"mr-1 h-4 w-4"})," Add Agency"]})]}),e.jsx(I,{className:"border border-gray-300 rounded-lg shadow-sm",children:e.jsx(E,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[e.jsx(ve,{children:e.jsx(se,{className:"bg-gray-100",children:["Sr No","IA Name","Officer Name","Designation","Email","Actions"].map((A,S)=>e.jsx($,{className:"border border-gray-200 px-4 py-2 text-left text-xs font-semibold text-gray-700",children:A},S))})}),e.jsxs(Ce,{children:[s.map((A,S)=>e.jsxs(se,{className:S%2===0?"bg-white":"bg-gray-50",children:[e.jsx(N,{className:"border border-gray-200 px-4 py-2 text-sm",children:S+1}),e.jsx(N,{className:"border border-gray-200 px-4 py-2 text-sm",children:A.iaName}),e.jsx(N,{className:"border border-gray-200 px-4 py-2 text-sm",children:A.officerName||"-"}),e.jsx(N,{className:"border border-gray-200 px-4 py-2 text-sm",children:A.designation||"-"}),e.jsx(N,{className:"border border-gray-200 px-4 py-2 text-sm",children:A.email||"-"}),e.jsxs(N,{className:"border border-gray-200 px-4 py-2 text-sm space-x-2",children:[e.jsx(L,{size:"icon",variant:"ghost",children:e.jsx(je,{className:"h-5 w-5 text-blue-600"})}),e.jsx(L,{size:"icon",variant:"ghost",onClick:()=>j(A.agencyCode),children:e.jsx(Fe,{className:"h-5 w-5 text-red-600"})})]})]},A.agencyCode)),s.length===0&&e.jsx(se,{children:e.jsx(N,{colSpan:6,className:"border border-gray-200 py-6 text-center text-gray-500",children:"No agencies found."})})]})]})})})}),e.jsx(_e,{open:a,onOpenChange:r,children:e.jsxs(Ie,{className:"max-w-md",children:[e.jsxs(ss,{children:[e.jsx(as,{children:"Add Implementing Agency"}),e.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4",children:e.jsx(be,{className:"h-5 w-5 text-gray-500 hover:text-red-600"})})]}),e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Agency Code"}),e.jsx(_,{name:"agencyCode",value:l.agencyCode||"",onChange:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Agency Name"}),e.jsx(_,{name:"iaName",value:l.iaName||"",onChange:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Officer Name"}),e.jsx(_,{name:"officerName",value:l.officerName||"",onChange:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Designation"}),e.jsx(_,{name:"designation",value:l.designation||"",onChange:i})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Email"}),e.jsx(_,{name:"email",value:l.email||"",onChange:i})]})]}),o&&e.jsx("div",{className:"text-xs text-red-600",children:o}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(L,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),e.jsx(L,{onClick:u,children:"Save"})]})]})]})})]})}const bs="http://13.232.90.40:8080";function ir(){const[s,n]=t.useState([]),[a,r]=t.useState(!1),[l,x]=t.useState(!1),[o]=t.useState([{label:"DAP",value:"DAP"},{label:"MLA/MLC",value:"MLA/MLC"},{label:"HADP",value:"HADP"}]),[m,i]=t.useState([]),[u,j]=t.useState([]),[A,S]=t.useState({planType:"",schemeId:"",iaUserId:"",workTitle:"",aaAmount:"",aaLetterFile:null}),[R,D]=t.useState(""),[f,V]=t.useState({planType:"",schemeId:"",iaUserId:"",workTitle:""});t.useEffect(()=>{w(),c(),d()},[]);async function w(){try{const p=await he.get(`${bs}/api/scheme-work-master/works`);n(Array.isArray(p.data)?p.data:[])}catch{n([])}}async function c(){try{const p=await he.get(`${bs}/api/scheme-work-master/schemes`);i(Array.isArray(p.data)?p.data:[])}catch{i([])}}async function d(){try{const p=await he.get(`${bs}/api/scheme-work-master/ia-users`);j(Array.isArray(p.data)?p.data:[])}catch{j([])}}const P=t.useMemo(()=>s.filter(p=>{var C;return!(f.planType&&p.planType!==f.planType||f.schemeId&&String(p.schemeId)!==f.schemeId||f.iaUserId&&String(p.iaUserId)!==f.iaUserId||f.workTitle&&!((C=p.workTitle)!=null&&C.toLowerCase().includes(f.workTitle.toLowerCase())))}),[s,f]),B=(p,C)=>S(g=>({...g,[p]:C})),ee=p=>{p.target.files&&p.target.files.length>0&&(S(C=>({...C,aaLetterFile:p.target.files[0]})),D(p.target.files[0].name))},T=async()=>{if(!A.planType||!A.schemeId||!A.iaUserId||!A.workTitle||!A.aaAmount||!A.aaLetterFile)return;x(!0);const p={schemeId:Number(A.schemeId),iaUserId:Number(A.iaUserId),workTitle:A.workTitle,aaAmount:Number(A.aaAmount),aaLetterFile:R,planType:A.planType};try{await he.post(`${bs}/api/scheme-work-master/assign-work`,p),r(!1),S({planType:"",schemeId:"",iaUserId:"",workTitle:"",aaAmount:"",aaLetterFile:null}),D(""),w()}catch{alert("Failed to save work!")}finally{x(!1)}},h=async p=>{alert("Activate/Deactivate coming soon!")};function v(){return e.jsx(_e,{open:a,onOpenChange:r,children:e.jsxs(Ie,{className:"max-w-2xl w-full rounded-2xl p-0 shadow-2xl",children:[e.jsxs(ss,{className:"bg-blue-50 rounded-t-2xl p-6 flex flex-row items-center justify-between",children:[e.jsx(as,{className:"text-2xl font-bold text-blue-900",children:"Assign New Work"}),e.jsx("button",{className:"rounded-full hover:bg-gray-200 p-1",onClick:()=>r(!1),type:"button","aria-label":"Close",children:e.jsx(be,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),e.jsxs("form",{onSubmit:p=>{p.preventDefault(),T()},className:"px-8 pt-6 pb-8 bg-white",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Plan Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(X,{value:A.planType,onValueChange:p=>B("planType",p),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"Select Plan Type"})}),e.jsx(J,{children:o.map(p=>e.jsx(U,{value:p.value,children:p.label},p.value))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Scheme ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(X,{value:A.schemeId,onValueChange:p=>B("schemeId",p),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"Select Scheme"})}),e.jsx(J,{children:m.map(p=>e.jsx(U,{value:String(p.id),children:p.schemeName},p.id))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Implementing Agency ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(X,{value:A.iaUserId,onValueChange:p=>B("iaUserId",p),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"Select IA"})}),e.jsx(J,{children:u.map(p=>e.jsx(U,{value:String(p.id),children:p.iaName},p.id))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Work Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(_,{placeholder:"Work Title",value:A.workTitle,onChange:p=>B("workTitle",p.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["AA Amount ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(_,{type:"number",placeholder:"AA Amount",value:A.aaAmount||"",min:0,onChange:p=>B("aaAmount",p.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["AA Letter (PDF, JPG, PNG) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:ee,className:"w-full text-sm text-gray-500 bg-blue-50 border rounded-md p-2",id:"aaLetterFile"}),R&&e.jsxs("span",{className:"flex items-center gap-1 text-blue-700 text-xs font-medium",children:[e.jsx(Pe,{className:"w-4 h-4"}),R]})]})]})]}),e.jsxs(Hs,{className:"flex justify-end gap-3 mt-10",children:[e.jsx(L,{variant:"outline",type:"button",className:"rounded-lg px-6 py-2 border-gray-300",onClick:()=>r(!1),disabled:l,children:"Cancel"}),e.jsx(L,{type:"submit",className:"rounded-lg px-8 py-2 text-base font-semibold bg-blue-700 hover:bg-blue-800 text-white shadow transition-all duration-150",disabled:!A.planType||!A.schemeId||!A.iaUserId||!A.workTitle||!A.aaAmount||!R||l,children:l?"Saving...":"Save"})]})]})]})})}return e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold mb-3 sm:mb-0 text-blue-900",children:"Scheme-Work-IA Mapping"}),e.jsx(L,{onClick:()=>r(!0),className:"bg-blue-700 hover:bg-blue-800 text-white px-5 py-2 rounded-lg",children:"+ Assign New Work"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-4",children:[e.jsxs(X,{value:f.planType,onValueChange:p=>V(C=>({...C,planType:p})),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"Plan Type"})}),e.jsx(J,{children:o.map(p=>e.jsx(U,{value:p.value,children:p.label},p.value))})]}),e.jsxs(X,{value:f.schemeId,onValueChange:p=>V(C=>({...C,schemeId:p})),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"Scheme"})}),e.jsx(J,{children:m.map(p=>e.jsx(U,{value:String(p.id),children:p.schemeName},p.id))})]}),e.jsxs(X,{value:f.iaUserId,onValueChange:p=>V(C=>({...C,iaUserId:p})),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"Implementing Agency"})}),e.jsx(J,{children:u.map(p=>e.jsx(U,{value:String(p.id),children:p.iaName},p.id))})]}),e.jsx(_,{placeholder:"Search Work",value:f.workTitle,onChange:p=>V(C=>({...C,workTitle:p.target.value}))})]}),e.jsxs(I,{className:"border border-gray-300 rounded-lg",children:[e.jsx(G,{children:e.jsx(F,{children:"Assigned Works"})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[e.jsx(ve,{children:e.jsx(se,{className:"bg-gray-100",children:["Sr No","Plan Type","Scheme","IA Name","Work Title","AA Amount","AA Letter","Actions"].map((p,C)=>e.jsx($,{className:"border border-gray-200 px-3 py-2 text-left text-xs font-semibold text-gray-700",children:p},C))})}),e.jsxs(Ce,{children:[P.map((p,C)=>e.jsxs(se,{className:C%2===0?"bg-white":"bg-gray-50",children:[e.jsx(N,{className:"border border-gray-200 px-3 py-2 text-sm",children:C+1}),e.jsx(N,{className:"border border-gray-200 px-3 py-2 text-sm",children:p.planType||"-"}),e.jsx(N,{className:"border border-gray-200 px-3 py-2 text-sm",children:p.schemeName||"-"}),e.jsx(N,{className:"border border-gray-200 px-3 py-2 text-sm",children:p.iaName||"-"}),e.jsx(N,{className:"border border-gray-200 px-3 py-2 text-sm",children:p.workTitle}),e.jsxs(N,{className:"border border-gray-200 px-3 py-2 text-sm",children:["â¹",Number(p.aaAmount).toLocaleString()]}),e.jsx(N,{className:"border border-gray-200 px-3 py-2 text-sm",children:p.aaLetterFile?e.jsxs("span",{className:"flex items-center gap-1 text-blue-700 text-xs font-medium",children:[e.jsx(Pe,{className:"w-4 h-4"}),p.aaLetterFile]}):"-"}),e.jsx(N,{className:"border border-gray-200 px-3 py-2 text-sm space-x-2",children:e.jsx(L,{size:"sm",variant:p.active?"outline":"default",onClick:()=>h(),children:p.active?"Deactivate":"Activate"})})]},p.id)),P.length===0&&e.jsx(se,{children:e.jsx(N,{colSpan:8,className:"border border-gray-200 py-6 text-center text-gray-500",children:"No works assigned."})})]})]})})})]}),e.jsx(v,{})]})}function dr(){const s=t.useMemo(()=>ie!=null&&ie.data?ie.data.flatMap(d=>{var P;return((P=d.schemes)==null?void 0:P.map(B=>({...B,parentDemand:d.demandNumber,budget:B.budgetThousands})))||[]}):[],[]),[n,a]=t.useState(ie.financialYear),[r,l]=t.useState(ie.planType),[x,o]=t.useState("All"),[m,i]=t.useState("All"),u=t.useMemo(()=>[ie.financialYear],[]),j=t.useMemo(()=>[ie.planType],[]),A=t.useMemo(()=>["All",...new Set(s.map(d=>d.demandCode))],[s]),S=t.useMemo(()=>["All",...new Set(s.map(d=>d.schemeTitle))],[s]),R=t.useMemo(()=>s.filter(d=>(x==="All"||d.demandCode===x)&&(m==="All"||d.schemeTitle===m)),[s,x,m]),D=t.useMemo(()=>s.reduce((d,P)=>d+P.budget,0),[s]),f=t.useMemo(()=>s.filter(d=>{var P;return(P=d.demandCode)==null?void 0:P.includes("Revenue")}).reduce((d,P)=>d+P.budget,0),[s]),V=t.useMemo(()=>s.filter(d=>{var P;return(P=d.demandCode)==null?void 0:P.includes("Capital")}).reduce((d,P)=>d+P.budget,0),[s]),w=d=>console.log(`Assign budget for scheme ${d}`),c=[{label:"Total Budget",value:D,color:"blue"},{label:"Total Revenue",value:f,color:"green"},{label:"Total Capital",value:V,color:"purple"}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:c.map((d,P)=>e.jsxs("div",{className:`flex border-l-4 p-4 bg-white rounded-lg shadow-sm border-t-2 border-${d.color}-500`,style:{borderTopWidth:"4px"},children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-xs font-semibold text-${d.color}-700`,children:d.label}),e.jsxs("div",{className:"mt-1 text-2xl font-bold text-gray-800",children:["â¹",d.value.toLocaleString()]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(d.value/D*100).toFixed(1),"% of total"]})]}),e.jsx("div",{className:`flex items-center justify-center w-10 h-10 bg-${d.color}-100 rounded-full`,children:e.jsx("span",{className:`text-${d.color}-500 text-lg`,children:"â "})})]},d.label))}),e.jsx("div",{className:"text-xs text-gray-500 italic",children:"* Amounts are in thousands"}),e.jsxs(I,{className:"border border-gray-200",children:[e.jsx(G,{children:e.jsx(F,{children:"Filters"})}),e.jsx(E,{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[{label:"Financial Year",value:n,setter:a,options:u},{label:"Plan Type",value:r,setter:l,options:j},{label:"Demand Code",value:x,setter:o,options:A},{label:"Scheme Name",value:m,setter:i,options:S}].map((d,P)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:d.label}),e.jsxs(X,{value:d.value,onValueChange:d.setter,children:[e.jsx(K,{className:"h-8 text-sm",children:e.jsx(Q,{placeholder:`Select ${d.label}`})}),e.jsx(J,{children:d.options.map((B,ee)=>B?e.jsx(U,{value:B,children:B},`${B}-${ee}`):null)})]})]},d.label))})]}),e.jsx("div",{className:"overflow-x-auto bg-white rounded shadow border border-gray-200",children:e.jsxs(Ae,{className:"min-w-full",children:[e.jsx(ve,{children:e.jsxs(se,{className:"bg-gray-50",children:[e.jsx($,{className:"w-8 px-3 py-2",children:"#"}),e.jsx($,{className:"px-4 py-2",children:"Scheme Name"}),e.jsx($,{className:"px-4 py-2",children:"Annual Budget"}),e.jsx($,{className:"px-4 py-2",children:"Revised Budget"}),e.jsx($,{className:"w-48 px-4 py-2 text-right",children:"Balance Amount"}),e.jsx($,{className:"w-32 px-4 py-2 text-center",children:"Action"})]})}),e.jsx(Ce,{children:Array.isArray(R)&&R.length>0?R.map((d,P)=>e.jsxs(se,{className:P%2===0?"bg-white":"bg-gray-50",children:[e.jsx(N,{className:"border px-3 py-2 text-sm",children:P+1}),e.jsxs(N,{className:"border px-4 py-2 text-sm font-medium",children:[d.schemeCRC," ",d.schemeTitle]}),e.jsxs(N,{className:"border px-4 py-2 text-sm text-right",children:["â¹",d.budget.toLocaleString()]}),e.jsxs(N,{className:"border px-4 py-2 text-sm text-right",children:["â¹",d.budget.toLocaleString()]}),e.jsxs(N,{className:"border px-4 py-2 text-sm text-right",children:["â¹",d.budget.toLocaleString()]}),e.jsx(N,{className:"border px-4 py-2 text-center",children:e.jsx(L,{size:"sm",onClick:()=>w(d.schemeCRC),children:"Assign"})})]},d.schemeCRC||P)):e.jsx(se,{children:e.jsx(N,{colSpan:4,className:"border py-6 text-center text-gray-500",children:"No schemes found."})})})]})}),e.jsx("div",{className:"text-xs text-red-500 italic",children:"* Amounts are in thousands"})]})}const Ke=s=>Array.from(new Set(s)),Ls=[],cr=["All","2023-24","2024-25","2025-26"],or=()=>{const s=new Date().toISOString().split("T")[0],[n,a]=t.useState("DAP"),[r,l]=t.useState("All"),[x,o]=t.useState("All"),[m,i]=t.useState("All"),[u,j]=t.useState("All"),[A,S]=t.useState(""),[R,D]=t.useState([]);t.useEffect(()=>{o("All"),i("All"),j("All"),l("All"),S("")},[n]);const f=t.useMemo(()=>["All",...Ke(ie.data.map(v=>{var p;return(p=v.district)==null?void 0:p.toUpperCase()}).filter(Boolean))],[]),V=t.useMemo(()=>{if(n!=="DAP")return["All"];const v=ie.data.filter(p=>{var C;return x==="All"||((C=p.district)==null?void 0:C.toUpperCase())===x});return["All",...Ke(v.map(p=>p.demandNumber).filter(Boolean))]},[n,x]),w=t.useMemo(()=>["All",...Ke(Ls.map(v=>{var p;return(p=v.district)==null?void 0:p.toUpperCase()}).filter(Boolean))],[]),c=t.useMemo(()=>{const v=Ls.filter(p=>{var C;return x==="All"||((C=p.district)==null?void 0:C.toUpperCase())===x});return["All",...Ke(v.map(p=>p.name).filter(Boolean))]},[x]),d=t.useMemo(()=>["All",...Ke(we.map(v=>{var p;return(p=v.districtName)==null?void 0:p.toUpperCase()}).filter(Boolean))],[]),P=t.useMemo(()=>{const v=we.filter(p=>{var C;return x==="All"||((C=p.districtName)==null?void 0:C.toUpperCase())===x});return["All",...Ke(v.map(p=>{var C;return(C=p.talukaName)==null?void 0:C.toUpperCase()}).filter(Boolean))]},[x]),B=t.useMemo(()=>R.filter(v=>!(v.planType!==n||r!=="All"&&v.financialYear!==r||x!=="All"&&v.district!==x||n==="HADP"&&m!=="All"&&v.taluka!==m||n!=="HADP"&&u!=="All"&&v.code!==u)),[R,n,r,x,m,u]),ee=()=>{if(r==="All"||x==="All"||n==="HADP"&&m==="All"||n!=="HADP"&&u==="All"||!A)return;const v=parseFloat(A)*1e3;D(p=>[...p,{id:Date.now().toString(),planType:n,financialYear:r,district:x,taluka:n==="HADP"?m:void 0,code:u,allocatedAmount:v,date:s}]),S("")},T=()=>n==="MLA/MLC"?["S.No","FY","District","Taluka","MLA/MLC Name","Annual Budget","Balance"]:n==="HADP"?["S.No","District","Taluka","Allocated","Balance"]:["S.No","District","Plan","Demand No.","Allocated","Balance"],h=()=>n==="MLA/MLC"?Ls.filter(v=>{var p;return x==="All"||((p=v.district)==null?void 0:p.toUpperCase())===x}).filter(v=>u==="All"||v.name===u).map((v,p)=>e.jsxs(se,{children:[e.jsx(N,{className:"border px-2 py-1 text-xs",children:p+1}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:"2024-25"}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:v.district}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:v.taluka}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:v.name}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:v.budget}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:v.balance})]},v.name+p)):n==="HADP"?B.length===0?e.jsx(se,{children:e.jsx(N,{colSpan:T().length,className:"text-center py-4 text-sm",children:"No allocations yet."})}):B.map((v,p)=>{var q;const C=we.find(Y=>{var z,k;return(x==="All"||((z=Y.districtName)==null?void 0:z.toUpperCase())===x)&&(m==="All"||((k=Y.talukaName)==null?void 0:k.toUpperCase())===m)}),g=((q=C==null?void 0:C.balanceBudget)==null?void 0:q.toLocaleString())||"-";return e.jsxs(se,{children:[e.jsx(N,{className:"border px-2 py-1 text-xs",children:p+1}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:v.district}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:v.taluka}),e.jsxs(N,{className:"border px-2 py-1 text-xs",children:["â¹",v.allocatedAmount.toLocaleString()]}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:g})]},v.id)}):B.length===0?e.jsx(se,{children:e.jsx(N,{colSpan:T().length,className:"text-center py-4 text-sm",children:"No allocations yet."})}):B.map((v,p)=>{var q;const C=ie.data.find(Y=>Y.demandNumber===v.code),g=((q=C==null?void 0:C.balanceBudget)==null?void 0:q.toLocaleString())||"-";return e.jsxs(se,{children:[e.jsx(N,{className:"border px-2 py-1 text-xs",children:p+1}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:v.district}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:v.planType}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:v.code}),e.jsxs(N,{className:"border px-2 py-1 text-xs",children:["â¹",v.allocatedAmount.toLocaleString()]}),e.jsx(N,{className:"border px-2 py-1 text-xs",children:g})]},v.id)});return e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsx(M,{htmlFor:"plan",children:"Plan Type"}),e.jsxs(X,{id:"plan",value:n,onValueChange:v=>a(v),children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:["DAP","MLA/MLC","HADP"].map(v=>e.jsx(U,{value:v,children:v},v))})]})]}),e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsx(M,{htmlFor:"fy",children:"Financial Year"}),e.jsxs(X,{id:"fy",value:r,onValueChange:l,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:cr.map(v=>e.jsx(U,{value:v,children:v},v))})]})]}),n==="DAP"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsx(M,{children:"District"}),e.jsxs(X,{value:x,onValueChange:o,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:f.map(v=>e.jsx(U,{value:v,children:v},v))})]})]}),e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsx(M,{children:"Demand No."}),e.jsxs(X,{value:u,onValueChange:j,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:V.map(v=>e.jsx(U,{value:v,children:v},v))})]})]})]}),n==="MLA/MLC"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsx(M,{children:"District"}),e.jsxs(X,{value:x,onValueChange:o,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:w.map(v=>e.jsx(U,{value:v,children:v},v))})]})]}),e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx(M,{children:"MLA/MLC Name"}),e.jsxs(X,{value:u,onValueChange:j,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:c.map(v=>e.jsx(U,{value:v,children:v},v))})]})]})]}),n==="HADP"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsx(M,{children:"District"}),e.jsxs(X,{value:x,onValueChange:o,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:d.map(v=>e.jsx(U,{value:v,children:v},v))})]})]}),e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsx(M,{children:"Taluka"}),e.jsxs(X,{value:m,onValueChange:i,children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsx(J,{children:P.map(v=>e.jsx(U,{value:v,children:v},v))})]})]})]}),e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsx(M,{htmlFor:"alloc",children:"Amount (â¹ Thousands)"}),e.jsx(_,{id:"alloc",type:"number",placeholder:"e.g.Â 1500",value:A,onChange:v=>S(v.target.value)})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(L,{onClick:ee,children:"Allocate Budget"})})]}),e.jsxs(I,{className:"shadow-sm rounded-md",children:[e.jsx(G,{className:"border-b pb-2",children:e.jsxs(F,{className:"text-lg font-semibold",children:["Budget Allocations",e.jsx("span",{className:"text-sm text-red-600 italic ml-2",children:"(*All Amounts Are in Thousands)"})]})}),e.jsx(E,{className:"overflow-x-auto p-0",children:e.jsxs(Ae,{className:"min-w-full",children:[e.jsx(ve,{children:e.jsx(se,{children:T().map(v=>e.jsx($,{className:"border px-2 py-1 text-xs font-medium",children:v},v))})}),e.jsx(Ce,{children:h()})]})})]})]})},mr=({open:s,onClose:n,demand:a,work:r,vendor:l,demands:x=[]})=>{if(!s||!a||!r)return null;const o=x.filter(j=>j.workId===r.id),m=(r.workPortionAmount??0)+(r.taxDeductionAmount??0),i=o.reduce((j,A)=>j+(A.amount??0),0),u=m-i;return e.jsx("div",{className:"fixed inset-0 bg-black/30 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl p-6 relative max-h-[90vh] overflow-y-auto",children:[e.jsx("button",{className:"absolute top-4 right-4",onClick:n,children:e.jsx(be,{className:"w-5 h-5 text-gray-400 hover:text-red-500"})}),e.jsxs(I,{className:"mb-4",children:[e.jsx(G,{children:e.jsx(F,{className:"text-lg",children:"Work & Scheme Overview"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Scheme Name"}),e.jsx("div",{children:r.scheme})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Work Name"}),e.jsx("div",{children:r.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Sanctioned Date"}),e.jsx("div",{children:r.sanctionedDate})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Financial Year"}),e.jsx("div",{children:r.financialYear})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Work Portion Amount"}),e.jsxs("div",{children:["â¹",(r.workPortionAmount??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Gross Total"}),e.jsxs("div",{children:["â¹",(m??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Total Demanded"}),e.jsxs("div",{children:["â¹",(i??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Balance Amount"}),e.jsxs("div",{className:"font-bold text-primary",children:["â¹",(u??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"IA / PWD"}),e.jsx("div",{children:r.ia||"PWD"})]})]})})]}),e.jsxs(I,{className:"mb-4",children:[e.jsx(G,{children:e.jsx(F,{className:"text-base",children:"Vendor Details"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Vendor Name"}),e.jsx("div",{children:(l==null?void 0:l.name)||a.vendor})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Aadhar No."}),e.jsx("div",{children:l==null?void 0:l.aadhar})]})]})})]}),e.jsxs(I,{children:[e.jsx(G,{children:e.jsx(F,{className:"text-lg",children:"Current Demand Details"})}),e.jsxs(E,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Demand ID"}),e.jsx("div",{children:a.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Date"}),e.jsx("div",{children:a.date})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Amount"}),e.jsxs("div",{children:["â¹",(a.amount??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Net Payable"}),e.jsxs("div",{children:["â¹",(a.netPayable??a.amount??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Status"}),e.jsx("div",{children:e.jsx(le,{children:a.status})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Remarks"}),e.jsx("div",{children:a.remarks})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Taxes Applied:"}),e.jsx("ul",{className:"text-xs ml-3 mt-1",children:a.taxes&&a.taxes.length>0?a.taxes.map((j,A)=>e.jsxs("li",{children:[j.name,": â¹",(j.amount??0).toLocaleString()]},A)):e.jsx("li",{className:"text-gray-500",children:"No taxes applied"})})]})]})]}),e.jsxs(I,{className:"mt-6",children:[e.jsx(G,{children:e.jsx(F,{className:"text-base",children:"All Demands for this Work"})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-xs border",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-1 border",children:"Demand ID"}),e.jsx("th",{className:"px-2 py-1 border",children:"Date"}),e.jsx("th",{className:"px-2 py-1 border",children:"Amount"}),e.jsx("th",{className:"px-2 py-1 border",children:"Net Payable"}),e.jsx("th",{className:"px-2 py-1 border",children:"Status"}),e.jsx("th",{className:"px-2 py-1 border",children:"Remarks"}),e.jsx("th",{className:"px-2 py-1 border",children:"Taxes"})]})}),e.jsxs("tbody",{children:[o.map(j=>e.jsxs("tr",{className:j.id===a.id?"bg-primary/10 border font-semibold":"border",children:[e.jsx("td",{className:"px-2 py-1 border",children:j.id}),e.jsx("td",{className:"px-2 py-1 border",children:j.date}),e.jsxs("td",{className:"px-2 py-1 border",children:["â¹",(j.amount??0).toLocaleString()]}),e.jsxs("td",{className:"px-2 py-1 border",children:["â¹",(j.netPayable??j.amount??0).toLocaleString()]}),e.jsx("td",{className:"px-2 py-1 border",children:e.jsx(le,{children:j.status})}),e.jsx("td",{className:"px-2 py-1 border",children:j.remarks}),e.jsx("td",{className:"px-2 py-1 border",children:j.taxes&&j.taxes.length>0?j.taxes.map((A,S)=>e.jsxs("div",{children:[A.name,": â¹",(A.amount??0).toLocaleString()]},S)):e.jsx("span",{className:"text-gray-400",children:"-"})})]},j.id)),o.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"text-center text-gray-400 py-4",children:"No Demands"})})]})]})})})]})]})})},Re=[{id:4,district:"Pune",scheme:"44061122 (2) Forest Roads & Bridges",name:"GP/2425/5291 à¤®à¥à¤à¥ à¤à¤¡à¤¬à¤¨à¤µà¤¾à¤¡à¥ à¤¨à¤¿à¤°à¥à¤à¥à¤·à¤£ à¤ªà¤¥ à¤¤à¤¯à¤¾à¤° à¤à¤°à¤£à¥",limit:25e5,sanctionedDate:"2024-02-27",financialYear:"2024-25",vendorDetails:{name:"OM Nikas",aadhar:"1234-5678-9012"},adminApprovedAmount:73026e3,workPortionAmount:65e6,taxDeductionAmount:5e6,status:"Pending"},{id:5,district:"Pune",scheme:"44061122 (2) Forest Roads & Bridges",name:"GP/2425/5290 à¤®à¥à¤à¥ à¤°à¥à¤ à¤¨à¤¿à¤°à¥à¤à¥à¤·à¤£ à¤ªà¤¥ à¤¤à¤¯à¤¾à¤° à¤à¤°à¤£à¥",limit:2499999,sanctionedDate:"2024-02-27",financialYear:"2024-25",vendorDetails:{name:"RRB INFRA",aadhar:"9876-5432-1098"},adminApprovedAmount:16e5,workPortionAmount:145e4,taxDeductionAmount:1e5,status:"Pending"},{id:6,district:"Pune",scheme:"2053A233 Dynamic Admin & Emergency Mgmt",name:"GP/2425/5463 Collector Bunglow LED & Inverter Renovation",limit:1999993,sanctionedDate:"2024-02-27",financialYear:"2024-25",vendorDetails:{name:"SK Buildcon",aadhar:"5678-1234-9012"},adminApprovedAmount:747237,workPortionAmount:710230,taxDeductionAmount:35e3,status:"Pending"}],ta=[{id:"DM-02",workId:4,amount:2e5,netPayable:19e4,taxes:[{id:4,name:"GST (5%)",amount:1e4}],status:"Approved",date:"2024-07-01",remarks:"à¤ªà¥à¤°à¤¥à¤® à¤¹à¤ªà¥à¤¤à¤¾"},{id:"DM-03",workId:5,amount:25e4,netPayable:24e4,taxes:[{id:5,name:"TDS (4%)",amount:1e4}],status:"Pending",date:"2024-07-02",remarks:"à¤ªà¤¹à¤¿à¤²à¥ à¤®à¤¾à¤à¤£à¥"},{id:"DM-04",workId:6,amount:15e4,netPayable:147e3,taxes:[{id:6,name:"GST (2%)",amount:3e3}],status:"Approved",date:"2024-07-03",remarks:"à¤¦à¥à¤¸à¤°à¥ à¤®à¤¾à¤à¤£à¥"}];function hr(){const[s,n]=t.useState("All"),[a,r]=t.useState("DAP"),[l,x]=t.useState("All"),[o,m]=t.useState("All"),[i,u]=t.useState("All"),[j,A]=t.useState(!1),[S,R]=t.useState(null),D=t.useMemo(()=>["All",...new Set(Re.map(h=>h.financialYear))],[]),f=["DAP","MLA","HADP"],V=t.useMemo(()=>a==="HADP"?["All",...new Set(Re.map(h=>h.district).filter(Boolean))]:["All",...new Set(Re.map(h=>h.district).filter(Boolean))],[a]),w=t.useMemo(()=>["All",...new Set(Re.map(h=>h.scheme).filter(Boolean))],[]),c=t.useMemo(()=>a!=="HADP"?["All"]:["All",...new Set(Re.map(h=>h.name.split(" ")[3]).filter(Boolean))],[a,l]),d=t.useMemo(()=>ta.filter(h=>{const v=Re.find(p=>p.id===h.workId);if(s!=="All"&&v.financialYear!==s)return!1;if(a==="HADP"){if(l!=="All"&&v.district!==l||i!=="All"&&v.name.split(" ")[3]!==i)return!1}else if(l!=="All"&&v.district!==l||o!=="All"&&v.scheme!==o)return!1;return!0}),[s,a,l,o,i]),P=h=>{R(h),A(!0)},B=h=>alert(`Approved ${h}`),ee=h=>alert(`Rejected ${h}`),T=t.useMemo(()=>{const h=d.reduce((C,g)=>C+Re.find(q=>q.id===g.workId).adminApprovedAmount,0),v=d.reduce((C,g)=>C+(Re.find(q=>q.id===g.workId).limit-g.amount),0),p=d.reduce((C,g)=>C+g.netPayable,0);return{totalAA:h,totalBal:v,totalNP:p}},[d]);return e.jsxs("div",{className:"p-6 bg-gray-50 space-y-6",children:[e.jsx(I,{className:"border border-gray-200 rounded-sm shadow-sm",children:e.jsxs(E,{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-600 text-xs mb-1",children:"Financial Year"}),e.jsxs(X,{value:s,onValueChange:n,children:[e.jsx(K,{className:"h-10 bg-white text-sm rounded-sm border border-gray-300",children:e.jsx(Q,{placeholder:"All"})}),e.jsx(J,{children:D.map(h=>e.jsx(U,{value:h,children:h},h))})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-600 text-xs mb-1",children:"Plan Type"}),e.jsxs(X,{value:a,onValueChange:h=>{r(h),x("All"),m("All"),u("All")},children:[e.jsx(K,{className:"h-10 bg-white text-sm rounded-sm border border-gray-300",children:e.jsx(Q,{placeholder:"Plan Type"})}),e.jsx(J,{children:f.map(h=>e.jsx(U,{value:h,children:h},h))})]})]}),a==="HADP"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-600 text-xs mb-1",children:"District"}),e.jsxs(X,{value:l,onValueChange:x,children:[e.jsx(K,{className:"h-10 bg-white text-sm rounded-sm border border-gray-300",children:e.jsx(Q,{placeholder:"District"})}),e.jsx(J,{children:V.map(h=>e.jsx(U,{value:h,children:h},h))})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-600 text-xs mb-1",children:"Taluka"}),e.jsxs(X,{value:i,onValueChange:u,children:[e.jsx(K,{className:"h-10 bg-white text-sm rounded-sm border border-gray-300",children:e.jsx(Q,{placeholder:"Taluka"})}),e.jsx(J,{children:c.map(h=>e.jsx(U,{value:h,children:h},h))})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-600 text-xs mb-1",children:"District"}),e.jsxs(X,{value:l,onValueChange:x,children:[e.jsx(K,{className:"h-10 bg-white text-sm rounded-sm border border-gray-300",children:e.jsx(Q,{placeholder:"District"})}),e.jsx(J,{children:V.map(h=>e.jsx(U,{value:h,children:h},h))})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-600 text-xs mb-1",children:"Scheme"}),e.jsxs(X,{value:o,onValueChange:m,children:[e.jsx(K,{className:"h-10 bg-white text-sm rounded-sm border border-gray-300",children:e.jsx(Q,{placeholder:"Scheme"})}),e.jsx(J,{children:w.map(h=>e.jsx(U,{value:h,children:h},h))})]})]})]})]})}),e.jsxs(I,{className:"border border-gray-200 rounded-sm shadow-sm overflow-hidden",children:[e.jsxs(G,{children:[e.jsx(F,{className:"text-xl",children:"Fund Demands"}),e.jsx("span",{className:"text-sm text-red-600 italic",children:"*All Amounts Are in Thousands"})]}),e.jsx(E,{className:"p-0 overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border-collapse border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:["Sr","District","Scheme","Demand ID","AA Amt","Balance","Net Payable","Actions"].map(h=>e.jsx("th",{className:"border border-gray-200 px-3 py-2 text-left text-xs font-semibold text-gray-700 uppercase",children:h},h))})}),e.jsx("tbody",{children:d.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"border border-gray-200 py-6 text-center text-gray-400 text-sm",children:"No records found"})}):d.map((h,v)=>{const p=Re.find(g=>g.id===h.workId),C=p.limit-h.amount;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:v+1}),e.jsx("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:p.district}),e.jsx("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:p.scheme}),e.jsx("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:h.id}),e.jsxs("td",{className:"border border-gray-200 px-3 py-2 text-right text-sm",children:["â¹",p.adminApprovedAmount.toLocaleString()]}),e.jsxs("td",{className:"border border-gray-200 px-3 py-2 text-right text-sm",children:["â¹",C.toLocaleString()]}),e.jsxs("td",{className:"border border-gray-200 px-3 py-2 text-right text-sm",children:["â¹",h.netPayable.toLocaleString()]}),e.jsxs("td",{className:"border border-gray-200 px-3 py-2 text-sm flex justify-center space-x-1",children:[e.jsx(L,{size:"icon",variant:"ghost",onClick:()=>B(h.id),children:e.jsx(us,{className:"w-4 h-4 text-green-600"})}),e.jsx(L,{size:"icon",variant:"ghost",onClick:()=>ee(h.id),children:e.jsx(be,{className:"w-4 h-4 text-red-600"})}),e.jsxs(_e,{open:j&&S===h.id,onOpenChange:A,children:[e.jsx(es,{asChild:!0,children:e.jsx(L,{size:"icon",variant:"ghost",onClick:()=>P(h.id),children:e.jsx(je,{className:"w-4 h-4 text-blue-600"})})}),e.jsx(Ie,{className:"w-[80vw] max-w-3xl",children:e.jsx(mr,{open:j&&S===h.id,onClose:()=>A(!1),demand:h,work:p,vendor:p.vendorDetails,demands:ta})})]})]})]},h.id)})}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,className:"border border-gray-200 px-3 py-2 text-right font-semibold text-sm",children:"Total"}),e.jsxs("td",{className:"border border-gray-200 px-3 py-2 font-semibold text-sm",children:["â¹",T.totalAA.toLocaleString()]}),e.jsxs("td",{className:"border border-gray-200 px-3 py-2 font-semibold text-sm",children:["â¹",T.totalBal.toLocaleString()]}),e.jsxs("td",{className:"border border-gray-200 px-3 py-2 font-semibold text-sm",children:["â¹",T.totalNP.toLocaleString()]}),e.jsx("td",{className:"border border-gray-200 px-3 py-2"})]})})]})})]})]})}const xr=[{id:"D-01",district:"Pune",collector:"Shri. Jitendra Dudi",email:"collector.pune@maharashtra.gov.in",mobile:"9876543211",isActive:!0}];function ur(){const[s,n]=t.useState(xr),[a,r]=t.useState("All"),[l,x]=t.useState(!1),[o,m]=t.useState({district:"",collector:"",email:"",mobile:"",isActive:!0}),i=t.useMemo(()=>["All",...new Set(s.map(f=>f.district))],[s]),u=t.useMemo(()=>s.filter(f=>a==="All"?!0:f.district===a),[s,a]),j=u.length,A=u.filter(f=>f.isActive).length,S=j-A,R=(f,V)=>m(w=>({...w,[f]:V})),D=()=>{if(!o.district||!o.collector)return;const f={id:"D-"+Date.now().toString().slice(-4),district:o.district,collector:o.collector,email:o.email,mobile:o.mobile,isActive:o.isActive??!0};n(V=>[f,...V]),x(!1),m({district:"",collector:"",email:"",mobile:"",isActive:!0})};return e.jsxs("div",{className:"p-6 space-y-6 bg-gray-50",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"District Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage collectors and contact info"})]}),e.jsxs("div",{className:"flex gap-3 items-end",children:[e.jsxs("div",{className:"w-48",children:[e.jsx(M,{htmlFor:"district",children:"Filter by District"}),e.jsxs(X,{id:"district",value:a,onValueChange:r,children:[e.jsx(K,{className:"h-10 bg-white text-sm rounded-sm border border-gray-300",children:e.jsx(Q,{placeholder:"All"})}),e.jsx(J,{children:i.map(f=>e.jsx(U,{value:f,children:f},f))})]})]}),e.jsxs(_e,{open:l,onOpenChange:x,children:[e.jsx(es,{asChild:!0,children:e.jsxs(L,{variant:"primary",className:"flex items-center px-4 py-2 rounded-sm shadow",children:[e.jsx(Se,{className:"mr-2 h-4 w-4"})," Create District"]})}),e.jsxs(Ie,{className:"max-w-md",children:[e.jsx(ss,{children:e.jsx(as,{children:"Create New District"})}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{children:"District Name"}),e.jsx(_,{value:o.district,onChange:f=>R("district",f.target.value),placeholder:"e.g. Pune"})]}),e.jsxs("div",{children:[e.jsx(M,{children:"Collector Name"}),e.jsx(_,{value:o.collector,onChange:f=>R("collector",f.target.value),placeholder:"e.g. Dr. Vinod Patil"})]}),e.jsxs("div",{children:[e.jsx(M,{children:"Email"}),e.jsx(_,{type:"email",value:o.email,onChange:f=>R("email",f.target.value),placeholder:"collector@example.gov"})]}),e.jsxs("div",{children:[e.jsx(M,{children:"Mobile"}),e.jsx(_,{value:o.mobile,onChange:f=>R("mobile",f.target.value),placeholder:"9876543210"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[e.jsx(L,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),e.jsx(L,{onClick:D,children:"Save"})]})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs(Ge.div,{className:"border border-gray-200 rounded-sm bg-white p-4 shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:0},children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Districts"}),e.jsx("p",{className:"mt-1 text-2xl font-bold text-gray-900",children:j})]}),e.jsxs(Ge.div,{className:"border border-gray-200 rounded-sm bg-white p-4 shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),e.jsx("p",{className:"mt-1 text-2xl font-bold text-green-600",children:A})]}),e.jsxs(Ge.div,{className:"border border-gray-200 rounded-sm bg-white p-4 shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inactive"}),e.jsx("p",{className:"mt-1 text-2xl font-bold text-red-600",children:S})]})]}),e.jsxs(I,{className:"border border-gray-200 rounded-sm shadow-sm overflow-hidden",children:[e.jsx(G,{children:e.jsx(F,{className:"text-sm font-semibold",children:"Collectors Directory"})}),e.jsx(E,{className:"p-0 overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border-collapse border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:["S.No","District","Collector","Email","Mobile","Status","Actions"].map(f=>e.jsx("th",{className:"border border-gray-200 px-3 py-2 text-left text-xs font-semibold text-gray-700 uppercase",children:f},f))})}),e.jsxs("tbody",{children:[u.map((f,V)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:V+1}),e.jsx("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:f.district}),e.jsx("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:f.collector}),e.jsx("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:f.email}),e.jsx("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:f.mobile}),e.jsx("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:e.jsx("span",{className:`inline-block px-2 py-0.5 text-xs font-medium rounded-full ${f.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.isActive?"Active":"Inactive"})}),e.jsxs("td",{className:"border border-gray-200 px-3 py-2 text-center space-x-2",children:[e.jsx(L,{variant:"ghost",size:"icon",children:e.jsx(Ut,{className:"w-4 h-4 text-blue-600"})}),e.jsx(L,{variant:"ghost",size:"icon",children:e.jsx(Fe,{className:"w-4 h-4 text-red-600"})})]})]},f.id)),u.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"border border-gray-200 py-4 text-center text-gray-400 text-sm",children:"No records found."})})]})]})})]})]})}const na={"à¤ªà¥à¤°à¤¥à¤® à¤¹à¤ªà¥à¤¤à¤¾":"First Installment","à¤ªà¤¹à¤¿à¤²à¥ à¤®à¤¾à¤à¤£à¥":"Initial Request","à¤¦à¥à¤¸à¤°à¥ à¤®à¤¾à¤à¤£à¥":"Second Installment"},pr=({open:s,onClose:n,demand:a,work:r,demands:l=[]})=>{if(!s||!a||!r)return null;const x=l.filter(R=>R.workId===r.id),o=(r.workPortionAmount??0)+(r.taxDeductionAmount??0),m=x.reduce((R,D)=>R+(D.amount??0),0),i=o-m,u=na[a.remarks]||a.remarks,j=()=>alert(`Approved ${a.id}`),A=()=>alert(`Rejected ${a.id}`),S=()=>alert(`Sent Back ${a.id}`);return e.jsxs("div",{className:`
        bg-white rounded-2xl shadow-lg
        w-full max-w-[90vw] md:max-w-[1100px]
        max-h-[90vh] overflow-y-auto
        relative p-6
      `,children:[e.jsx("button",{className:"absolute top-4 right-4",onClick:n,children:e.jsx(be,{className:"w-5 h-5 text-gray-400 hover:text-red-500"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs(I,{children:[e.jsx(G,{children:e.jsx(F,{className:"text-lg",children:"Work & MLA Overview"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"MLA/MLC Name"}),e.jsx("div",{children:r.mlaName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"District"}),e.jsx("div",{children:r.district})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Constituency"}),e.jsx("div",{children:r.constituency})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Work Code"}),e.jsx("div",{children:r.workCode})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Work Title"}),e.jsx("div",{children:r.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Financial Year"}),e.jsx("div",{children:r.financialYear})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"AA Amount"}),e.jsxs("div",{children:["â¹",r.adminApprovedAmount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Gross Amt"}),e.jsxs("div",{children:["â¹",o.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Total Demanded"}),e.jsxs("div",{children:["â¹",m.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Balance Amount"}),e.jsxs("div",{className:"font-bold",children:["â¹",i.toLocaleString()]})]})]})}),e.jsxs(I,{children:[e.jsx(G,{children:e.jsx(F,{className:"text-base",children:"File Attachments"})}),e.jsx(E,{children:e.jsxs("div",{className:"flex space-x-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pe,{className:"w-4 h-4"})," Work Order"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pe,{className:"w-4 h-4"})," AA Order"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pe,{className:"w-4 h-4"})," Previous Releases"]})]})})]})]}),e.jsxs(I,{children:[e.jsxs("div",{children:[e.jsx(G,{children:e.jsx(F,{className:"text-base",children:"Vendor Details"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Vendor ID"}),e.jsx("div",{children:r.vendor.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Vendor Name"}),e.jsx("div",{children:r.vendor.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Aadhar No."}),e.jsxs("div",{children:["xxxx-xxxx-",r.vendor.aadhar.slice(-4)]})]})]})})]}),e.jsxs(I,{children:[e.jsx(G,{children:e.jsx(F,{className:"text-lg",children:"Current Demand Details"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Demand ID"}),e.jsx("div",{children:a.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Date"}),e.jsx("div",{children:a.date})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Demand Amount"}),e.jsxs("div",{children:["â¹",a.amount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Status"}),e.jsx("div",{children:e.jsx(le,{children:a.status})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Remark"}),e.jsx("div",{children:u})]})]})})]})]})]}),e.jsxs(I,{className:"mb-4",children:[e.jsx(G,{children:e.jsx(F,{className:"text-base",children:"All Demands for this Work"})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-xs border",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-1 border",children:"Demand ID"}),e.jsx("th",{className:"px-2 py-1 border",children:"Date"}),e.jsx("th",{className:"px-2 py-1 border",children:"Amount"}),e.jsx("th",{className:"px-2 py-1 border",children:"Status"}),e.jsx("th",{className:"px-2 py-1 border",children:"Remark"})]})}),e.jsx("tbody",{children:x.length>0?x.map(R=>e.jsxs("tr",{className:R.id===a.id?"bg-primary/10 font-semibold":void 0,children:[e.jsx("td",{className:"px-2 py-1 border",children:R.id}),e.jsx("td",{className:"px-2 py-1 border",children:R.date}),e.jsxs("td",{className:"px-2 py-1 border",children:["â¹",R.amount.toLocaleString()]}),e.jsx("td",{className:"px-2 py-1 border",children:e.jsx(le,{children:R.status})}),e.jsx("td",{className:"px-2 py-1 border",children:na[R.remarks]||R.remarks})]},R.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center text-gray-400 py-4",children:"No demands"})})})]})})})]}),e.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[e.jsxs(L,{variant:"destructive",onClick:A,children:[e.jsx(Ze,{className:"w-4 h-4 mr-1"})," Reject"]}),e.jsxs(L,{variant:"outline",onClick:S,children:[e.jsx(za,{className:"w-4 h-4 mr-1"})," Send Back"]}),e.jsxs(L,{variant:"default",onClick:j,children:[e.jsx(us,{className:"w-4 h-4 mr-1"})," Approve"]})]})]})},Je=[{id:467,workCode:"ML/2425/2572",name:"ML/2425/2572 à¤à¤®à¤¦à¤¾à¤° à¤¸à¥à¤¥à¤¾à¤¨à¤¿à¤ à¤µà¤¿à¤à¤¾à¤¸ à¤à¤¾à¤°à¥à¤¯à¤à¥à¤°à¤® à¤¸à¤¨ à¥¨à¥¦à¥¨à¥ª-à¥¨à¥« à¤à¤à¤¤à¤°à¥à¤à¤¤ à¤¬à¤¾à¤°à¤¾à¤®à¤¤à¥ à¤¯à¥à¤¥à¥ à¤¹à¥à¤£à¤¾à¤±à¥à¤¯à¤¾ à¤¶à¤¿à¤µà¤à¤¤à¥à¤°à¤ªà¤¤à¥ à¤°à¤¾à¤à¥à¤¯ à¤¸à¥à¤¤à¤°à¥à¤¯ à¤à¤¬à¤¡à¥à¤¡à¥ à¤¸à¥à¤ªà¤°à¥à¤§à¥à¤à¤°à¤¿à¤¤à¤¾ à¤¨à¤¿à¤§à¥ à¤à¤ªà¤²à¤¬à¥à¤§ à¤à¤°à¤£à¥à¤¬à¤¾à¤¬à¤¤",district:"Pune",constituency:"Baramati",mlaName:"Ajit Anantrao Pawar",financialYear:"2024-25",adminApprovedAmount:2999,workPortionAmount:2800,taxDeductionAmount:100,vendor:{id:"1189",name:"Shree Ganesh Constructions Pvt. Ltd.",aadhar:"123412341234"}},{id:468,workCode:"ML/2425/2151",name:"ML/2425/2151 à¤à¤¾à¤à¤¬à¥à¤¤ à¤¯à¥à¤¥à¥ à¤à¤¾à¤à¤¬à¥à¤¤ à¤à¥à¤à¤­à¥à¤¤ à¤°à¥à¤¡ à¤¤à¥ à¤à¤³à¤®à¤à¤¾à¤ à¤®à¤à¤¦à¤¿à¤° à¤°à¤¸à¥à¤¤à¤¾Â à¤à¤°à¤£à¥Â à¤¤à¤¾.à¤¶à¤¿à¤°à¥à¤°",district:"Pune",constituency:"Shirur",mlaName:"Dnyaneshwar Katke",financialYear:"2024-25",adminApprovedAmount:1400,workPortionAmount:1200,taxDeductionAmount:110,vendor:{id:"1189",name:"Maratha Nirman & Co.",aadhar:"987654321098"}},{id:469,workCode:"ML/2425/2569",name:"ML/2425/2569 à¤à¤®à¤¦à¤¾à¤° à¤¸à¥à¤¥à¤¾à¤¨à¤¿à¤ à¤µà¤¿à¤à¤¾à¤¸ à¤à¤¾à¤°à¥à¤¯à¤à¥à¤°à¤® à¤¸à¤¨ à¥¨à¥¦à¥¨à¥ª-à¥¨à¥« à¤à¤à¤¤à¤°à¥à¤à¤¤ à¤¬à¤¾à¤°à¤¾à¤®à¤¤à¥ à¤¯à¥à¤¥à¥ à¤¹à¥à¤£à¤¾à¤±à¥à¤¯à¤¾ à¤¶à¤¿à¤µà¤à¤¤à¥à¤°à¤ªà¤¤à¥ à¤°à¤¾à¤à¥à¤¯ à¤¸à¥à¤¤à¤°à¥à¤¯ à¤à¤¬à¤¡à¥à¤¡à¥ à¤¸à¥à¤ªà¤°à¥à¤§à¥à¤à¤°à¤¿à¤¤à¤¾ à¤¨à¤¿à¤§à¥ à¤à¤ªà¤²à¤¬à¥à¤§ à¤à¤°à¤£à¥à¤¬à¤¾à¤¬à¤¤",district:"Pune",constituency:"Baramati",mlaName:"Ajit Anantrao Pawar",financialYear:"2024-25",adminApprovedAmount:1990,workPortionAmount:1800,taxDeductionAmount:100,vendor:{id:"1189",name:"Sadguru Infrastructure Ltd.",aadhar:"456789123456"}},{id:470,workCode:"ML/2425/0325",name:"ML/2425/0325 à¤®à¥à¤à¥ à¤µà¥à¤¹à¥à¤°à¤à¤¾à¤µ à¤¯à¥à¤¥à¥ à¤­à¥à¤°à¤µà¤¨à¤¾à¤¥ à¤®à¤à¤¦à¤¿à¤°à¤¾à¤¸à¤®à¥à¤°à¥à¤² à¤à¥à¤°à¤¾à¤®à¤ªà¤à¤à¤¾à¤¯à¤¤à¥à¤à¥à¤¯à¤¾ à¤®à¥à¤à¤³à¥à¤¯à¤¾ à¤à¤¾à¤à¥à¤¤ à¤¸à¤­à¤¾à¤®à¤à¤¡à¤ª à¤¬à¤¾à¤à¤§à¤£à¥.à¤¤à¤¾.à¤®à¤¾à¤µà¤³.à¤à¤¿.à¤ªà¥à¤£à¥ à¤à¥à¤°à¤¾à¤®à¤ªà¤à¤à¤¾à¤¯à¤¤ à¤µà¥à¤¹à¥à¤°à¤à¤¾à¤µ à¤®à¤¾à¤²à¤®à¤¤à¥à¤¤à¤¾ à¤à¥à¤°à¤®à¤¾à¤à¤ 120 Lat18.784103Â Long73.465508",district:"Pune",constituency:"Maval",mlaName:"Sunil Shankarrao Shelke",financialYear:"2024-25",adminApprovedAmount:1600,workPortionAmount:1400,taxDeductionAmount:100,vendor:{id:"1189",name:"Maharashtra Builders & Developers",aadhar:"321098765432"}}],ra=[{id:"MLD-467-1",workId:467,amount:500,date:"2025-02-01",status:"Pending",remarks:"First Installment"},{id:"MLD-468-1",workId:468,amount:500,date:"2025-02-02",status:"Pending",remarks:"First Installment"},{id:"MLD-469-1",workId:469,amount:500,date:"2025-02-03",status:"Pending",remarks:"First Installment"},{id:"MLD-470-1",workId:470,amount:500,date:"2025-02-04",status:"Pending",remarks:"First Installment"},{id:"MLD-473-1",workId:473,amount:500,date:"2025-02-05",status:"Pending",remarks:"First Installment"},{id:"MLD-473-2",workId:473,amount:500,date:"2025-03-05",status:"Approved",remarks:"Second Installment"},{id:"MLD-474-1",workId:474,amount:500,date:"2025-02-06",status:"Pending",remarks:"First Installment"},{id:"MLD-475-1",workId:475,amount:500,date:"2025-02-07",status:"Pending",remarks:"First Installment"},{id:"MLD-475-2",workId:475,amount:500,date:"2025-03-07",status:"Approved",remarks:"Second Installment"},{id:"MLD-476-1",workId:476,amount:500,date:"2025-02-08",status:"Pending",remarks:"First Installment"},{id:"MLD-476-2",workId:476,amount:500,date:"2025-03-08",status:"Approved",remarks:"Second Installment"},{id:"MLD-477-1",workId:477,amount:500,date:"2025-02-09",status:"Pending",remarks:"First Installment"},{id:"MLD-477-2",workId:477,amount:500,date:"2025-03-09",status:"Approved",remarks:"Second Installment"}];function gr(){const[s,n]=t.useState("All"),[a,r]=t.useState("All"),[l,x]=t.useState("All"),[o,m]=t.useState("All"),[i,u]=t.useState(!1),[j,A]=t.useState(null),S=t.useMemo(()=>["All",...new Set(Je.map(w=>w.financialYear))],[]),R=t.useMemo(()=>["All",...new Set(Je.map(w=>w.district))],[]);t.useMemo(()=>["All",...new Set(Je.map(w=>w.constituency))],[]);const D=t.useMemo(()=>["All",...new Set(Je.map(w=>w.mlaName))],[]),f=t.useMemo(()=>ra.filter(w=>{const c=Je.find(d=>d.id===w.workId);return!(s!=="All"&&c.financialYear!==s||a!=="All"&&c.district!==a||l!=="All"&&c.constituency!==l||o!=="All"&&c.mlaName!==o)}),[s,a,l,o]),V=w=>{A(w),u(!0)};return e.jsxs("div",{className:"p-6 bg-gray-50 space-y-6",children:[e.jsx(I,{children:e.jsx(E,{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 py-4",children:[{label:"Financial Year",value:s,onChange:n,options:S},{label:"Plan Type",value:a,onChange:r,options:R},{label:"MLA/MLC Name",value:o,onChange:m,options:D}].map(({label:w,options:c,value:d,onChange:P})=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-600 text-xs mb-1",children:w}),e.jsxs(X,{value:d,onValueChange:P,children:[e.jsx(K,{className:"h-10 bg-white text-sm rounded-sm border border-gray-300",children:e.jsx(Q,{placeholder:"All"})}),e.jsx(J,{children:c.map(B=>e.jsx(U,{value:B,children:B},B))})]})]},w))})}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{className:"text-lg text-gray-800",children:"MLA/MLC Fund Demands"}),e.jsx("span",{className:"text-sm text-red-600 italic",children:"*All Amounts Are in Thousands"})]}),e.jsx(E,{className:"overflow-x-auto p-0",children:e.jsxs("table",{className:"min-w-full border border-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700 uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-3 py-2 text-left",children:"Sr No"}),e.jsx("th",{className:"border px-3 py-2 text-left",children:"Demand ID"}),e.jsx("th",{className:"border px-3 py-2 text-left",children:"MLA/MLC Account Name"}),e.jsx("th",{className:"border px-3 py-2 text-right",children:"AA Amount"}),e.jsx("th",{className:"border px-3 py-2 text-right",children:"Gross Work Order Amt"}),e.jsx("th",{className:"border px-3 py-2 text-right",children:"Demand Amount"}),e.jsx("th",{className:"border px-3 py-2 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:f.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"py-6 text-center text-gray-500",children:"No records found"})}):f.map((w,c)=>{const d=Je.find(B=>B.id===w.workId);if(!d)return null;const P=d.workPortionAmount+d.taxDeductionAmount;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border px-3 py-2",children:c+1}),e.jsx("td",{className:"border px-3 py-2",children:w.id}),e.jsx("td",{className:"border px-3 py-2",children:d.mlaName}),e.jsx("td",{className:"border px-3 py-2 text-right",children:d.adminApprovedAmount}),e.jsx("td",{className:"border px-3 py-2 text-right",children:P}),e.jsx("td",{className:"border px-3 py-2 text-right",children:w.amount.toLocaleString()}),e.jsx("td",{className:"border px-3 py-2 text-center",children:e.jsxs(_e,{open:i&&j===w.id,onOpenChange:u,children:[e.jsx(es,{asChild:!0,children:e.jsx(L,{size:"icon",variant:"ghost",onClick:()=>V(w.id),children:e.jsx(je,{className:"w-5 h-5 text-blue-600"})})}),e.jsx(Ie,{className:"w-[90vw] max-w-[1200px]",children:e.jsx(pr,{open:i&&j===w.id,onClose:()=>u(!1),demand:w,work:d,demands:ra})})]})})]},w.id)})})]})})]})]})}const jr=[{demandNumber:"O-26",district:" PUNE",budget:12340156,fundsDistributed:0,balanceBudget:0,demandsPendingForApproval:16e3,schemes:[{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"20410644",schemeTitle:"District Road Safety Measures",objectCode:31,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2053A233",schemeTitle:"Strengthening of Dynamic Government Administration and Emergency Management System",objectCode:13,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2053A233",schemeTitle:"Strengthening of Dynamic Government Administration and Emergency Management System",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2053A233",schemeTitle:"Strengthening of Dynamic Government Administration and Emergency Management System",objectCode:27,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2053A233",schemeTitle:"Strengthening of Dynamic Government Administration and Emergency Management System",objectCode:31,budgetThousands:474001},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2202J395",schemeTitle:"Assistance to Zilla Parishad for Special Repairs of School Buildings, Rooms and Latrine",objectCode:31,budgetThousands:25e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2202J733",schemeTitle:"Creating infrastructure for primary/ secondary schools in Zilla Parishad area",objectCode:31,budgetThousands:25e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2202K079",schemeTitle:"Assistance for Aadarsh Schools to construct basic facilities",objectCode:31,budgetThousands:25e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2202K426",schemeTitle:"Creation of Science labs, Computer labs, Digital schools, Internet/Wi-Fi facilities",objectCode:31,budgetThousands:25e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22031029",schemeTitle:"Development of facilities in Pre S.S.C. Vocational Education.(District Plan-Pune)",objectCode:21,budgetThousands:599},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22031029",schemeTitle:"Development of facilities in Pre S.S.C. Vocational Education.(District Plan-Pune)",objectCode:52,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22033077",schemeTitle:"Plus two stage Vocational education",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22033077",schemeTitle:"Plus two stage Vocational education",objectCode:52,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22042538",schemeTitle:"Welfare Extension Youth Programme in Rural areas.(District Plan-Pune)",objectCode:31,budgetThousands:2e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22042565",schemeTitle:"Development of Play Grounds.(District Plan-Pune)",objectCode:31,budgetThousands:14e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22044684",schemeTitle:"(District Plan-Pune) Grant -in-aid to Gymnasium and Play Ground",objectCode:31,budgetThousands:14e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22052165",schemeTitle:"Government Central,Divisional and District Libraries.(District Plan-Pune)",objectCode:13,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22052165",schemeTitle:"Government Central,Divisional and District Libraries.(District Plan-Pune)",objectCode:21,budgetThousands:999},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22053279",schemeTitle:"Assistance to Grampanchyat and other public libraries",objectCode:31,budgetThousands:100},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22053813",schemeTitle:"Conservation of forts, temples and important Protected monuments etc. in the state",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22053813",schemeTitle:"Conservation of forts, temples and important Protected monuments etc. in the state",objectCode:27,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22053813",schemeTitle:"Conservation of forts, temples and important Protected monuments etc. in the state",objectCode:31,budgetThousands:313678},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210H614",schemeTitle:"Purchase of Medicines, Machinery and Equipments for Primary Health Centres/ Sub-centres",objectCode:31,budgetThousands:8e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210H955",schemeTitle:"Construction, Extension, Repairs, Maintenance, Purchase of Fire safety equipments & Repairs, Structural Audit of primary health centres/ sub-centres, Construction of Burial Pit",objectCode:31,budgetThousands:656980},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210I292",schemeTitle:"Purchase, Repairs and Maintenance of Ambulances to Primary Health Centers as per norm (Sanctioned Quantity)",objectCode:31,budgetThousands:5e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210I639",schemeTitle:"Strengthening of Primary Health Centers/ Sub Centres/ Ayurvedic and Unani Dispensaries (Increase in Facilities)",objectCode:31,budgetThousands:25e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210I971",schemeTitle:"Construction of Zilla Parishad Dispensaries/ Primary Health units",objectCode:31,budgetThousands:5500},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210J332",schemeTitle:"Purchase of Medicines, Machinery, and Equipments for Hospitals",objectCode:13,budgetThousands:2e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210J332",schemeTitle:"Purchase of Medicines, Machinery, and Equipments for Hospitals",objectCode:21,budgetThousands:2e5},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210J332",schemeTitle:"Purchase of Medicines, Machinery, and Equipments for Hospitals",objectCode:31,budgetThousands:1e5},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210J682",schemeTitle:"Special programs for upgradation of hospital services and equipment (purchase and maintanenceof ambulances)",objectCode:13,budgetThousands:100},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210J682",schemeTitle:"Special programs for upgradation of hospital services and equipment (purchase and maintanenceof ambulances)",objectCode:21,budgetThousands:100},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210J682",schemeTitle:"Special programs for upgradation of hospital services and equipment (purchase and maintanenceof ambulances)",objectCode:31,budgetThousands:100},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2210J682",schemeTitle:"Special programs for upgradation of hospital services and equipment (purchase and maintanenceof ambulances)",objectCode:51,budgetThousands:1700},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22159612",schemeTitle:"Installation of power-pumps, conversion of hand-pumps into power-pumps and their maintenance and repairs",objectCode:31,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22171751",schemeTitle:"Grant-in-aid to municipal council for implementation of Development Plans.(District Plan-Pune)",objectCode:31,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22178442",schemeTitle:"(37)(08)Maharashtra Nagarutthan Abhiyan(2217****)31 Grants in aid",objectCode:31,budgetThousands:2287500},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2217A323",schemeTitle:"Strengthening of Fire fighting and emergency Services",objectCode:31,budgetThousands:159098},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2217A352",schemeTitle:"Improvement of other Bastis/Slums in urban areas",objectCode:31,budgetThousands:887400},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22200885",schemeTitle:"Strenthning of District Information Office(2220****)13 Office Expences21 Supplies and Material50 Other Expenditure",objectCode:21,budgetThousands:1501},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22255479",schemeTitle:"State Government Post Matrics Scholarships.(District Plan-Pune)",objectCode:34,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22255586",schemeTitle:"Grant in aid to Zilla Parishad under section 187 of Maharashtra Zilla Parishad and Panchayat Samitis",objectCode:31,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2225F853",schemeTitle:"Tanda/Basti Improvement Scheme",objectCode:31,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22302319",schemeTitle:"Procurement of Deficient Equipment in existing I.T.Is(District Plan-Pune)",objectCode:21,budgetThousands:23699},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22302319",schemeTitle:"Procurement of Deficient Equipment in existing I.T.Is(District Plan-Pune)",objectCode:52,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2230A488",schemeTitle:"Minimum Skill Development Programme",objectCode:20,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2230A488",schemeTitle:"Minimum Skill Development Programme",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2230A488",schemeTitle:"Minimum Skill Development Programme",objectCode:31,budgetThousands:3e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22354315",schemeTitle:"Grants to Mahila Mandals.(District Plan-Pune)",objectCode:31,budgetThousands:2e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2235C671",schemeTitle:"Empowerment of Women and Child Development",objectCode:13,budgetThousands:100},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2235C671",schemeTitle:"Empowerment of Women and Child Development",objectCode:27,budgetThousands:100},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2235C671",schemeTitle:"Empowerment of Women and Child Development",objectCode:31,budgetThousands:1e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22362315",schemeTitle:"Integrated Child Development Services",objectCode:13,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22362315",schemeTitle:"Integrated Child Development Services",objectCode:27,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"22362315",schemeTitle:"Integrated Child Development Services",objectCode:31,budgetThousands:260476},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034146",schemeTitle:"Construction of Veterinary Dispensaries, Primary aid Centers (District)(District Plan-Pune)",objectCode:13,budgetThousands:700},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034146",schemeTitle:"Construction of Veterinary Dispensaries, Primary aid Centers (District)(District Plan-Pune)",objectCode:21,budgetThousands:1e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034146",schemeTitle:"Construction of Veterinary Dispensaries, Primary aid Centers (District)(District Plan-Pune)",objectCode:31,budgetThousands:3e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034155",schemeTitle:"Supply of Medicines to the Veterinary Institutions(District Plan-Pune)",objectCode:31,budgetThousands:28800},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034235",schemeTitle:"Subsidy for supply of poultry units under Self Employment Creation Programme",objectCode:31,budgetThousands:4999},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034235",schemeTitle:"Subsidy for supply of poultry units under Self Employment Creation Programme",objectCode:33,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034244",schemeTitle:"Fodder and Feed Development -Grants to Zilla Parishads(State Plan)(District Plan-Pune)",objectCode:31,budgetThousands:5e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24034271",schemeTitle:"Plan Grants to Zilla Parishads.(State Plan)(District Plan-Pune)",objectCode:31,budgetThousands:800},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2403C027",schemeTitle:"Kamdhenu Dattak Gram Yojana",objectCode:31,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24043554",schemeTitle:"Integrated Dairy Development Project.(State Plan)(District Plan-Pune)",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24051895",schemeTitle:"Fish Seed Farms - State Plan Scheme.(District Plan-Pune)",objectCode:21,budgetThousands:1100},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24057946",schemeTitle:"Fisheries Requisite",objectCode:31,budgetThousands:880},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24057946",schemeTitle:"Fisheries Requisite",objectCode:33,budgetThousands:20},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24062938",schemeTitle:"Reafforestation of degraded Forest.(District Plan-Pune)",objectCode:2,budgetThousands:52e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24062938",schemeTitle:"Reafforestation of degraded Forest.(District Plan-Pune)",objectCode:21,budgetThousands:13e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24065795",schemeTitle:"(District Plan-Pune)Village Eco-development and Tribal Development-",objectCode:2,budgetThousands:24e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24065795",schemeTitle:"(District Plan-Pune)Village Eco-development and Tribal Development-",objectCode:21,budgetThousands:6e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24067412",schemeTitle:"(02)(37)Joint forest Management(2406****)02 Wages,21 Supplies and Material",objectCode:2,budgetThousands:16e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24067412",schemeTitle:"(02)(37)Joint forest Management(2406****)02 Wages,21 Supplies and Material",objectCode:21,budgetThousands:4e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24068079",schemeTitle:"Central Nurseries",objectCode:2,budgetThousands:6e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24068079",schemeTitle:"Central Nurseries",objectCode:21,budgetThousands:15e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2406B397",schemeTitle:"Eco Tourism",objectCode:2,budgetThousands:4e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2406B397",schemeTitle:"Eco Tourism",objectCode:21,budgetThousands:24e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"2406B397",schemeTitle:"Eco Tourism",objectCode:27,budgetThousands:16e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"24251671",schemeTitle:"Dr. Panjabrao Deshmukh Interest Rebate Scheme.(District Plan-Pune)",objectCode:33,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"25151499",schemeTitle:"Special Grants to big village panchayat for providing civic facility",objectCode:31,budgetThousands:75e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"25151505",schemeTitle:"Special Grants to village panchayat for providing civic facility",objectCode:31,budgetThousands:1e6},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"25152717",schemeTitle:"Grants to Zilla Parishad for purchase of launch to start passenger traffic on river",objectCode:31,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"27025287",schemeTitle:"Minor Irrigation Works- General Plan (Adjusted with Ways and Means Advances)",objectCode:31,budgetThousands:159900},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"27025296",schemeTitle:"General Plan (Kolhapur Type Weirs)(Adjusted with Ways and Means Advanes)(District Plan-Pune)",objectCode:31,budgetThousands:62782},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"27029783",schemeTitle:"Survey Works under Irrigation Scheme (0 to 100 ha.)",objectCode:31,budgetThousands:1e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"28015839",schemeTitle:"Assistance to MSEDCL Co. Ltd for General Development and System Improvement",objectCode:31,budgetThousands:75e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"28101101",schemeTitle:"Non-Conventional Energy Development",objectCode:31,budgetThousands:15e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"28511821",schemeTitle:"Schemes for Providing stipends to entrepreneurs for starting enterprise under the Educated Un-employed Scheme",objectCode:34,budgetThousands:2e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"28516752",schemeTitle:"Grants for Silk Yarn Production",objectCode:31,budgetThousands:4e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"30543317",schemeTitle:"Grants to Zilla Parishad for Strengthening and Development of Other District Roads",objectCode:31,budgetThousands:5e5},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"30543611",schemeTitle:"Grants to Zilla Parishad for Strengthening and development of Village Roads",objectCode:31,budgetThousands:1e6},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511795",schemeTitle:"Innovative Schemes (3451 ****)",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511795",schemeTitle:"Innovative Schemes (3451 ****)",objectCode:27,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511795",schemeTitle:"Innovative Schemes (3451 ****)",objectCode:31,budgetThousands:470518},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511991",schemeTitle:"Evaluation, Monitaring and Data Entry of Schemes (3451 ****)",objectCode:13,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511991",schemeTitle:"Evaluation, Monitaring and Data Entry of Schemes (3451 ****)",objectCode:20,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511991",schemeTitle:"Evaluation, Monitaring and Data Entry of Schemes (3451 ****)",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511991",schemeTitle:"Evaluation, Monitaring and Data Entry of Schemes (3451 ****)",objectCode:28,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34511991",schemeTitle:"Evaluation, Monitaring and Data Entry of Schemes (3451 ****)",objectCode:31,budgetThousands:52276},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512497",schemeTitle:"(37)(04)Other District Schemes (3451 ****)",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512497",schemeTitle:"(37)(04)Other District Schemes (3451 ****)",objectCode:27,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512497",schemeTitle:"(37)(04)Other District Schemes (3451 ****)",objectCode:31,budgetThousands:12606},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512998",schemeTitle:"Strengthening of District Planning Committee",objectCode:13,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512998",schemeTitle:"Strengthening of District Planning Committee",objectCode:20,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512998",schemeTitle:"Strengthening of District Planning Committee",objectCode:21,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512998",schemeTitle:"Strengthening of District Planning Committee",objectCode:28,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34512998",schemeTitle:"Strengthening of District Planning Committee",objectCode:31,budgetThousands:7},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"34522132",schemeTitle:"Places which have been categorised as",objectCode:31,budgetThousands:1e5},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-26 (Revenue)",schemeCRC:"36040621",schemeTitle:"Special Programme for Development of Pilgrimage Places (Plan)(District Plan-Pune)",objectCode:50,budgetThousands:1e5}]},{demandNumber:"O-27",district:"PUNE",budget:1449844,fundsDistributed:0,balanceBudget:0,demandsPendingForApproval:16e4,schemes:[{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"40550386",schemeTitle:"Provide infrastructural facilities to various establishments of Police and Prisons in Home Department, Implementing various technological projects including CCTV system, as also strengthening of traffic arrangements.",objectCode:50,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"40550386",schemeTitle:"Provide infrastructural facilities to various establishments of Police and Prisons in Home Department, Implementing various technological projects including CCTV system, as also strengthening of traffic arrangements.",objectCode:51,budgetThousands:177433},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"40550386",schemeTitle:"Provide infrastructural facilities to various establishments of Police and Prisons in Home Department, Implementing various technological projects including CCTV system, as also strengthening of traffic arrangements.",objectCode:52,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"40550386",schemeTitle:"Provide infrastructural facilities to various establishments of Police and Prisons in Home Department, Implementing various technological projects including CCTV system, as also strengthening of traffic arrangements.",objectCode:53,budgetThousands:136245},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"40591436",schemeTitle:"Major Works",objectCode:53,budgetThousands:15e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"40592601",schemeTitle:"Construction of Protection Wall to Prevent Encrochment on Public Lands",objectCode:53,budgetThousands:5e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42103336",schemeTitle:"Construction/ Extension, Repairs Maintenance, of hospitals, Purchase & Repairs of Fire safety equipments, Structural Audit & Electrical Audit of Hospital",objectCode:53,budgetThousands:2e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42160736",schemeTitle:"Major Works.(District Plan-Pune)General Pool Accoommodation",objectCode:53,budgetThousands:5e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42350449",schemeTitle:"Major Works of Women and Child Developmemt Department",objectCode:51,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42350449",schemeTitle:"Major Works of Women and Child Developmemt Department",objectCode:52,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42350449",schemeTitle:"Major Works of Women and Child Developmemt Department",objectCode:53,budgetThousands:5e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42501783",schemeTitle:"Land acquisition and construction of Workshop building for I.T.Is(4250****)53 Major works",objectCode:53,budgetThousands:5e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42501809",schemeTitle:"Construction of Government Technical school(4250****) 21 Supplies and Material, 53 Major works",objectCode:53,budgetThousands:14e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"42502224",schemeTitle:"Construction of hostel for ITI students & providing training facilities(",objectCode:53,budgetThousands:6500},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44021765",schemeTitle:"Land Development through Soil Conservation Measures",objectCode:53,budgetThousands:5e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44031641",schemeTitle:"Constuction,Strenthning and Modernization of Veterinary hospital and Despensaries(4403****)53 Major works",objectCode:52,budgetThousands:4e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44031641",schemeTitle:"Constuction,Strenthning and Modernization of Veterinary hospital and Despensaries(4403****)53 Major works",objectCode:53,budgetThousands:2e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44051021",schemeTitle:"Fish Seed Farm",objectCode:53,budgetThousands:2e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44061122",schemeTitle:"Schemes in the Five Year Plan- State Plan Scheme-Forest Roads and Bridges.(District Plan-Pune)",objectCode:2,budgetThousands:36e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44061122",schemeTitle:"Schemes in the Five Year Plan- State Plan Scheme-Forest Roads and Bridges.(District Plan-Pune)",objectCode:21,budgetThousands:9e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44063188",schemeTitle:"Soil and water conservation works in the Forest",objectCode:2,budgetThousands:104e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44063188",schemeTitle:"Soil and water conservation works in the Forest",objectCode:21,budgetThousands:26e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"44063902",schemeTitle:"Buildings In Forest",objectCode:53,budgetThousands:35e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"45150997",schemeTitle:"Other District Scheme",objectCode:52,budgetThousands:114560},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"45150997",schemeTitle:"Other District Scheme",objectCode:53,budgetThousands:1e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"4702A251",schemeTitle:"Land Acquisition for Minor Irrigation",objectCode:53,budgetThousands:99},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"4702A494",schemeTitle:"Construction and Repairs of Minor Irrigation Works (Upto 101 to 250 ha. Capacity)",objectCode:53,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"47112892",schemeTitle:"Works for Flood-Control",objectCode:53,budgetThousands:1e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"50545494",schemeTitle:"Construction of Sakav",objectCode:53,budgetThousands:35e4},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"62170204",schemeTitle:"Loans to Municipal Councils for implementation of Development Plans.(District Plan-Pune)",objectCode:55,budgetThousands:1},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"62500323",schemeTitle:"Loans to Educated unemployed by way of Seed Money.(District Plan-Pune)",objectCode:55,budgetThousands:2e3},{district:"Pune",planType:"General Plan",fy:"2025-26",demandCode:"O-27 (Capital)",schemeCRC:"68510537",schemeTitle:"Loans for Rural Industrial Project Programme in the District Industries Centres(District Plan-Pune)",objectCode:55,budgetThousands:1}]}];function br(){const s=t.useMemo(()=>[{value:"O-26",label:"O-26 (Revenue)"},{value:"O-27",label:"O-27 (Capital)"}],[]),[n,a]=t.useState("O-26"),[r,l]=t.useState([]),[x,o]=t.useState(""),[m,i]=t.useState(""),[u,j]=t.useState(""),[A,S]=t.useState(null),R=t.useMemo(()=>{const h=jr.find(v=>v.demandNumber===n);return h?h.schemes.map((v,p)=>({id:`${v.schemeCRC}-${p}`,name:`${v.schemeCRC} â ${v.schemeTitle}`,limit:v.budgetThousands*1e3,utilized:0})):[]},[n]),[D,f]=t.useState([]);t.useEffect(()=>{f(R),R.length>=2?(l([R[0].id]),o(R[1].id)):(l([]),o("")),i(""),j(""),S(null)},[R]);const V=D.filter(h=>r.includes(h.id)),w=D.find(h=>h.id===x)||null,c=V.reduce((h,v)=>h+(v.limit-v.utilized),0),d=w?w.limit-w.utilized:0,P=Number(m)||0,B=Number(u)||0,ee=w?w.utilized+B:0,T=()=>{if(S(null),P<=0||B<=0)return S({text:"Enter both debit and credit amounts.",type:"error"});if(P!==B)return S({text:"Debited and Credited amounts must be equal.",type:"error"});if(P>c)return S({text:"Debited amount exceeds total selected scheme balance.",type:"error"});if(B>d)return S({text:"Credited amount exceeds target scheme balance.",type:"error"});let h=P;const v=D.map(p=>{if(r.includes(p.id)&&h>0){const C=p.limit-p.utilized,g=Math.min(C,h);return h-=g,{...p,utilized:p.utilized+g}}return p.id===x&&w?{...p,utilized:p.utilized-B}:p});f(v),i(""),j(""),l([]),S({text:"Transfer successful!",type:"success"})};return e.jsxs(I,{className:"shadow-lg rounded-2xl overflow-hidden",children:[e.jsxs(G,{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsx("div",{children:e.jsx(F,{className:"text-2xl font-bold",children:"Re-Appropriation"})}),e.jsx("div",{className:"w-48",children:e.jsxs(X,{value:n,onValueChange:h=>a(h),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"Choose demand"})}),e.jsx(J,{children:s.map(h=>e.jsx(U,{value:h.value,children:h.label},h.value))})]})})]}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Debited Amount (â¹)"}),e.jsx(_,{type:"number",value:m,onChange:h=>i(h.target.value),placeholder:`Max â¹${c.toLocaleString()}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Credited Amount (â¹)"}),e.jsx(_,{type:"number",value:u,onChange:h=>j(h.target.value),placeholder:`Max â¹${d.toLocaleString()}`})]})]}),P!==B&&(P>0||B>0)&&e.jsx("div",{className:"text-red-600 italic text-sm mt-2",children:"*Credited Amount Should be equal to Debited Amount"}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsxs("section",{className:"flex-1 bg-white p-4 rounded-lg border",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Debited From (Multiple)"}),e.jsxs(X,{value:"",onValueChange:h=>{r.includes(h)||l([...r,h])},children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"Select source schemes"})}),e.jsx(J,{children:D.filter(h=>h.id!==x).map(h=>e.jsx(U,{value:h.id,children:h.name},h.id))})]}),e.jsx("ul",{className:"mt-4 text-sm space-y-1",children:V.map(h=>e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:h.name}),e.jsx("button",{className:"text-red-600 text-xs",onClick:()=>l(r.filter(v=>v!==h.id)),children:"Remove"})]},h.id))}),e.jsx("ul",{className:"mt-4 text-sm space-y-1",children:e.jsxs("li",{children:[e.jsx("strong",{children:"Total Available:"})," â¹",c.toLocaleString()]})})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(_t,{className:"w-12 h-12 text-blue-500"})}),e.jsxs("section",{className:"flex-1 bg-white p-4 rounded-lg border",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Credited To"}),e.jsxs(X,{value:x,onValueChange:o,children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"Select target scheme"})}),e.jsx(J,{children:D.filter(h=>!r.includes(h.id)).map(h=>e.jsx(U,{value:h.id,children:h.name},h.id))})]}),e.jsxs("ul",{className:"mt-4 text-sm space-y-1",children:[e.jsxs("li",{children:["Limit: â¹",w?w.limit.toLocaleString():"-"]}),e.jsxs("li",{children:["Utilized: â¹",w?w.utilized.toLocaleString():"-"]}),e.jsxs("li",{children:["Balance: â¹",d.toLocaleString()]})]})]})]}),w&&B>0&&e.jsx("div",{className:"text-sm space-y-1",children:e.jsxs("div",{children:[e.jsx("strong",{children:"Post-Transfer âToâ Utilized:"})," ",e.jsxs("span",{className:ee>w.limit?"text-red-600":"text-green-600",children:["â¹",ee.toLocaleString()]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:T,className:"bg-blue-600 hover:bg-blue-700",disabled:!w||P<=0||B<=0||P!==B||P>c||B>d,children:"Submit For Approval"})}),A&&e.jsx("div",{className:`p-3 mt-4 rounded ${A.type==="error"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:A.text})]})]})}const ts=zt,He=t.forwardRef(({className:s,...n},a)=>e.jsx(Wa,{ref:a,className:H("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...n}));He.displayName=Wa.displayName;const ue=t.forwardRef(({className:s,...n},a)=>e.jsx($a,{ref:a,className:H("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...n}));ue.displayName=$a.displayName;const oe=t.forwardRef(({className:s,...n},a)=>e.jsx(Ha,{ref:a,className:H("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...n}));oe.displayName=Ha.displayName;const la=[{id:1,name:"GST (18%)",percentage:18},{id:2,name:"TDS (2%)",percentage:2},{id:3,name:"Cess (1%)",percentage:1}],fr=s=>!isNaN(s)&&isFinite(s),yr=({open:s,onClose:n,work:a,demands:r,addDemand:l})=>{const[x,o]=t.useState(""),[m,i]=t.useState(""),[u,j]=t.useState([]),[A,S]=t.useState(!1),[R,D]=t.useState(""),[f,V]=t.useState(""),[w,c]=t.useState("");t.useEffect(()=>{c("DM-"+Date.now().toString().slice(-6))},[s,a]);const d=t.useMemo(()=>(r||[]).filter(z=>a&&z.workId===a.id),[r,a]),P=(a==null?void 0:a.vendorDetails)||{name:"",aadhar:""};P.totalFundReceived=d.filter(z=>z.status==="Approved").reduce((z,k)=>z+(k.netPayable??k.amount??0),0),P.totalTaxDeducted=d.filter(z=>z.status==="Approved").reduce((z,k)=>z+(Array.isArray(k.taxes)?k.taxes.reduce((Z,me)=>Z+(me.amount??0),0):0),0);const B=((a==null?void 0:a.workPortionAmount)??0)+((a==null?void 0:a.taxDeductionAmount)??0),ee=d.reduce((z,k)=>z+(k.amount??0),0),T=B-ee,h=Number(x)||0,v=la.filter(z=>u.includes(z.id)),p=v.map(z=>({...z,amount:Math.round(h*(z.percentage/100))})),C=p.reduce((z,k)=>z+(k.amount??0),0),g=h-C;t.useEffect(()=>{if(D(""),V(""),!!x){if(!fr(x)||h<=0){D("Please enter a valid positive amount.");return}if(h>T){D(`Demand amount exceeds balance limit (â¹${(T??0).toLocaleString()}).`);return}h===T&&V("Note: You are demanding the exact remaining balance amount."),h>.9*T&&h<T&&V("Warning: You are demanding more than 90% of the available balance.")}},[x,T,h]);const q=z=>{j(k=>k.includes(z)?k.filter(Z=>Z!==z):[...k,z])},Y=z=>{if(z.preventDefault(),!(R||!h||h<=0)){if(!m.trim()){D("Enter purpose/remarks.");return}l({id:w,workId:a.id,workName:a.name,vendor:P.name,amount:h,netPayable:g,taxes:p,scheme:a.scheme,status:"Pending",date:new Date().toISOString().split("T")[0],remarks:m}),o(""),i(""),j([]),V(""),n()}};return!s||!a?null:e.jsx("div",{className:"fixed inset-0 bg-black/30 z-50 flex items-center justify-center p-2",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full md:w-[80vw] max-w-none p-3 relative max-h-[90vh] overflow-y-auto",children:[e.jsx("button",{className:"absolute top-3 right-3",onClick:n,children:e.jsx(be,{className:"w-5 h-5 text-gray-400 hover:text-red-500"})}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Raise Fund Demand"}),e.jsxs(I,{className:"mb-2",children:[e.jsxs(G,{className:"p-2 pb-0",children:[e.jsx(F,{className:"text-lg flex items-center gap-2",children:a.scheme}),e.jsx("div",{className:"text-xs text-gray-400",children:"Scheme Name"})]}),e.jsx(E,{className:"p-2 pt-1",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Work Name"}),e.jsx("div",{children:a.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Sanctioned Date"}),e.jsx("div",{children:a.sanctionedDate})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Financial Year"}),e.jsx("div",{children:a.financialYear})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Admin Approved Amount"}),e.jsxs("div",{children:["â¹",(a.adminApprovedAmount??0).toLocaleString()]})]}),a.aaLetter&&e.jsx("a",{href:a.aaLetter,target:"_blank",rel:"noopener noreferrer",title:"View AA Letter",children:e.jsx(je,{className:"inline-block w-5 h-5 text-primary ml-1 cursor-pointer"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Work Portion Amount"}),e.jsxs("div",{children:["â¹",(a.workPortionAmount??0).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Gross Total"}),e.jsxs("div",{children:["â¹",(B??0).toLocaleString()]})]}),a.sanctionedLetter&&e.jsx("a",{href:a.sanctionedLetter,target:"_blank",rel:"noopener noreferrer",title:"View Sanctioned Letter",children:e.jsx(je,{className:"inline-block w-5 h-5 text-primary ml-1 cursor-pointer"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Total Demanded"}),e.jsxs("div",{children:["â¹",(ee??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Balance Amount"}),e.jsxs("div",{className:"font-bold text-primary",children:["â¹",(T??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"IA / PWD"}),e.jsx("div",{children:a.ia||"PWD"})]})]})})]}),e.jsxs(I,{className:"mb-2",children:[e.jsx(G,{className:"p-2 pb-0",children:e.jsx(F,{className:"text-base",children:"Vendor Details"})}),e.jsx(E,{className:"p-2 pt-1",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Vendor Name"}),e.jsx("div",{children:P.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Aadhar No."}),e.jsx("div",{children:P.aadhar})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Total Fund Received"}),e.jsxs("div",{children:["â¹",(P.totalFundReceived??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Total Tax Deducted"}),e.jsxs("div",{children:["â¹",(P.totalTaxDeducted??0).toLocaleString()]})]})]})})]}),e.jsxs(I,{className:"mb-2",children:[e.jsx(G,{className:"p-2 pb-0",children:e.jsx(F,{className:"text-base",children:"Raise New Fund Demand"})}),e.jsx(E,{className:"p-2 pt-1",children:e.jsxs("form",{onSubmit:Y,className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-semibold text-gray-700",children:"Demand ID"}),e.jsx(_,{value:w,readOnly:!0,disabled:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-semibold text-gray-700",children:"Demand Amount"}),e.jsx(_,{type:"number",min:1,max:T,value:x,onChange:z=>o(z.target.value.replace(/^0+/,"")),placeholder:"Enter amount",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block mb-1 font-semibold text-gray-700",children:"Select Taxes"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",className:"w-full border rounded-lg px-3 py-2 flex items-center justify-between bg-gray-50",onClick:()=>S(z=>!z),children:[v.length>0?v.map(z=>z.name).join(", "):"Select taxes to apply",e.jsx($s,{className:"w-4 h-4"})]}),A&&e.jsx("div",{className:"absolute z-10 bg-white border rounded shadow w-full mt-1 max-h-40 overflow-y-auto",children:la.map(z=>e.jsxs("label",{className:"flex items-center px-3 py-1 cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:u.includes(z.id),onChange:()=>q(z.id),className:"mr-2"}),z.name]},z.id))})]}),p.length>0&&e.jsx("ul",{className:"text-xs mt-1 text-gray-600",children:p.map(z=>e.jsxs("li",{children:[z.name,": â¹",(z.amount??0).toLocaleString()]},z.id))})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block mb-1 font-semibold text-gray-700",children:"Purpose / Remarks"}),e.jsx(_,{type:"text",value:m,onChange:z=>i(z.target.value),placeholder:"Enter purpose/remarks",required:!0})]}),e.jsxs("div",{className:"md:col-span-2 grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Total Tax"}),e.jsxs("div",{children:["â¹",(C??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Net Payable to Vendor"}),e.jsxs("div",{className:"font-bold text-primary",children:["â¹",(g>0?g:0).toLocaleString()]})]})]}),f&&e.jsxs("div",{className:"col-span-2 flex items-center text-yellow-700 bg-yellow-50 rounded p-2 gap-2",children:[e.jsx(Ts,{className:"w-5 h-5 text-yellow-700"}),f]}),R&&e.jsxs("div",{className:"col-span-2 flex items-center text-red-700 bg-red-50 rounded p-2 gap-2",children:[e.jsx(Ts,{className:"w-5 h-5 text-red-700"}),R]}),e.jsx("div",{className:"col-span-2 flex justify-end",children:e.jsxs(L,{type:"submit",className:"flex items-center gap-2",disabled:!!R||!h||h<=0,children:[e.jsx(Se,{className:"h-4 w-4"}),"Raise Demand"]})})]})})]}),e.jsxs(I,{children:[e.jsx(G,{className:"p-2 pb-0",children:e.jsx(F,{className:"text-base",children:"All Demands for this Work"})}),e.jsx(E,{className:"p-2 pt-1",children:d.length===0?e.jsx("div",{className:"text-sm text-gray-500",children:"No demands yet."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm border",children:[e.jsx("thead",{children:e.jsx("tr",{children:["Demand ID","Amount","Net Payable","Date","Remarks","Taxes","Status"].map(z=>e.jsx("th",{className:"px-1 py-0.5 border",children:z},z))})}),e.jsx("tbody",{children:d.map(z=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-1 py-0.5 border",children:z.id}),e.jsxs("td",{className:"px-1 py-0.5 border",children:["â¹",(z.amount??0).toLocaleString()]}),e.jsxs("td",{className:"px-1 py-0.5 border",children:["â¹",(z.netPayable??z.amount??0).toLocaleString()]}),e.jsx("td",{className:"px-1 py-0.5 border",children:z.date}),e.jsx("td",{className:"px-1 py-0.5 border",children:z.remarks}),e.jsx("td",{className:"px-1 py-0.5 border",children:z.taxes&&z.taxes.length>0?z.taxes.map((k,Z)=>e.jsxs("div",{children:[k.name,": â¹",(k.amount??0).toLocaleString()]},Z)):e.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),e.jsx("td",{className:"px-1 py-0.5 border",children:e.jsx(le,{children:z.status})})]},z.id))})]})})})]})]})})},Nr=({open:s,onClose:n,demand:a,work:r,vendor:l,demands:x=[]})=>{if(!s||!a||!r)return null;const o=x.filter(j=>j.workId===r.id),m=(r.adminApprovedAmount??0)+(r.taxDeductionAmount??0),i=o.reduce((j,A)=>j+(A.amount??0),0),u=m-i;return e.jsx("div",{className:"fixed inset-0 bg-black/30 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl p-6 relative max-h-[90vh] overflow-y-auto",children:[e.jsx("button",{className:"absolute top-4 right-4",onClick:n,children:e.jsx(be,{className:"w-5 h-5 text-gray-400 hover:text-red-500"})}),e.jsxs(I,{className:"mb-4",children:[e.jsx(G,{children:e.jsx(F,{className:"text-lg",children:"Work & Scheme Overview"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Scheme Name"}),e.jsx("div",{children:r.scheme})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Work Name"}),e.jsx("div",{children:r.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Sanctioned Date"}),e.jsx("div",{children:r.sanctionedDate})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Financial Year"}),e.jsx("div",{children:r.financialYear})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Work Portion Amount"}),e.jsxs("div",{children:["â¹",(r.workPortionAmount??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Gross Total"}),e.jsxs("div",{children:["â¹",(m??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Total Demanded"}),e.jsxs("div",{children:["â¹",(i??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Balance Amount"}),e.jsxs("div",{className:"font-bold text-primary",children:["â¹",(u??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"IA / PWD"}),e.jsx("div",{children:r.ia||"PWD"})]})]})})]}),e.jsxs(I,{className:"mb-4",children:[e.jsx(G,{children:e.jsx(F,{className:"text-base",children:"Vendor Details"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Vendor Name"}),e.jsx("div",{children:l.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Aadhar No."}),e.jsx("div",{children:l!=null&&l.aadhar?`XXXX-XXXX-${l.aadhar.slice(-4)}`:"N/A"})]})]})})]}),e.jsxs(I,{children:[e.jsx(G,{children:e.jsx(F,{className:"text-lg",children:"Current Demand Details"})}),e.jsxs(E,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Demand ID"}),e.jsx("div",{children:a.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Date"}),e.jsx("div",{children:a.date})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Amount"}),e.jsxs("div",{children:["â¹",(a.amount??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Net Payable"}),e.jsxs("div",{children:["â¹",(a.netPayable??a.amount??0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Status"}),e.jsx("div",{children:e.jsx(le,{children:a.status})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Remarks"}),e.jsx("div",{children:a.remarks})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Taxes Applied:"}),e.jsx("ul",{className:"text-xs ml-3 mt-1",children:a.taxes&&a.taxes.length>0?a.taxes.map((j,A)=>e.jsxs("li",{children:[j.name,": â¹",(j.amount??0).toLocaleString()]},A)):e.jsx("li",{className:"text-gray-500",children:"No taxes applied"})})]})]})]}),e.jsxs(I,{className:"mt-6",children:[e.jsx(G,{children:e.jsx(F,{className:"text-base",children:"All Demands for this Work"})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-xs border",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-1 border",children:"Demand ID"}),e.jsx("th",{className:"px-2 py-1 border",children:"Date"}),e.jsx("th",{className:"px-2 py-1 border",children:"Amount"}),e.jsx("th",{className:"px-2 py-1 border",children:"Net Payable"}),e.jsx("th",{className:"px-2 py-1 border",children:"Status"}),e.jsx("th",{className:"px-2 py-1 border",children:"Remarks"}),e.jsx("th",{className:"px-2 py-1 border",children:"Taxes"})]})}),e.jsxs("tbody",{children:[o.map(j=>e.jsxs("tr",{className:j.id===a.id?"bg-primary/10 border font-semibold":"border",children:[e.jsx("td",{className:"px-2 py-1 border",children:j.id}),e.jsx("td",{className:"px-2 py-1 border",children:j.date}),e.jsxs("td",{className:"px-2 py-1 border",children:["â¹",(j.amount??0).toLocaleString()]}),e.jsxs("td",{className:"px-2 py-1 border",children:["â¹",(j.netPayable??j.amount??0).toLocaleString()]}),e.jsx("td",{className:"px-2 py-1 border",children:e.jsx(le,{children:j.status})}),e.jsx("td",{className:"px-2 py-1 border",children:j.remarks}),e.jsx("td",{className:"px-2 py-1 border",children:j.taxes&&j.taxes.length>0?j.taxes.map((A,S)=>e.jsxs("div",{children:[A.name,": â¹",(A.amount??0).toLocaleString()]},S)):e.jsx("span",{className:"text-gray-400",children:"-"})})]},j.id)),o.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"text-center text-gray-400 py-4",children:"No Demands"})})]})]})})})]})]})})},vr=[{id:468,workCode:"ML/2425/2151",name:"ML/2425/2151 à¤à¤¾à¤à¤¬à¥à¤¤ à¤¯à¥à¤¥à¥ à¤à¤¾à¤à¤¬à¥à¤¤ à¤à¥à¤à¤­à¥à¤¤ à¤°à¥à¤¡ à¤¤à¥ à¤à¤³à¤®à¤à¤¾à¤ à¤®à¤à¤¦à¤¿à¤° à¤°à¤¸à¥à¤¤à¤¾Â à¤à¤°à¤£à¥Â à¤¤à¤¾.à¤¶à¤¿à¤°à¥à¤°",district:"Pune",constituency:"Shirur",mlaName:"Dnyaneshwar Katke",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",iaName:"928 Executive Engineer, Public Works North Division,Â Pune",financialYear:"2024-25",demandAmount:1400,adminApprovedAmount:1400,workPortionAmount:1200,taxDeductionAmount:110,vendor:{id:"1189",name:"Maratha Nirman & Co.",aadhar:"987654321098"}},{id:469,workCode:"ML/2425/2569",name:"ML/2425/2569 à¤à¤®à¤¦à¤¾à¤° à¤¸à¥à¤¥à¤¾à¤¨à¤¿à¤ à¤µà¤¿à¤à¤¾à¤¸ à¤à¤¾à¤°à¥à¤¯à¤à¥à¤°à¤® à¤¸à¤¨ à¥¨à¥¦à¥¨à¥ª-à¥¨à¥« à¤à¤à¤¤à¤°à¥à¤à¤¤ à¤¬à¤¾à¤°à¤¾à¤®à¤¤à¥ à¤¯à¥à¤¥à¥ à¤¹à¥à¤£à¤¾à¤±à¥à¤¯à¤¾ à¤¶à¤¿à¤µà¤à¤¤à¥à¤°à¤ªà¤¤à¥ à¤°à¤¾à¤à¥à¤¯ à¤¸à¥à¤¤à¤°à¥à¤¯ à¤à¤¬à¤¡à¥à¤¡à¥ à¤¸à¥à¤ªà¤°à¥à¤§à¥à¤à¤°à¤¿à¤¤à¤¾ à¤¨à¤¿à¤§à¥ à¤à¤ªà¤²à¤¬à¥à¤§ à¤à¤°à¤£à¥à¤¬à¤¾à¤¬à¤¤",district:"Pune",constituency:"Baramati",mlaName:"Ajit Anantrao Pawar",schemeName:"45150012 53 MLA/MLC LOCAL DEVELOPMENT PROGRAMME",iaName:"1189 District Sports Officer,Â Pune",financialYear:"2024-25",demandAmount:1990,adminApprovedAmount:1990,workPortionAmount:1800,taxDeductionAmount:100,vendor:{id:"1189",name:"Sadguru Infrastructure Ltd.",aadhar:"456789123456"}}],Cr=[{id:"MLD-468-1",workId:468,amount:500,netPayable:480,status:"Pending",remarks:"First Installment",date:"2024-07-01"},{id:"MLD-468-2",workId:468,amount:400,netPayable:380,status:"Approved",remarks:"Second Installment",date:"2024-08-01"},{id:"MLD-469-1",workId:469,amount:1e3,netPayable:950,status:"Pending",remarks:"First Installment",date:"2024-07-05"},{id:"MLD-469-2",workId:469,amount:500,netPayable:480,status:"Approved",remarks:"Second Installment",date:"2024-08-10"}],Pr={Approved:"âï¸",Pending:"â³",Rejected:"â"},ia=s=>e.jsx(le,{variant:s==="Approved"?"default":s==="Pending"?"secondary":s==="Rejected"?"destructive":"secondary",children:s}),Tr=()=>{const[s,n]=t.useState("overview"),[a]=t.useState(vr),[r,l]=t.useState(Cr),[x,o]=t.useState("all"),[m,i]=t.useState("all"),[u,j]=t.useState("all"),[A,S]=t.useState("all"),[R,D]=t.useState(!1),[f,V]=t.useState(!1),[w,c]=t.useState(null),[d,P]=t.useState(null),B=g=>l([...r,g]),ee=t.useMemo(()=>["all",...Array.from(new Set(a.map(g=>g.financialYear)))],[a]),T=t.useMemo(()=>x==="all"?["all",...Array.from(new Set(a.map(g=>g.scheme)))]:["all",...Array.from(new Set(a.filter(g=>g.financialYear===x).map(g=>g.scheme)))],[a,x]),h=t.useMemo(()=>m==="all"?["all",...Array.from(new Set(a.filter(g=>x==="all"||g.financialYear===x).map(g=>g.name)))]:["all",...Array.from(new Set(a.filter(g=>g.scheme===m).map(g=>g.name)))],[a,x,m]),v=a.filter(g=>(x==="all"||g.financialYear===x)&&(m==="all"||g.scheme===m)&&(u==="all"||g.name===u)),p=r.filter(g=>{const q=a.find(Y=>Y.id===g.workId);return(x==="all"||(q==null?void 0:q.financialYear)===x)&&(m==="all"||(q==null?void 0:q.scheme)===m)&&(u==="all"||(q==null?void 0:q.name)===u)&&(A==="all"||g.status===A)}),C={totalWorks:v.length,totalVendors:[...new Set(v.map(g=>g.vendor))].length,totalLimit:v.reduce((g,q)=>g+(q.limit??0),0),pendingDemands:p.filter(g=>g.status==="Pending").length,approvedDemands:p.filter(g=>g.status==="Approved").length,totalDemandAmount:p.reduce((g,q)=>g+(q.amount??0),0),totalDemandApproved:p.filter(g=>g.status==="Approved").reduce((g,q)=>g+(q.amount??0),0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(yr,{open:R,onClose:()=>D(!1),work:w,demands:r,addDemand:B}),e.jsx(Nr,{open:f,onClose:()=>V(!1),demand:d,work:w,vendor:w==null?void 0:w.vendor,demands:r}),e.jsxs("div",{className:"flex flex-wrap items-end gap-3 pb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600",children:"Financial Year"}),e.jsx("select",{value:x,onChange:g=>{o(g.target.value),i("all"),j("all")},className:"block px-3 py-1.5 mt-1 border rounded-md w-40",children:ee.map(g=>e.jsx("option",{value:g,children:g==="all"?"All":g},g))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600",children:"Scheme"}),e.jsx("select",{value:m,onChange:g=>{i(g.target.value),j("all")},className:"block px-3 py-1.5 mt-1 border rounded-md w-40",children:T.map((g,q)=>e.jsx("option",{value:g,children:g==="all"?"All":g},`scheme-${g}-${q}`))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600",children:"Work"}),e.jsx("select",{value:u,onChange:g=>j(g.target.value),className:"block px-3 py-1.5 mt-1 border rounded-md w-48",children:h.map(g=>e.jsx("option",{value:g,children:g==="all"?"All":g},g))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600",children:"Status"}),e.jsxs("select",{value:A,onChange:g=>S(g.target.value),className:"block px-3 py-1.5 mt-1 border rounded-md w-32",children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[{label:"Total Works",value:C.totalWorks,desc:"Works under selected filters"},{label:"Total Demand Amount",value:`â¹${(C.totalDemandAmount??0).toLocaleString()}`,desc:"Sum of all demands"},{label:"Approved Demand Amount",value:`â¹${(C.totalDemandApproved??0).toLocaleString()}`,desc:"Sum of approved demands"},{label:" No of Pending Demands",value:C.pendingDemands,desc:"Awaiting approval"}].map((g,q)=>e.jsxs(I,{className:"h-full flex flex-col justify-between rounded-2xl shadow border border-gray-200 bg-white transition hover:shadow-lg",children:[e.jsx(G,{className:"pb-0 flex flex-row items-center justify-between",children:e.jsx(F,{className:"text-sm font-semibold tracking-wide text-gray-700",children:g.label})}),e.jsxs(E,{className:"flex-1 flex flex-col justify-center py-3",children:[e.jsx("div",{className:"text-2xl font-extrabold text-primary mb-1",children:g.value}),e.jsx("div",{className:"text-xs text-muted-foreground",children:g.desc})]})]},q))}),e.jsxs(ts,{value:s,onValueChange:n,className:"space-y-6",children:[e.jsxs(He,{children:[e.jsx(ue,{value:"overview",children:"Sanctioned Works"}),e.jsx(ue,{value:"pending",children:"Pending Demands"}),e.jsx(ue,{value:"approved",children:"Approved Demands"})]}),e.jsx(oe,{value:"overview",children:e.jsx("div",{className:"overflow-x-auto rounded-2xl shadow border border-gray-200 bg-white",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"MLA/MLC Account Name"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"IA Name"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Work Title"}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-700",children:"Gross Work Order Amount"}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-700",children:"Funds disbursed so far"}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-700",children:"Demand Amount"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Actions"})]})}),e.jsxs("tbody",{children:[v.map((g,q)=>{const Y=r.filter(Z=>Z.workId===g.id),z=Y.reduce((Z,me)=>Z+(me.amount??0),0),k=(g.workPortionAmount??0)+(g.taxDeductionAmount??0);return e.jsxs("tr",{className:`${q%2===0?"bg-white":"bg-gray-50"} hover:bg-primary/5 transition border-b last:border-0`,children:[e.jsx("td",{className:"px-4 py-2",children:g.mlaName}),e.jsx("td",{className:"px-4 py-2",children:g.iaName}),e.jsx("td",{className:"px-4 py-2 font-medium text-gray-900",children:g.name}),e.jsxs("td",{className:"px-4 py-2 text-right",children:["â¹",(k??0).toLocaleString()]}),e.jsxs("td",{className:"px-4 py-2 text-right",children:["â¹",(z??0).toLocaleString()]}),e.jsxs("td",{className:"px-4 py-2 text-right",children:["â¹",(g.demandAmount??0).toLocaleString()]}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${g.status==="Approved"?"bg-green-100 text-green-700":g.status==="Pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,"aria-label":g.status,children:Pr[g.status]||"â"})}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>{c(g),D(!0)},className:"w-full",children:[e.jsx(Oa,{className:"w-4 h-4 mr-1"})," Demand"]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>{const Z=Y.slice(-1)[0];P(Z||null),c(g),V(!0)},className:"w-full",children:[e.jsx(je,{className:"w-4 h-4 mr-1"})," View"]})]})})]},g.id)}),v.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"text-center text-gray-400 py-6",children:"No works match the selected filters"})})]})]})})}),e.jsx(oe,{value:"pending",children:e.jsxs(I,{children:[e.jsx(G,{children:e.jsx(F,{children:"Pending Demands"})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto rounded-2xl shadow border border-gray-200 bg-white",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Demand ID"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Work Name"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Vendor"}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-700",children:"Amount"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"View"})]})}),e.jsxs("tbody",{children:[p.filter(g=>g.status==="Pending").map((g,q)=>{var z;const Y=a.find(k=>k.id===g.workId);return e.jsxs("tr",{className:`${q%2===0?"bg-white":"bg-gray-50"} hover:bg-primary/5 transition border-b last:border-0`,children:[e.jsx("td",{className:"px-4 py-2 font-medium text-gray-900",children:g.id}),e.jsx("td",{className:"px-4 py-2",children:(Y==null?void 0:Y.name)||"N/A"}),e.jsx("td",{className:"px-4 py-2",children:((z=Y==null?void 0:Y.vendor)==null?void 0:z.name)||"N/A"}),e.jsxs("td",{className:"px-4 py-2 text-right",children:["â¹",(g.amount??0).toLocaleString()]}),e.jsx("td",{className:"px-4 py-2 text-center",children:ia(g.status)}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>{P(g),c(Y),V(!0)},children:[e.jsx(je,{className:"w-4 h-4 mr-1"})," View"]})})]},g.id)}),p.filter(g=>g.status==="Pending").length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center text-gray-400 py-6",children:"No pending demands"})})]})]})})})]})}),e.jsx(oe,{value:"approved",children:e.jsxs(I,{children:[e.jsx(G,{children:e.jsx(F,{children:"Approved Demands"})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto rounded-2xl shadow border border-gray-200 bg-white",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Demand ID"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Work Name"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Vendor"}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-700",children:"Amount"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"View"})]})}),e.jsxs("tbody",{children:[p.filter(g=>g.status==="Approved").map((g,q)=>{var z;const Y=a.find(k=>k.id===g.workId);return e.jsxs("tr",{className:`${q%2===0?"bg-white":"bg-gray-50"} hover:bg-primary/5 transition border-b last:border-0`,children:[e.jsx("td",{className:"px-4 py-2 font-medium text-gray-900",children:g.id}),e.jsx("td",{className:"px-4 py-2",children:(Y==null?void 0:Y.name)||"N/A"}),e.jsx("td",{className:"px-4 py-2",children:((z=Y==null?void 0:Y.vendor)==null?void 0:z.name)||"N/A"}),e.jsxs("td",{className:"px-4 py-2 text-right",children:["â¹",(g.amount??0).toLocaleString()]}),e.jsx("td",{className:"px-4 py-2 text-center",children:ia(g.status)}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>{P(g),c(Y),V(!0)},children:[e.jsx(je,{className:"w-4 h-4 mr-1"})," View"]})})]},g.id)}),p.filter(g=>g.status==="Approved").length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center text-gray-400 py-6",children:"No approved demands"})})]})]})})})]})})]})]})},Ar=({vendor:s,onBack:n,formatCurrency:a})=>{const r=l=>{switch(l){case"Active":return"bg-green-100 text-green-800";case"Inactive":return"bg-gray-100 text-gray-800";case"Blocked":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"w-full max-w-6xl mx-auto space-y-6 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",onClick:n,children:[e.jsx(Wt,{className:"h-4 w-4 mr-2"}),"Back to List"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:s.name||"N/A"}),e.jsx("p",{className:"text-gray-600",children:"Vendor Details"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsx(G,{children:e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx($t,{className:"h-5 w-5"}),"Company Information"]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Company Name"}),e.jsx("p",{className:"text-sm mt-1",children:s.name||"N/A"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Type"}),e.jsx("p",{className:"text-sm mt-1",children:s.type||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Category"}),e.jsx("p",{className:"text-sm mt-1",children:s.category||"-"})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsx("div",{className:"mt-1",children:e.jsx(le,{className:r(s.status),children:s.status||"N/A"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Performance Rating"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("span",{className:"text-sm font-medium",children:s.performanceRating!=null?s.performanceRating:"-"}),e.jsx(Ht,{className:"h-4 w-4 text-yellow-500 ml-1"})]})]})]})]}),e.jsxs(I,{children:[e.jsx(G,{children:e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"h-5 w-5"}),"Contact Information"]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Contact Person"}),e.jsx("p",{className:"text-sm mt-1",children:s.contactPerson||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"text-sm mt-1 flex items-center gap-2",children:s.phone||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"text-sm mt-1 flex items-center gap-2",children:s.email||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsxs("p",{className:"text-sm mt-1 flex items-start gap-2",children:[e.jsx(Ya,{className:"h-3 w-3 mt-1"}),e.jsxs("span",{children:[s.address||"-",e.jsx("br",{}),s.city||"-",", ",s.state||"-"," - ",s.pincode||"-"]})]})]})]})]})]}),e.jsxs(I,{children:[e.jsx(G,{children:e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(As,{className:"h-5 w-5"}),"Legal Information"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"GST Number"}),e.jsx("p",{className:"text-sm mt-1 font-mono",children:s.gstNumber||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"PAN Number"}),e.jsx("p",{className:"text-sm mt-1 font-mono",children:s.panNumber||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Registration Date"}),e.jsxs("p",{className:"text-sm mt-1 flex items-center gap-2",children:[e.jsx(As,{className:"h-3 w-3"}),s.registrationDate?new Date(s.registrationDate).toLocaleDateString("en-IN"):"-"]})]})]})})]}),e.jsxs(I,{children:[e.jsx(G,{children:e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(zs,{className:"h-5 w-5"}),"Bank Details"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Account Number"}),e.jsx("p",{className:"text-sm mt-1 font-mono",children:s.bankAccountNumber||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"IFSC Code"}),e.jsx("p",{className:"text-sm mt-1 font-mono",children:s.bankIfsc||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Bank Name"}),e.jsx("p",{className:"text-sm mt-1",children:s.bankName||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Branch"}),e.jsx("p",{className:"text-sm mt-1",children:s.bankBranch||"-"})]})]})})]}),e.jsx("div",{className:"text-sm text-gray-600",children:e.jsxs("p",{children:["Last updated on ",s.lastUpdated?new Date(s.lastUpdated).toLocaleDateString("en-IN"):"-",s.updatedBy&&e.jsxs(e.Fragment,{children:[" by ",s.updatedBy]})]})})]})},wr=()=>{const{toast:s}=Be(),[n,a]=t.useState([]),[r,l]=t.useState(""),[x,o]=t.useState(null),[m,i]=t.useState(!1),[u,j]=t.useState(!1);t.useRef(null),t.useEffect(()=>{A()},[]);const A=async()=>{j(!0);try{const d=await he.get("http://13.232.90.40:8080/api/vendors");a(d.data||[])}catch{s({title:"Failed to Load",description:"Could not fetch vendor data.",variant:"destructive"})}j(!1)},S=c=>c?new Intl.NumberFormat("en-IN").format(Number(c)):"0",R=n.filter(c=>(c.name||"").toLowerCase().includes(r.toLowerCase())||(c.aadhaarNumber||"").includes(r)||(c.gstNumber||"").toLowerCase().includes(r.toLowerCase())||(c.contactPerson||"").toLowerCase().includes(r.toLowerCase())),D=c=>{switch(c){case"Verified":return"bg-green-100 text-green-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=c=>{o(c),i(!0)},V=c=>{s({title:"Edit Vendor",description:`Edit functionality for ${c.name||"Vendor"} will be implemented.`})},w=(c,d)=>{s({title:"Delete Vendor?",description:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2",children:["Are you sure you want to delete ",e.jsx("span",{className:"font-semibold",children:d||"Vendor"}),"?"]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(L,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",onClick:async P=>{try{await he.delete(`http://13.232.90.40:8080/api/vendors/delete/${c}`),s({title:"Vendor Deleted",description:"Vendor has been removed from the system.",variant:"destructive"}),a(ee=>ee.filter(T=>T.id!==c))}catch{s({title:"Delete Failed",description:"Could not delete vendor.",variant:"destructive"})}},children:"Yes, Delete"}),e.jsx(L,{size:"sm",variant:"outline",style:{borderColor:"#bbb",color:"#1a1a1a",background:"#fff"},onClick:()=>{},children:"Cancel"})]})]}),variant:"destructive",duration:999999})};return u?e.jsxs("div",{className:"flex justify-center items-center h-72",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"}),e.jsx("span",{className:"ml-3",children:"Loading vendors..."})]}):m&&x?e.jsx(Ar,{vendor:x,onBack:()=>i(!1),formatCurrency:S}):e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Vendor List"}),e.jsx(te,{children:"Manage registered vendors eligible for payments"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(qt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(_,{placeholder:"Search by name, Aadhaar, GST number...",value:r,onChange:c=>l(c.target.value),className:"pl-9"})]}),e.jsxs(L,{variant:"outline",children:[e.jsx(qa,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ae,{children:[e.jsx(ve,{children:e.jsxs(se,{children:[e.jsx($,{children:"Vendor Details"}),e.jsx($,{children:"Aadhaar Number"}),e.jsx($,{children:"GST Number"}),e.jsx($,{children:"Verification Status"}),e.jsx($,{children:"Payment Eligible"}),e.jsx($,{className:"text-right",children:"Actions"})]})}),e.jsxs(Ce,{children:[R.length===0&&e.jsx(se,{children:e.jsxs(N,{colSpan:6,className:"text-center py-8 text-gray-500",children:[e.jsx(Xe,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),"No vendors found matching your search criteria."]})}),R.map(c=>e.jsxs(se,{children:[e.jsx(N,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:c.name}),e.jsx("div",{className:"text-sm text-gray-500",children:c.contactPerson}),e.jsx("div",{className:"text-sm text-gray-500",children:c.phone})]})}),e.jsx(N,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono text-sm",children:c.aadhaarNumber}),c.aadhaarVerified?e.jsx(Ne,{className:"h-4 w-4 text-green-600"}):e.jsx(Ze,{className:"h-4 w-4 text-red-600"})]})}),e.jsx(N,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono text-sm",children:c.gstNumber}),c.gstVerified?e.jsx(Ne,{className:"h-4 w-4 text-green-600"}):e.jsx(Ze,{className:"h-4 w-4 text-red-600"})]})}),e.jsx(N,{children:e.jsx(le,{className:D(c.verificationStatus),children:c.verificationStatus||"Pending"})}),e.jsx(N,{children:e.jsx(le,{variant:c.paymentEligible?"default":"secondary",className:c.paymentEligible?"bg-green-100 text-green-800":"",children:c.paymentEligible?"Eligible":"Not Eligible"})}),e.jsx(N,{className:"text-right",children:e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>f(c),className:"hover:bg-blue-50 hover:text-blue-600",children:e.jsx(je,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>V(c),className:"hover:bg-blue-50 hover:text-blue-600",children:e.jsx(ls,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>w(c.id,c.name),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Fe,{className:"h-4 w-4"})})]})})]},c.id))]})]})})]})]})},Sr=({onCancel:s,onSubmit:n})=>{const{toast:a}=Be(),{user:r}=Ue(),[l,x]=t.useState(!1),[o,m]=t.useState({aadhaar:!1,gst:!1}),[i,u]=t.useState({aadhaarNumber:"",gstNumber:"",vendorName:"",firmName:"",address:"",bankAccountNumber:"",ifscCode:"",bankName:"",contactNumber:"",email:""}),j=(D,f)=>{u(V=>({...V,[D]:f}))},A=async()=>{if(!i.aadhaarNumber||i.aadhaarNumber.length!==12){a({title:"Invalid Aadhaar Number",description:"Please enter a valid 12-digit Aadhaar number.",variant:"destructive"});return}x(!0),setTimeout(()=>{m(D=>({...D,aadhaar:!0})),u(D=>({...D,vendorName:"OM Nikas",address:"123, MG Road, Mumbai, Maharashtra - 400001"})),x(!1),a({title:"Aadhaar Verified",description:"Identity verification successful."})},2e3)},S=async()=>{if(!i.gstNumber||i.gstNumber.length!==15){a({title:"Invalid GST Number",description:"Please enter a valid 15-character GST number.",variant:"destructive"});return}x(!0),setTimeout(()=>{m(D=>({...D,gst:!0})),u(D=>({...D,bankAccountNumber:"1234567890",ifscCode:"ICIC0001234",bankName:"ICICI Bank",firmName:"OM Infra Pvt Ltd"})),x(!1),a({title:"GST Verified",description:"Business verification successful. Firm Name autofilled."})},2e3)},R=async D=>{if(D.preventDefault(),!i.vendorName||!i.firmName||!i.address||!i.bankAccountNumber||!i.ifscCode){a({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}const V=new Date().toISOString().slice(0,10),w={name:i.vendorName,firmName:i.firmName,aadhaarNumber:i.aadhaarNumber,gstNumber:i.gstNumber,panNumber:"",contactPerson:"",phone:i.contactNumber,email:i.email,address:i.address,city:"",state:"",pincode:"",registrationDate:V,verificationStatus:o.aadhaar&&o.gst?"VERIFIED":"NOT_VERIFIED",aadhaarVerified:o.aadhaar,gstVerified:o.gst,type:"",category:"",status:"ACTIVE",performanceRating:0,creditLimit:0,paymentTerms:"",bankAccountNumber:i.bankAccountNumber,bankIfsc:i.ifscCode,bankName:i.bankName,bankBranch:"",documentUrls:[],paymentEligible:!0,lastUpdated:V,updatedBy:(r==null?void 0:r.username)||"",documentFiles:[]};try{await he.post("http://13.232.90.40:8080/api/vendors/register",w),a({title:"Vendor Added",description:"Vendor has been successfully registered."}),n()}catch{a({title:"Registration Failed",description:"Could not register vendor. Please try again.",variant:"destructive"})}};return e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-6 w-6 text-primary"}),"Add New Vendor"]}),e.jsx(te,{children:"Register a new vendor with Aadhaar and GST verification (or enter details manually if not verified)."})]}),e.jsx(E,{children:e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Xe,{className:"h-5 w-5"}),"Identity & Business Verification"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"aadhaarNumber",children:"Aadhaar Number *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_,{id:"aadhaarNumber",value:i.aadhaarNumber,onChange:D=>j("aadhaarNumber",D.target.value.replace(/\D/g,"").slice(0,12)),placeholder:"Enter 12-digit Aadhaar number",maxLength:12,required:!0}),e.jsxs(L,{type:"button",onClick:A,disabled:l||i.aadhaarNumber.length!==12||o.aadhaar,variant:o.aadhaar?"default":"outline",children:[o.aadhaar?e.jsx(Ne,{className:"h-4 w-4 mr-1"}):null,l?"Verifying...":o.aadhaar?"Verified":"Verify"]})]}),o.aadhaar&&e.jsxs(le,{className:"mt-2 bg-green-100 text-green-800",children:[e.jsx(Ne,{className:"h-3 w-3 mr-1"}),"Aadhaar Verified"]})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"gstNumber",children:"GST Number *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_,{id:"gstNumber",value:i.gstNumber,onChange:D=>j("gstNumber",D.target.value.toUpperCase().slice(0,15)),placeholder:"Enter 15-character GST number",maxLength:15,required:!0}),e.jsxs(L,{type:"button",onClick:S,disabled:l||i.gstNumber.length!==15||o.gst,variant:o.gst?"default":"outline",children:[o.gst?e.jsx(Ne,{className:"h-4 w-4 mr-1"}):null,l?"Verifying...":o.gst?"Verified":"Verify"]})]}),o.gst&&e.jsxs(le,{className:"mt-2 bg-green-100 text-green-800",children:[e.jsx(Ne,{className:"h-3 w-3 mr-1"}),"GST Verified"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"vendorName",children:"Vendor Name *"}),e.jsx(_,{id:"vendorName",value:i.vendorName,onChange:D=>j("vendorName",D.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"firmName",children:"Firm Name *"}),e.jsx(_,{id:"firmName",value:i.firmName,onChange:D=>j("firmName",D.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"contactNumber",children:"Contact Number"}),e.jsx(_,{id:"contactNumber",value:i.contactNumber,onChange:D=>j("contactNumber",D.target.value),placeholder:""})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"email",children:"Email Address"}),e.jsx(_,{id:"email",type:"email",value:i.email,onChange:D=>j("email",D.target.value),placeholder:"Enter email address"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Bank Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"bankAccountNumber",children:"Bank Account Number *"}),e.jsx(_,{id:"bankAccountNumber",value:i.bankAccountNumber,onChange:D=>j("bankAccountNumber",D.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"ifscCode",children:"IFSC Code *"}),e.jsx(_,{id:"ifscCode",value:i.ifscCode,onChange:D=>j("ifscCode",D.target.value.toUpperCase()),required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(M,{htmlFor:"bankName",children:"Bank Name *"}),e.jsx(_,{id:"bankName",value:i.bankName,onChange:D=>j("bankName",D.target.value),required:!0})]})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[e.jsxs(L,{type:"submit",className:"bg-[#193A9A] hover:bg-[#142f7c] text-white",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Submit"]}),e.jsxs(L,{type:"button",variant:"outline",onClick:s,children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})})]})},Dr=()=>{const{toast:s}=Be(),[n,a]=t.useState({type:"",item:null}),[r,l]=t.useState(""),[x,o]=t.useState(""),[m,i]=t.useState([{id:"1",name:"Construction",description:"Construction and Infrastructure",isActive:!0},{id:"2",name:"IT Services",description:"Information Technology Services",isActive:!0},{id:"3",name:"Supplies",description:"Office and General Supplies",isActive:!0},{id:"4",name:"Consulting",description:"Professional Consulting Services",isActive:!0},{id:"5",name:"Maintenance",description:"Maintenance and Repair Services",isActive:!0},{id:"6",name:"Transport",description:"Transportation Services",isActive:!0},{id:"7",name:"Catering",description:"Catering and Food Services",isActive:!0},{id:"8",name:"Security",description:"Security Services",isActive:!0},{id:"9",name:"Cleaning",description:"Cleaning and Housekeeping",isActive:!0},{id:"10",name:"Equipment Rental",description:"Equipment Rental Services",isActive:!0}]),[u,j]=t.useState([{id:"1",name:"15 days",description:"Payment due within 15 days",isActive:!0},{id:"2",name:"30 days",description:"Payment due within 30 days",isActive:!0},{id:"3",name:"45 days",description:"Payment due within 45 days",isActive:!0},{id:"4",name:"60 days",description:"Payment due within 60 days",isActive:!0},{id:"5",name:"90 days",description:"Payment due within 90 days",isActive:!0}]),[A,S]=t.useState([{id:"1",name:"Individual",description:"Individual Vendor/Proprietor",isActive:!0},{id:"2",name:"Company",description:"Private Limited Company",isActive:!0},{id:"3",name:"Partnership",description:"Partnership Firm",isActive:!0},{id:"4",name:"LLP",description:"Limited Liability Partnership",isActive:!0}]),R=(d,P,B)=>{if(!r.trim())return;const ee={id:Date.now().toString(),name:r.trim(),description:x.trim()||void 0,isActive:!0};B([...P,ee]),l(""),o(""),s({title:"Item Added",description:`${r} has been added to ${d}.`})},D=(d,P)=>{a({type:d,item:P}),l(P.name),o(P.description||"")},f=(d,P,B)=>{if(!n.item||!r.trim())return;const ee=P.map(T=>T.id===n.item.id?{...T,name:r.trim(),description:x.trim()||void 0}:T);B(ee),a({type:"",item:null}),l(""),o(""),s({title:"Item Updated",description:`${r} has been updated.`})},V=(d,P,B,ee)=>{const T=B.find(h=>h.id===P);T&&window.confirm(`Are you sure you want to delete "${T.name}"?`)&&(ee(B.filter(h=>h.id!==P)),s({title:"Item Deleted",description:`${T.name} has been removed.`,variant:"destructive"}))},w=(d,P,B)=>{const ee=P.map(T=>T.id===d?{...T,isActive:!T.isActive}:T);B(ee)},c=(d,P,B,ee)=>e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:d}),e.jsxs(te,{children:["Manage ",d.toLowerCase()," used in vendor management"]})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:`${P}-name`,children:"Name"}),e.jsx(_,{id:`${P}-name`,value:r,onChange:T=>l(T.target.value),placeholder:"Enter name"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:`${P}-description`,children:"Description"}),e.jsx(_,{id:`${P}-description`,value:x,onChange:T=>o(T.target.value),placeholder:"Enter description (optional)"})]}),e.jsx("div",{className:"flex items-end",children:n.type===P&&n.item?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{onClick:()=>f(P,B,ee),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Save"]}),e.jsx(L,{variant:"outline",onClick:()=>{a({type:"",item:null}),l(""),o("")},children:e.jsx(be,{className:"h-4 w-4"})})]}):e.jsxs(L,{onClick:()=>R(P,B,ee),className:"bg-[#193A9A] hover:bg-[#142f7c] text-white",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add"]})})]})}),e.jsx("div",{className:"space-y-2",children:B.map(T=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-medium",children:T.name}),e.jsx(le,{variant:T.isActive?"default":"secondary",children:T.isActive?"Active":"Inactive"})]}),T.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.description})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>w(T.id,B,ee),className:T.isActive?"text-yellow-600 hover:text-yellow-700":"text-green-600 hover:text-green-700",children:T.isActive?"Deactivate":"Activate"}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>D(P,T),className:"text-blue-600 hover:text-blue-700",children:e.jsx(ls,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>V(P,T.id,B,ee),className:"text-red-600 hover:text-red-700",children:e.jsx(Fe,{className:"h-4 w-4"})})]})]},T.id))})]})]});return e.jsx("div",{className:"space-y-6",children:e.jsxs(ts,{defaultValue:"categories",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-3",children:[e.jsx(ue,{value:"categories",children:"Categories"}),e.jsx(ue,{value:"payment",children:"Payment Terms"}),e.jsx(ue,{value:"types",children:"Vendor Types"})]}),e.jsx(oe,{value:"categories",className:"space-y-4",children:c("Vendor Categories","categories",m,i)}),e.jsx(oe,{value:"payment",className:"space-y-4",children:c("Payment Terms","payment",u,j)}),e.jsx(oe,{value:"types",className:"space-y-4",children:c("Vendor Types","types",A,S)})]})})},Rr=()=>{const{toast:s}=Be(),[n,a]=t.useState(""),[r,l]=t.useState(""),[x,o]=t.useState(!1),[m,i]=t.useState(null),u=async()=>{if(!n||n.length!==12){s({title:"Invalid Aadhaar Number",description:"Please enter a valid 12-digit Aadhaar number.",variant:"destructive"});return}o(!0),setTimeout(()=>{i({aadhaarValid:!0,gstValid:!1,vendorName:"Rajesh Kumar Sharma",address:"123, MG Road, Mumbai, Maharashtra - 400001",message:"Aadhaar verification successful"}),o(!1),s({title:"Aadhaar Verified",description:"Vendor identity verified successfully."})},2e3)},j=async()=>{if(!r||r.length!==15){s({title:"Invalid GST Number",description:"Please enter a valid 15-character GST number.",variant:"destructive"});return}o(!0),setTimeout(()=>{const S={aadhaarValid:(m==null?void 0:m.aadhaarValid)||!1,gstValid:!0,vendorName:(m==null?void 0:m.vendorName)||"OM Nikas",address:"Tech Solutions Pvt Ltd, 123, MG Road, Pune, Maharashtra - 400001",bankDetails:{accountNumber:"89234492472",ifsc:"ICIC0001234",bankName:"ICICI Bank"},message:"GST verification successful"};i(S),o(!1),s({title:"GST Verified",description:"Vendor GST details verified successfully."})},2e3)},A=()=>{m!=null&&m.aadhaarValid&&(m!=null&&m.gstValid)?(s({title:"Vendor Verification Complete",description:"Vendor has been successfully verified and can now receive payments."}),a(""),l(""),i(null)):s({title:"Incomplete Verification",description:"Please complete both Aadhaar and GST verification.",variant:"destructive"})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-6 w-6 text-primary"}),"Vendor Verification"]}),e.jsx(te,{children:"Verify vendor identity using Aadhaar and GST APIs before processing payments"})]}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"aadhaar",children:"Aadhaar Number *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_,{id:"aadhaar",value:n,onChange:S=>a(S.target.value.replace(/\D/g,"").slice(0,12)),placeholder:"Enter 12-digit Aadhaar number",maxLength:12}),e.jsxs(L,{onClick:u,disabled:x||n.length!==12,className:"whitespace-nowrap",children:[e.jsx(cs,{className:"h-4 w-4 mr-2"}),x?"Verifying...":"Verify"]})]})]}),m&&e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.aadhaarValid?e.jsx(Ne,{className:"h-5 w-5 text-green-600"}):e.jsx(Ze,{className:"h-5 w-5 text-red-600"}),e.jsx("span",{className:"font-medium",children:"Aadhaar Status"}),e.jsx(le,{variant:m.aadhaarValid?"default":"destructive",children:m.aadhaarValid?"Verified":"Failed"})]}),m.aadhaarValid&&e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",m.vendorName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",m.address]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"gst",children:"GST Number *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_,{id:"gst",value:r,onChange:S=>l(S.target.value.toUpperCase().slice(0,15)),placeholder:"Enter 15-character GST number",maxLength:15}),e.jsxs(L,{onClick:j,disabled:x||r.length!==15,className:"whitespace-nowrap",children:[e.jsx(zs,{className:"h-4 w-4 mr-2"}),x?"Verifying...":"Verify"]})]})]}),m&&e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.gstValid?e.jsx(Ne,{className:"h-5 w-5 text-green-600"}):e.jsx(Ze,{className:"h-5 w-5 text-red-600"}),e.jsx("span",{className:"font-medium",children:"GST Status"}),e.jsx(le,{variant:m.gstValid?"default":"destructive",children:m.gstValid?"Verified":"Failed"})]}),m.gstValid&&m.bankDetails&&e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Business Name:"})," ",m.vendorName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Bank:"})," ",m.bankDetails.bankName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account:"})," ",m.bankDetails.accountNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"IFSC:"})," ",m.bankDetails.ifsc]})]})]})]})]}),m&&e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Verification Status:"}),m.aadhaarValid&&m.gstValid?e.jsxs(le,{className:"bg-green-100 text-green-800",children:[e.jsx(Ne,{className:"h-4 w-4 mr-1"}),"Complete"]}):e.jsxs(le,{variant:"secondary",children:[e.jsx(Ts,{className:"h-4 w-4 mr-1"}),"Incomplete"]})]})}),e.jsxs(L,{onClick:A,disabled:!m.aadhaarValid||!m.gstValid,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Complete Verification"]})]})})]})]}),e.jsxs(I,{children:[e.jsx(G,{children:e.jsx(F,{children:"Verification Instructions"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"}),e.jsx("p",{children:"Enter the vendor's 12-digit Aadhaar number for identity verification"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"}),e.jsx("p",{children:"Enter the vendor's 15-character GST number for business verification"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"}),e.jsx("p",{children:"Both verifications must be successful before the vendor can receive payments"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"}),e.jsx("p",{children:"Bank details will be automatically fetched from GST portal upon successful verification"})]})]})})]})]})},kr=()=>{const[s,n]=t.useState(!1),[a,r]=t.useState("list"),l=()=>{n(!0),r("form")},x=()=>{n(!1),r("list")},o=()=>{n(!1),r("list")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(We,{className:"h-8 w-8 text-primary"}),"Vendor Management"]}),e.jsx("p",{className:"text-gray-600",children:"Manage vendor information, verification, and relationships"})]}),e.jsxs(L,{onClick:l,children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add New Vendor"]})]}),e.jsxs(ts,{value:a,onValueChange:r,children:[e.jsxs(He,{children:[e.jsx(ue,{value:"list",children:"Vendor List"}),e.jsx(ue,{value:"form",children:"Add Vendor"})]}),e.jsx(oe,{value:"list",children:e.jsx(wr,{})}),e.jsx(oe,{value:"form",children:e.jsx(Sr,{onCancel:x,onSubmit:o})}),e.jsx(oe,{value:"verification",children:e.jsx(Rr,{})}),e.jsx(oe,{value:"master",children:e.jsx(Dr,{})})]})]})},Mr=["DAP","ML","HADP"],Lr=["REVENUE","CAPITAL","DEBT"],Ir=()=>{const[s,n]=t.useState(zn),[a,r]=t.useState(""),[l,x]=t.useState(""),[o,m]=t.useState(""),[i,u]=t.useState(""),[j,A]=t.useState(!1),[S,R]=t.useState({schemeName:"",schemeCode:"",crcCode:"",objectCode:"",objectName:"",majorHeadName:"",description:"",allocatedBudget:0,estimatedBudget:0,revisedBudget:0,nextBudget:0,financialYearId:0,schemeTypeId:0,sectorId:0,planType:"DAP"}),[D,f]=t.useState(!1),{toast:V}=Be(),w=["2023-24","2024-25","2025-26"],c=t.useMemo(()=>Array.from(new Set(s.map(C=>C.district_code).filter(Boolean))),[s]),d=t.useMemo(()=>Array.from(new Set(s.map(C=>C.planType))),[s]),P=t.useMemo(()=>Array.from(new Set(s.map(C=>C.schemetype))),[s]),B=t.useMemo(()=>s.filter(C=>!(a&&C.fy!==a||l&&C.planType!==l||o&&C.district_code!==o||i&&C.schemetype!==i)),[s,a,l,o,i]),ee=C=>{C&&n(g=>g.filter(q=>q.id!==C))},T=C=>{alert(`View details for scheme #${C}`)},h=C=>{const{name:g,value:q}=C.target;R(Y=>({...Y,[g]:g.includes("Budget")||g.endsWith("Id")||g==="sectorId"?Number(q):q}))},v="http://13.232.90.40:8080",p=async C=>{C.preventDefault(),f(!0);try{const g=localStorage.getItem("token"),q=await fetch(`${v}/api/scheme-master/create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify(S)});if(!q.ok)throw new Error("Failed to add scheme");const Y=await q.json();n(z=>[{...Y,id:z.length?Math.max(...z.map(k=>k.id??0))+1:1,budget_allocated:Y.allocatedBudget,planType:Y.planType,schemetype:Lr.includes(Y.schemetype)?Y.schemetype:"REVENUE",fy:w.find(k=>String(Y.financialYearId).endsWith(k.slice(2)))??""},...z]),A(!1),R({schemeName:"",schemeCode:"",crcCode:"",objectCode:"",objectName:"",majorHeadName:"",description:"",allocatedBudget:0,estimatedBudget:0,revisedBudget:0,nextBudget:0,financialYearId:0,schemeTypeId:0,sectorId:0,planType:"DAP"}),V({title:"Scheme added!",variant:"success"})}catch(g){V({title:"Failed to add scheme",description:g.message,variant:"destructive"})}finally{f(!1)}};return e.jsx("div",{className:"max-w-7xl mx-auto p-4 space-y-6",children:e.jsxs(I,{className:"border-gray-200 border rounded-2xl shadow-sm",children:[e.jsxs(G,{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[e.jsx(F,{className:"text-xl font-semibold",children:"Scheme Master"}),e.jsxs(_e,{open:j,onOpenChange:A,children:[e.jsx(es,{asChild:!0,children:e.jsxs(L,{className:"gap-2",size:"sm",variant:"default",children:[e.jsx(Se,{className:"w-4 h-4"})," Add New Scheme"]})}),e.jsxs(Ie,{className:"max-w-lg w-full rounded-2xl",children:[e.jsx(ss,{children:e.jsx(as,{children:"Add New Scheme"})}),e.jsxs("form",{className:"space-y-3",onSubmit:p,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"Scheme Name"}),e.jsx(_,{required:!0,name:"schemeName",value:S.schemeName,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"Scheme Code"}),e.jsx(_,{required:!0,name:"schemeCode",value:S.schemeCode,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"CRC Code"}),e.jsx(_,{name:"crcCode",value:S.crcCode,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"Object Code"}),e.jsx(_,{name:"objectCode",value:S.objectCode,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"Object Name"}),e.jsx(_,{name:"objectName",value:S.objectName,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"Major Head Name"}),e.jsx(_,{name:"majorHeadName",value:S.majorHeadName,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"Plan Type"}),e.jsx("select",{name:"planType",value:S.planType,onChange:h,className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm",children:Mr.map(C=>e.jsx("option",{value:C,children:C},C))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"Description"}),e.jsx(_,{name:"description",value:S.description,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"Allocated Budget"}),e.jsx(_,{required:!0,name:"allocatedBudget",type:"number",value:S.allocatedBudget,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"Estimated Budget"}),e.jsx(_,{name:"estimatedBudget",type:"number",value:S.estimatedBudget,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"Revised Budget"}),e.jsx(_,{name:"revisedBudget",type:"number",value:S.revisedBudget,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"Next Budget"}),e.jsx(_,{name:"nextBudget",type:"number",value:S.nextBudget,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"Financial Year ID"}),e.jsx(_,{required:!0,name:"financialYearId",type:"number",value:S.financialYearId,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"Scheme Type ID"}),e.jsx(_,{required:!0,name:"schemeTypeId",type:"number",value:S.schemeTypeId,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1 font-medium",children:"Sector ID"}),e.jsx(_,{required:!0,name:"sectorId",type:"number",value:S.sectorId,onChange:h})]})]}),e.jsxs(Hs,{className:"mt-2",children:[e.jsx(er,{asChild:!0,children:e.jsx(L,{type:"button",variant:"ghost",children:"Cancel"})}),e.jsx(L,{type:"submit",disabled:D,children:D?e.jsx(Fa,{className:"animate-spin w-4 h-4"}):"Add Scheme"})]})]})]})]})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm",value:a,onChange:C=>r(C.target.value),children:[e.jsx("option",{value:"",children:"All Years"}),w.map(C=>e.jsx("option",{value:C,children:C},C))]}),e.jsxs("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm",value:l,onChange:C=>x(C.target.value),children:[e.jsx("option",{value:"",children:"All Plan Types"}),d.map(C=>e.jsx("option",{value:C,children:C},C))]}),e.jsxs("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm",value:o,onChange:C=>m(C.target.value),children:[e.jsx("option",{value:"",children:"All Districts"}),c.map(C=>e.jsx("option",{value:C,children:C},C))]}),e.jsxs("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm",value:i,onChange:C=>u(C.target.value),children:[e.jsx("option",{value:"",children:"All Scheme Types"}),P.map(C=>e.jsx("option",{value:C,children:C.charAt(0)+C.slice(1).toLowerCase()},C))]})]}),e.jsx("div",{className:"overflow-x-auto bg-white rounded-xl shadow",children:e.jsxs("table",{className:"min-w-full table-fixed border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Sr No"}),e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Scheme"}),e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-right text-sm font-medium text-gray-700",children:"Budget"}),e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-center text-sm font-medium text-gray-700",children:"Type"}),e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-center text-sm font-medium text-gray-700",children:"Actions"})]})}),e.jsxs("tbody",{children:[B.map((C,g)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm text-gray-600",children:g+1}),e.jsxs("td",{className:"border border-gray-200 px-4 py-2 text-sm text-gray-800",children:[e.jsx("span",{className:"font-medium",children:C.crcCode||C.crc_code})," ",C.schemeName||C.scheme_name]}),e.jsxs("td",{className:"border border-gray-200 px-4 py-2 text-sm text-gray-600 text-right",children:["â¹",(C.allocatedBudget??C.budget_allocated??0).toLocaleString()]}),e.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm text-gray-600 text-center",children:e.jsx(le,{variant:(C.schemetype??"REVENUE")==="REVENUE"?"secondary":(C.schemetype??"REVENUE")==="CAPITAL"?"default":"destructive",children:(C.schemetype??"REVENUE").charAt(0)+(C.schemetype??"REVENUE").slice(1).toLowerCase()})}),e.jsxs("td",{className:"border border-gray-200 px-4 py-2 text-sm text-gray-600 text-center space-x-2",children:[e.jsx("button",{onClick:()=>T(C.id),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(je,{className:"w-5 h-5 text-blue-600"})}),e.jsx("button",{onClick:()=>ee(C.id),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(be,{className:"w-5 h-5 text-red-600"})})]})]},C.id)),B.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"border border-gray-200 px-4 py-6 text-center text-gray-400",children:"No schemes found."})})]})]})})]})]})})},Er=()=>{const s=Kt();return t.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",s.pathname)},[s.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/login",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Or={light:"",dark:".dark"},ut=t.createContext(null);function pt(){const s=t.useContext(ut);if(!s)throw new Error("useChart must be used within a <ChartContainer />");return s}const Ve=t.forwardRef(({id:s,className:n,children:a,config:r,...l},x)=>{const o=t.useId(),m=`chart-${s||o.replace(/:/g,"")}`;return e.jsx(ut.Provider,{value:{config:r},children:e.jsxs("div",{"data-chart":m,ref:x,className:H("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",n),...l,children:[e.jsx(Fr,{id:m,config:r}),e.jsx(hn,{children:a})]})})});Ve.displayName="Chart";const Fr=({id:s,config:n})=>{const a=Object.entries(n).filter(([r,l])=>l.theme||l.color);return a.length?e.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(Or).map(([r,l])=>`
${l} [data-chart=${s}] {
${a.map(([x,o])=>{var i;const m=((i=o.theme)==null?void 0:i[r])||o.color;return m?`  --color-${x}: ${m};`:null}).join(`
`)}
}
`).join(`
`)}}):null},$e=xn,Qe=t.forwardRef(({active:s,payload:n,className:a,indicator:r="dot",hideLabel:l=!1,hideIndicator:x=!1,label:o,labelFormatter:m,labelClassName:i,formatter:u,color:j,nameKey:A,labelKey:S},R)=>{const{config:D}=pt(),f=t.useMemo(()=>{var B;if(l||!(n!=null&&n.length))return null;const[w]=n,c=`${S||w.dataKey||w.name||"value"}`,d=Us(D,w,c),P=!S&&typeof o=="string"?((B=D[o])==null?void 0:B.label)||o:d==null?void 0:d.label;return m?e.jsx("div",{className:H("font-medium",i),children:m(P,n)}):P?e.jsx("div",{className:H("font-medium",i),children:P}):null},[o,m,n,l,i,D,S]);if(!s||!(n!=null&&n.length))return null;const V=n.length===1&&r!=="dot";return e.jsxs("div",{ref:R,className:H("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",a),children:[V?null:f,e.jsx("div",{className:"grid gap-1.5",children:n.map((w,c)=>{const d=`${A||w.name||w.dataKey||"value"}`,P=Us(D,w,d),B=j||w.payload.fill||w.color;return e.jsx("div",{className:H("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:u&&(w==null?void 0:w.value)!==void 0&&w.name?u(w.value,w.name,w,c,w.payload):e.jsxs(e.Fragment,{children:[P!=null&&P.icon?e.jsx(P.icon,{}):!x&&e.jsx("div",{className:H("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":V&&r==="dashed"}),style:{"--color-bg":B,"--color-border":B}}),e.jsxs("div",{className:H("flex flex-1 justify-between leading-none",V?"items-end":"items-center"),children:[e.jsxs("div",{className:"grid gap-1.5",children:[V?f:null,e.jsx("span",{className:"text-muted-foreground",children:(P==null?void 0:P.label)||w.name})]}),w.value&&e.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:w.value.toLocaleString()})]})]})},w.dataKey)})})]})});Qe.displayName="ChartTooltip";const Gr=t.forwardRef(({className:s,hideIcon:n=!1,payload:a,verticalAlign:r="bottom",nameKey:l},x)=>{const{config:o}=pt();return a!=null&&a.length?e.jsx("div",{ref:x,className:H("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",s),children:a.map(m=>{const i=`${l||m.dataKey||"value"}`,u=Us(o,m,i);return e.jsxs("div",{className:H("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!n?e.jsx(u.icon,{}):e.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:m.color}}),u==null?void 0:u.label]},m.value)})}):null});Gr.displayName="ChartLegend";function Us(s,n,a){if(typeof n!="object"||n===null)return;const r="payload"in n&&typeof n.payload=="object"&&n.payload!==null?n.payload:void 0;let l=a;return a in n&&typeof n[a]=="string"?l=n[a]:r&&a in r&&typeof r[a]=="string"&&(l=r[a]),l in s?s[l]:s[a]}const Vr=({filters:s})=>{const n=[{month:"Jan",allocated:4.2,utilized:3.8,pending:.4},{month:"Feb",allocated:3.8,utilized:3.5,pending:.3},{month:"Mar",allocated:5.1,utilized:4.2,pending:.9},{month:"Apr",allocated:4.5,utilized:4.1,pending:.4},{month:"May",allocated:6.2,utilized:5.8,pending:.4},{month:"Jun",allocated:5.8,utilized:5.2,pending:.6}],a=[{name:"PWD",value:35,amount:15.75},{name:"Health",value:25,amount:11.25},{name:"Education",value:20,amount:9},{name:"Rural Dev",value:12,amount:5.4},{name:"Urban Dev",value:8,amount:3.6}],r=[{month:"Jan",utilization:78},{month:"Feb",utilization:82},{month:"Mar",utilization:75},{month:"Apr",utilization:88},{month:"May",utilization:85},{month:"Jun",utilization:92}],l=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"],x={allocated:{label:"Allocated",color:"#2563eb"},utilized:{label:"Utilized",color:"#16a34a"},pending:{label:"Pending",color:"#dc2626"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Monthly Fund Allocation & Utilization"}),e.jsx(te,{children:"Comparison of allocated vs utilized funds (â¹ Crores)"})]}),e.jsx(E,{children:e.jsx(Ve,{config:x,className:"h-80",children:e.jsxs(et,{data:n,children:[e.jsx(ms,{strokeDasharray:"3 3"}),e.jsx(hs,{dataKey:"month"}),e.jsx(xs,{}),e.jsx($e,{content:e.jsx(Qe,{})}),e.jsx(is,{dataKey:"allocated",fill:"var(--color-allocated)"}),e.jsx(is,{dataKey:"utilized",fill:"var(--color-utilized)"}),e.jsx(is,{dataKey:"pending",fill:"var(--color-pending)"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Department-wise Fund Allocation"}),e.jsx(te,{children:"Distribution of funds across departments"})]}),e.jsx(E,{children:e.jsx(Ve,{config:x,className:"h-80",children:e.jsxs(st,{children:[e.jsx(at,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:m})=>`${o} ${(m*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:a.map((o,m)=>e.jsx(tt,{fill:l[m%l.length]},`cell-${m}`))}),e.jsx($e,{})]})})})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Fund Utilization Trend"}),e.jsx(te,{children:"Monthly utilization percentage"})]}),e.jsx(E,{children:e.jsx(Ve,{config:x,className:"h-80",children:e.jsxs(nt,{data:r,children:[e.jsx(ms,{strokeDasharray:"3 3"}),e.jsx(hs,{dataKey:"month"}),e.jsx(xs,{}),e.jsx($e,{content:e.jsx(Qe,{})}),e.jsx(Gs,{type:"monotone",dataKey:"utilization",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})})]})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Financial Summary"}),e.jsx(te,{children:"Detailed breakdown of financial metrics"})]}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Metric"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"Current Month"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"Previous Month"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"Change"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2 font-medium",children:"Total Allocation"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-right",children:"â¹5.8 Cr"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-right",children:"â¹6.2 Cr"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-right text-red-600",children:"-6.5%"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2 font-medium",children:"Fund Utilization"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-right",children:"â¹5.2 Cr"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-right",children:"â¹5.8 Cr"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-right text-red-600",children:"-10.3%"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2 font-medium",children:"Pending Amount"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-right",children:"â¹0.6 Cr"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-right",children:"â¹0.4 Cr"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-right text-green-600",children:"+50.0%"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2 font-medium",children:"Utilization Rate"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-right",children:"89.7%"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-right",children:"93.5%"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-right text-red-600",children:"-3.8%"})]})]})]})})})]})]})},Br=({filters:s})=>{const n=[{dept:"PWD",projects:45,completed:38,budget:15.75,utilized:14.2},{dept:"Health",projects:32,completed:28,budget:11.25,utilized:10.8},{dept:"Education",projects:28,completed:22,budget:9,utilized:8.1},{dept:"Rural Dev",projects:18,completed:15,budget:5.4,utilized:4.9},{dept:"Urban Dev",projects:12,completed:9,budget:3.6,utilized:3.2}],a=[{month:"Jan",PWD:85,Health:78,Education:82},{month:"Feb",PWD:88,Health:82,Education:79},{month:"Mar",PWD:82,Health:85,Education:88},{month:"Apr",PWD:91,Health:87,Education:85},{month:"May",PWD:89,Health:89,Education:92},{month:"Jun",PWD:93,Health:91,Education:89}],r={projects:{label:"Total Projects",color:"#2563eb"},completed:{label:"Completed",color:"#16a34a"},budget:{label:"Budget (â¹ Cr)",color:"#dc2626"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(I,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:"Total Departments"}),e.jsx(Ws,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"24"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active departments"})]})]}),e.jsxs(I,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:"Total Staff"}),e.jsx(We,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"1,247"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all departments"})]})]}),e.jsxs(I,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:"Active Projects"}),e.jsx(Pe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"135"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"In progress"})]})]}),e.jsxs(I,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:"Avg Performance"}),e.jsx(os,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"87.2%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Project completion rate"})]})]})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Department Performance Comparison"}),e.jsx(te,{children:"Projects and budget utilization by department"})]}),e.jsx(E,{children:e.jsx(Ve,{config:r,className:"h-80",children:e.jsxs(et,{data:n,children:[e.jsx(ms,{strokeDasharray:"3 3"}),e.jsx(hs,{dataKey:"dept"}),e.jsx(xs,{}),e.jsx($e,{content:e.jsx(Qe,{})}),e.jsx(is,{dataKey:"projects",fill:"var(--color-projects)"}),e.jsx(is,{dataKey:"completed",fill:"var(--color-completed)"})]})})})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Department Performance Trend"}),e.jsx(te,{children:"Monthly performance trend for top departments"})]}),e.jsx(E,{children:e.jsx(Ve,{config:r,className:"h-80",children:e.jsxs(un,{data:a,children:[e.jsx(ms,{strokeDasharray:"3 3"}),e.jsx(hs,{dataKey:"month"}),e.jsx(xs,{}),e.jsx($e,{content:e.jsx(Qe,{})}),e.jsx(Rs,{type:"monotone",dataKey:"PWD",stroke:"#8884d8",strokeWidth:2}),e.jsx(Rs,{type:"monotone",dataKey:"Health",stroke:"#82ca9d",strokeWidth:2}),e.jsx(Rs,{type:"monotone",dataKey:"Education",stroke:"#ffc658",strokeWidth:2})]})})})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Department Performance Details"}),e.jsx(te,{children:"Comprehensive department-wise breakdown"})]}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Department"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Total Projects"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Completed"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Budget (â¹ Cr)"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Utilized (â¹ Cr)"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Success Rate"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Status"})]})}),e.jsx("tbody",{children:n.map(l=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2 font-medium",children:l.dept}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:l.projects}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:l.completed}),e.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center",children:["â¹",l.budget]}),e.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center",children:["â¹",l.utilized]}),e.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center",children:[(l.completed/l.projects*100).toFixed(1),"%"]}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:e.jsx(le,{variant:l.completed/l.projects>.8?"default":"secondary",children:l.completed/l.projects>.8?"Excellent":"Good"})})]},l.dept))})]})})})]})]})},_s=t.forwardRef(({className:s,value:n,...a},r)=>e.jsx(Ka,{ref:r,className:H("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...a,children:e.jsx(Jt,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}));_s.displayName=Ka.displayName;const Ur=({filters:s})=>{const n=[{name:"Completed",value:45,count:45},{name:"In Progress",value:35,count:35},{name:"Pending",value:15,count:15},{name:"Cancelled",value:5,count:5}],a=[{month:"Jan",completed:8,started:12,cancelled:1},{month:"Feb",completed:12,started:10,cancelled:0},{month:"Mar",completed:15,started:18,cancelled:2},{month:"Apr",completed:10,started:8,cancelled:1},{month:"May",completed:18,started:15,cancelled:0},{month:"Jun",completed:14,started:12,cancelled:1}],r=[{category:"Infrastructure",count:32,budget:18.5,progress:78},{category:"Healthcare",count:28,budget:12.3,progress:85},{category:"Education",count:24,budget:9.8,progress:82},{category:"Agriculture",count:18,budget:7.2,progress:75},{category:"Technology",count:15,budget:5.4,progress:88}],l=[{id:"MH-2024-001",name:"Rural Road Development Phase 2",department:"PWD",budget:2.5,progress:85,status:"In Progress",startDate:"2024-01-15",expectedCompletion:"2024-08-30"},{id:"MH-2024-002",name:"Primary Health Center Upgrade",department:"Health",budget:1.8,progress:95,status:"Nearly Complete",startDate:"2024-02-01",expectedCompletion:"2024-07-15"},{id:"MH-2024-003",name:"Digital Classroom Initiative",department:"Education",budget:3.2,progress:60,status:"In Progress",startDate:"2024-03-10",expectedCompletion:"2024-12-20"}],x=["#0088FE","#00C49F","#FFBB28","#FF8042"],o={completed:{label:"Completed",color:"#16a34a"},started:{label:"Started",color:"#2563eb"},cancelled:{label:"Cancelled",color:"#dc2626"}},m=i=>{switch(i){case"Completed":return"default";case"In Progress":return"secondary";case"Nearly Complete":return"outline";default:return"destructive"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(I,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:"Total Works"}),e.jsx(As,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"128"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All time Works"})]})]}),e.jsxs(I,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:"In Progress"}),e.jsx(Ja,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"45"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Works"})]})]}),e.jsxs(I,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:"Completed"}),e.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"67"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully completed"})]})]}),e.jsxs(I,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:"At Risk"}),e.jsx(Ts,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"8"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Behind schedule"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Project Status Distribution"}),e.jsx(te,{children:"Current status of all projects"})]}),e.jsx(E,{children:e.jsx(Ve,{config:o,className:"h-80",children:e.jsxs(st,{children:[e.jsx(at,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:u})=>`${i} ${(u*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((i,u)=>e.jsx(tt,{fill:x[u%x.length]},`cell-${u}`))}),e.jsx($e,{})]})})})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Monthly Project Activity"}),e.jsx(te,{children:"Project starts and completions by month"})]}),e.jsx(E,{children:e.jsx(Ve,{config:o,className:"h-80",children:e.jsxs(nt,{data:a,children:[e.jsx(ms,{strokeDasharray:"3 3"}),e.jsx(hs,{dataKey:"month"}),e.jsx(xs,{}),e.jsx($e,{content:e.jsx(Qe,{})}),e.jsx(Gs,{type:"monotone",dataKey:"completed",stackId:"1",stroke:"var(--color-completed)",fill:"var(--color-completed)"}),e.jsx(Gs,{type:"monotone",dataKey:"started",stackId:"1",stroke:"var(--color-started)",fill:"var(--color-started)"})]})})})]})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Projects by Category"}),e.jsx(te,{children:"Project distribution and progress by category"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:r.map(i=>e.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:i.category}),e.jsxs("span",{className:"text-sm text-gray-600",children:[i.count," projects"]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Budget: â¹",i.budget," Cr"]}),e.jsxs("span",{className:"text-sm font-medium",children:[i.progress,"%"]})]}),e.jsx(_s,{value:i.progress,className:"h-2"})]})},i.category))})})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Recent Projects"}),e.jsx(te,{children:"Latest project updates and status"})]}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Project ID"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Name"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Department"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Budget"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Progress"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Status"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Expected Completion"})]})}),e.jsx("tbody",{children:l.map(i=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2 font-mono text-sm",children:i.id}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.jsx("div",{className:"font-medium",children:i.name})}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:i.department}),e.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center",children:["â¹",i.budget," Cr"]}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_s,{value:i.progress,className:"flex-1 h-2"}),e.jsxs("span",{className:"text-sm",children:[i.progress,"%"]})]})}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:e.jsx(le,{variant:m(i.status),children:i.status})}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center text-sm",children:new Date(i.expectedCompletion).toLocaleDateString("en-IN")})]},i.id))})]})})})]})]})},_r=({filters:s,onFiltersChange:n})=>{const a=(l,x)=>{n({...s,[l]:x})},r=()=>{n({dateRange:"last30days",department:"all",district:"all",status:"all"})};return e.jsxs(I,{children:[e.jsx(G,{children:e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(qa,{className:"h-5 w-5"}),"Report Filters"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Date Range"}),e.jsxs(X,{value:s.dateRange,onValueChange:l=>a("dateRange",l),children:[e.jsxs(K,{children:[e.jsx(As,{className:"h-4 w-4 mr-2"}),e.jsx(Q,{})]}),e.jsxs(J,{children:[e.jsx(U,{value:"last7days",children:"Last 7 Days"}),e.jsx(U,{value:"last30days",children:"Last 30 Days"}),e.jsx(U,{value:"last3months",children:"Last 3 Months"}),e.jsx(U,{value:"last6months",children:"Last 6 Months"}),e.jsx(U,{value:"lastyear",children:"Last Year"}),e.jsx(U,{value:"custom",children:"Custom Range"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Department"}),e.jsxs(X,{value:s.department,onValueChange:l=>a("department",l),children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsxs(J,{children:[e.jsx(U,{value:"all",children:"All Departments"}),e.jsx(U,{value:"PWD",children:"Public Works Department"}),e.jsx(U,{value:"HEALTH",children:"Health Department"}),e.jsx(U,{value:"EDUCATION",children:"Education Department"}),e.jsx(U,{value:"RURAL",children:"Rural Development"}),e.jsx(U,{value:"URBAN",children:"Urban Development"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"District"}),e.jsxs(X,{value:s.district,onValueChange:l=>a("district",l),children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsxs(J,{children:[e.jsx(U,{value:"all",children:"All Districts"}),e.jsx(U,{value:"mumbai",children:"Mumbai"}),e.jsx(U,{value:"pune",children:"Pune"}),e.jsx(U,{value:"nagpur",children:"Nagpur"}),e.jsx(U,{value:"nashik",children:"Nashik"}),e.jsx(U,{value:"aurangabad",children:"Aurangabad"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsxs(X,{value:s.status,onValueChange:l=>a("status",l),children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsxs(J,{children:[e.jsx(U,{value:"all",children:"All Status"}),e.jsx(U,{value:"active",children:"Active"}),e.jsx(U,{value:"completed",children:"Completed"}),e.jsx(U,{value:"pending",children:"Pending"}),e.jsx(U,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(L,{variant:"outline",onClick:r,className:"w-full",children:[e.jsx(Za,{className:"h-4 w-4 mr-2"}),"Reset"]})})]})})]})},Is=()=>{const[s,n]=t.useState({dateRange:"last30days",department:"all",district:"all",status:"all"}),a=l=>{console.log(`Exporting report as ${l}`)},r=[{title:"Total Fund Allocation",value:"â¹45.2 Cr",change:"+12.3%",icon:os,color:"text-green-600"},{title:"Active works",value:"128",change:"+5.2%",icon:Pe,color:"text-blue-600"},{title:"Departments",value:"24",change:"0%",icon:fs,color:"text-purple-600"},{title:"Fund Utilization",value:"78.5%",change:"+3.1%",icon:ys,color:"text-orange-600"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive financial and operational insights"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{variant:"outline",onClick:()=>a("pdf"),children:[e.jsx(Os,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),e.jsxs(L,{variant:"outline",onClick:()=>a("excel"),children:[e.jsx(Os,{className:"h-4 w-4 mr-2"}),"Export Excel"]})]})]}),e.jsx(_r,{filters:s,onFiltersChange:n}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(l=>e.jsxs(I,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium text-gray-600",children:l.title}),e.jsx(l.icon,{className:`h-4 w-4 ${l.color}`})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:l.value}),e.jsxs("p",{className:`text-xs ${l.color} mt-1`,children:[l.change," from last period"]})]})]},l.title))}),e.jsxs(ts,{defaultValue:"financial",className:"space-y-6",children:[e.jsxs(He,{className:"grid w-full grid-cols-3",children:[e.jsx(ue,{value:"financial",children:"Financial Reports"}),e.jsx(ue,{value:"department",children:"Department Reports"}),e.jsx(ue,{value:"project",children:"work Reports"})]}),e.jsx(oe,{value:"financial",children:e.jsx(Vr,{filters:s})}),e.jsx(oe,{value:"department",children:e.jsx(Br,{filters:s})}),e.jsx(oe,{value:"project",children:e.jsx(Ur,{filters:s})})]})]})},Ps=t.forwardRef(({className:s,...n},a)=>e.jsx("textarea",{className:H("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...n}));Ps.displayName="Textarea";const zr=()=>{const[s,n]=t.useState([{id:1,name:"Mumbai",code:"MUM",description:"Mumbai District"},{id:2,name:"Pune",code:"PUN",description:"Pune District"},{id:3,name:"Nashik",code:"NAS",description:"Nashik District"}]),[a,r]=t.useState([{id:1,name:"Rural Development Scheme",code:"RDS",description:"Scheme for rural area development"},{id:2,name:"Urban Infrastructure",code:"UIS",description:"Urban infrastructure improvement"},{id:3,name:"Education Enhancement",code:"EES",description:"Education system enhancement"}]),[l,x]=t.useState([{id:1,name:"Infrastructure",code:"INF",description:"Infrastructure projects"},{id:2,name:"Social Welfare",code:"SWF",description:"Social welfare programs"},{id:3,name:"Healthcare",code:"HCR",description:"Healthcare initiatives"}]),[o,m]=t.useState({name:"",code:"",description:""}),[i,u]=t.useState({name:"",code:"",description:""}),[j,A]=t.useState({name:"",code:"",description:""}),S=()=>{o.name&&o.code&&(n([...s,{id:Date.now(),...o}]),m({name:"",code:"",description:""}))},R=()=>{i.name&&i.code&&(r([...a,{id:Date.now(),...i}]),u({name:"",code:"",description:""}))},D=()=>{j.name&&j.code&&(x([...l,{id:Date.now(),...j}]),A({name:"",code:"",description:""}))},f=c=>{n(s.filter(d=>d.id!==c))},V=c=>{r(a.filter(d=>d.id!==c))},w=c=>{x(l.filter(d=>d.id!==c))};return e.jsx("div",{className:"space-y-6",children:e.jsxs(ts,{defaultValue:"districts",className:"space-y-6",children:[e.jsxs(He,{className:"grid w-full grid-cols-3",children:[e.jsxs(ue,{value:"districts",className:"flex items-center gap-2",children:[e.jsx(Ya,{className:"h-4 w-4"}),"Districts"]}),e.jsxs(ue,{value:"schemes",className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),"Schemes"]}),e.jsxs(ue,{value:"categories",className:"flex items-center gap-2",children:[e.jsx(Ws,{className:"h-4 w-4"}),"Categories"]})]}),e.jsx(oe,{value:"districts",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Add New District"}),e.jsx(te,{children:"Create a new district entry"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"district-name",children:"District Name"}),e.jsx(_,{id:"district-name",value:o.name,onChange:c=>m({...o,name:c.target.value}),placeholder:"Enter district name"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"district-code",children:"District Code"}),e.jsx(_,{id:"district-code",value:o.code,onChange:c=>m({...o,code:c.target.value}),placeholder:"Enter district code"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"district-description",children:"Description"}),e.jsx(Ps,{id:"district-description",value:o.description,onChange:c=>m({...o,description:c.target.value}),placeholder:"Enter description"})]}),e.jsxs(L,{onClick:S,className:"w-full",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add District"]})]})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Existing Districts"}),e.jsx(te,{children:"Manage existing districts"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:s.map(c=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:c.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Code: ",c.code]}),e.jsx("p",{className:"text-sm text-gray-500",children:c.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{variant:"outline",size:"sm",children:e.jsx(ls,{className:"h-4 w-4"})}),e.jsx(L,{variant:"outline",size:"sm",onClick:()=>f(c.id),children:e.jsx(Fe,{className:"h-4 w-4"})})]})]},c.id))})})]})]})}),e.jsx(oe,{value:"schemes",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Add New Scheme"}),e.jsx(te,{children:"Create a new scheme entry"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"scheme-name",children:"Scheme Name"}),e.jsx(_,{id:"scheme-name",value:i.name,onChange:c=>u({...i,name:c.target.value}),placeholder:"Enter scheme name"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"scheme-code",children:"Scheme Code"}),e.jsx(_,{id:"scheme-code",value:i.code,onChange:c=>u({...i,code:c.target.value}),placeholder:"Enter scheme code"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"scheme-description",children:"Description"}),e.jsx(Ps,{id:"scheme-description",value:i.description,onChange:c=>u({...i,description:c.target.value}),placeholder:"Enter description"})]}),e.jsxs(L,{onClick:R,className:"w-full",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Scheme"]})]})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Existing Schemes"}),e.jsx(te,{children:"Manage existing schemes"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:a.map(c=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:c.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Code: ",c.code]}),e.jsx("p",{className:"text-sm text-gray-500",children:c.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{variant:"outline",size:"sm",children:e.jsx(ls,{className:"h-4 w-4"})}),e.jsx(L,{variant:"outline",size:"sm",onClick:()=>V(c.id),children:e.jsx(Fe,{className:"h-4 w-4"})})]})]},c.id))})})]})]})}),e.jsx(oe,{value:"categories",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Add New Category"}),e.jsx(te,{children:"Create a new project category"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"category-name",children:"Category Name"}),e.jsx(_,{id:"category-name",value:j.name,onChange:c=>A({...j,name:c.target.value}),placeholder:"Enter category name"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"category-code",children:"Category Code"}),e.jsx(_,{id:"category-code",value:j.code,onChange:c=>A({...j,code:c.target.value}),placeholder:"Enter category code"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"category-description",children:"Description"}),e.jsx(Ps,{id:"category-description",value:j.description,onChange:c=>A({...j,description:c.target.value}),placeholder:"Enter description"})]}),e.jsxs(L,{onClick:D,className:"w-full",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Category"]})]})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsx(F,{children:"Existing Categories"}),e.jsx(te,{children:"Manage existing categories"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:l.map(c=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:c.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Code: ",c.code]}),e.jsx("p",{className:"text-sm text-gray-500",children:c.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{variant:"outline",size:"sm",children:e.jsx(ls,{className:"h-4 w-4"})}),e.jsx(L,{variant:"outline",size:"sm",onClick:()=>w(c.id),children:e.jsx(Fe,{className:"h-4 w-4"})})]})]},c.id))})})]})]})})]})})},pe=t.forwardRef(({className:s,...n},a)=>e.jsx(Xa,{className:H("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...n,ref:a,children:e.jsx(Zt,{className:H("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));pe.displayName=Xa.displayName;const Wr=()=>{const{user:s}=Ue(),[n,a]=t.useState({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",mobile:(s==null?void 0:s.mobile)||"",district:(s==null?void 0:s.district)||"",department:(s==null?void 0:s.department)||"",designation:(s==null?void 0:s.designation)||""}),[r,l]=t.useState({emailNotifications:!0,smsNotifications:!1,reportAlerts:!0,systemMaintenance:!0,language:"english",theme:"light"}),x=()=>{console.log("Updating profile:",n)},o=()=>{console.log("Updating preferences:",r)};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(cs,{className:"h-5 w-5"}),"Profile Information"]}),e.jsx(te,{children:"Update your personal information"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"name",children:"Full Name"}),e.jsx(_,{id:"name",value:n.name,onChange:m=>a({...n,name:m.target.value}),placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"email",children:"Email Address"}),e.jsx(_,{id:"email",type:"email",value:n.email,onChange:m=>a({...n,email:m.target.value}),placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"mobile",children:"Mobile Number"}),e.jsx(_,{id:"mobile",value:n.mobile,onChange:m=>a({...n,mobile:m.target.value}),placeholder:"Enter your mobile number"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"designation",children:"Designation"}),e.jsx(_,{id:"designation",value:n.designation,onChange:m=>a({...n,designation:m.target.value}),placeholder:"Enter your designation"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"district",children:"District"}),e.jsxs(X,{value:n.district,onValueChange:m=>a({...n,district:m}),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"Select district"})}),e.jsxs(J,{children:[e.jsx(U,{value:"mumbai",children:"Mumbai"}),e.jsx(U,{value:"pune",children:"Pune"}),e.jsx(U,{value:"nashik",children:"Nashik"}),e.jsx(U,{value:"nagpur",children:"Nagpur"})]})]})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"department",children:"Department"}),e.jsx(_,{id:"department",value:n.department,onChange:m=>a({...n,department:m.target.value}),placeholder:"Enter your department"})]}),e.jsxs(L,{onClick:x,className:"w-full",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Update Profile"]})]})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"h-5 w-5"}),"Notification Preferences"]}),e.jsx(te,{children:"Manage your notification settings"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"email-notifications",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email"})]}),e.jsx(pe,{id:"email-notifications",checked:r.emailNotifications,onCheckedChange:m=>l({...r,emailNotifications:m})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"sms-notifications",children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via SMS"})]}),e.jsx(pe,{id:"sms-notifications",checked:r.smsNotifications,onCheckedChange:m=>l({...r,smsNotifications:m})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"report-alerts",children:"Report Alerts"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get alerts for new reports"})]}),e.jsx(pe,{id:"report-alerts",checked:r.reportAlerts,onCheckedChange:m=>l({...r,reportAlerts:m})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"system-maintenance",children:"System Maintenance"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Notifications about system updates"})]}),e.jsx(pe,{id:"system-maintenance",checked:r.systemMaintenance,onCheckedChange:m=>l({...r,systemMaintenance:m})})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"language",children:"Language"}),e.jsxs(X,{value:r.language,onValueChange:m=>l({...r,language:m}),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"Select language"})}),e.jsxs(J,{children:[e.jsx(U,{value:"english",children:"English"}),e.jsx(U,{value:"marathi",children:"Marathi"}),e.jsx(U,{value:"hindi",children:"Hindi"})]})]})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"theme",children:"Theme"}),e.jsxs(X,{value:r.theme,onValueChange:m=>l({...r,theme:m}),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"Select theme"})}),e.jsxs(J,{children:[e.jsx(U,{value:"light",children:"Light"}),e.jsx(U,{value:"dark",children:"Dark"}),e.jsx(U,{value:"system",children:"System"})]})]})]}),e.jsxs(L,{onClick:o,className:"w-full",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Update Preferences"]})]})]})]})})},$r=()=>{const[s,n]=t.useState({applicationName:"",version:"1.0.0",maintenanceMode:!1,backupEnabled:!0,autoBackupHours:"24",sessionTimeout:"30",maxFileSize:"10",allowedFileTypes:"pdf,doc,docx,xls,xlsx,jpg,png"}),[a,r]=t.useState({smtpServer:"smtp.gmail.com",smtpPort:"587",smtpUsername:"",smtpPassword:"",fromEmail:"noreply@maharashtra.gov.in",fromName:""}),l=()=>{console.log("Updating system configuration:",s)},x=()=>{console.log("Updating email configuration:",a)},o=()=>{console.log("Starting manual backup...")},m=()=>{console.log("Clearing system cache...")};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"h-5 w-5"}),"System Configuration"]}),e.jsx(te,{children:"General system settings and configuration"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"app-name",children:"Application Name"}),e.jsx(_,{id:"app-name",value:s.applicationName,onChange:i=>n({...s,applicationName:i.target.value}),placeholder:"Enter application name"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"version",children:"Version"}),e.jsx(_,{id:"version",value:s.version,onChange:i=>n({...s,version:i.target.value}),placeholder:"Enter version"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"maintenance-mode",children:"Maintenance Mode"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enable to restrict system access"})]}),e.jsx(pe,{id:"maintenance-mode",checked:s.maintenanceMode,onCheckedChange:i=>n({...s,maintenanceMode:i})})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"session-timeout",children:"Session Timeout (minutes)"}),e.jsx(_,{id:"session-timeout",type:"number",value:s.sessionTimeout,onChange:i=>n({...s,sessionTimeout:i.target.value}),placeholder:"Enter session timeout"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"max-file-size",children:"Max File Size (MB)"}),e.jsx(_,{id:"max-file-size",type:"number",value:s.maxFileSize,onChange:i=>n({...s,maxFileSize:i.target.value}),placeholder:"Enter max file size"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"allowed-file-types",children:"Allowed File Types"}),e.jsx(_,{id:"allowed-file-types",value:s.allowedFileTypes,onChange:i=>n({...s,allowedFileTypes:i.target.value}),placeholder:"Enter allowed file types (comma separated)"})]}),e.jsxs(L,{onClick:l,className:"w-full",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Update System Settings"]})]})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(en,{className:"h-5 w-5"}),"Email Configuration"]}),e.jsx(te,{children:"Configure email server settings"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"smtp-server",children:"SMTP Server"}),e.jsx(_,{id:"smtp-server",value:a.smtpServer,onChange:i=>r({...a,smtpServer:i.target.value}),placeholder:"Enter SMTP server"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"smtp-port",children:"SMTP Port"}),e.jsx(_,{id:"smtp-port",value:a.smtpPort,onChange:i=>r({...a,smtpPort:i.target.value}),placeholder:"Enter SMTP port"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"smtp-username",children:"SMTP Username"}),e.jsx(_,{id:"smtp-username",value:a.smtpUsername,onChange:i=>r({...a,smtpUsername:i.target.value}),placeholder:"Enter SMTP username"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"smtp-password",children:"SMTP Password"}),e.jsx(_,{id:"smtp-password",type:"password",value:a.smtpPassword,onChange:i=>r({...a,smtpPassword:i.target.value}),placeholder:"Enter SMTP password"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"from-email",children:"From Email"}),e.jsx(_,{id:"from-email",type:"email",value:a.fromEmail,onChange:i=>r({...a,fromEmail:i.target.value}),placeholder:"Enter from email"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"from-name",children:"From Name"}),e.jsx(_,{id:"from-name",value:a.fromName,onChange:i=>r({...a,fromName:i.target.value}),placeholder:"Enter from name"})]}),e.jsxs(L,{onClick:x,className:"w-full",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Update Email Settings"]})]})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(Fs,{className:"h-5 w-5"}),"Backup & Maintenance"]}),e.jsx(te,{children:"Manage system backups and maintenance"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"backup-enabled",children:"Auto Backup"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enable automatic backups"})]}),e.jsx(pe,{id:"backup-enabled",checked:s.backupEnabled,onCheckedChange:i=>n({...s,backupEnabled:i})})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"backup-hours",children:"Backup Frequency (hours)"}),e.jsxs(X,{value:s.autoBackupHours,onValueChange:i=>n({...s,autoBackupHours:i}),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"Select backup frequency"})}),e.jsxs(J,{children:[e.jsx(U,{value:"6",children:"Every 6 hours"}),e.jsx(U,{value:"12",children:"Every 12 hours"}),e.jsx(U,{value:"24",children:"Daily"}),e.jsx(U,{value:"168",children:"Weekly"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(L,{onClick:o,className:"w-full",variant:"outline",children:[e.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Backup Now"]}),e.jsxs(L,{onClick:m,className:"w-full",variant:"outline",children:[e.jsx(Za,{className:"h-4 w-4 mr-2"}),"Clear Cache"]})]})]})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(Ja,{className:"h-5 w-5"}),"System Information"]}),e.jsx(te,{children:"View system status and information"})]}),e.jsx(E,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{children:"Server Status"}),e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Online"})]}),e.jsxs("div",{children:[e.jsx(M,{children:"Database Status"}),e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Connected"})]}),e.jsxs("div",{children:[e.jsx(M,{children:"Last Backup"}),e.jsx("p",{className:"text-sm text-gray-600",children:"2024-01-15 02:00 AM"})]}),e.jsxs("div",{children:[e.jsx(M,{children:"Uptime"}),e.jsx("p",{className:"text-sm text-gray-600",children:"15 days, 3 hours"})]}),e.jsxs("div",{children:[e.jsx(M,{children:"Total Users"}),e.jsx("p",{className:"text-sm text-gray-600",children:"1,247"})]}),e.jsxs("div",{children:[e.jsx(M,{children:"Active Sessions"}),e.jsx("p",{className:"text-sm text-gray-600",children:"156"})]})]})})]})]})})},Hr=()=>{const[s,n]=t.useState({passwordMinLength:"8",requireUppercase:!0,requireNumbers:!0,requireSpecialChars:!0,passwordExpiry:"90",maxLoginAttempts:"5",lockoutDuration:"30",twoFactorAuth:!1,sessionSecurity:!0,ipWhitelisting:!1}),[a,r]=t.useState({enableAuditLog:!0,logLevel:"info",retentionDays:"365",logFailedLogins:!0,logDataChanges:!0,logSystemAccess:!0}),[l,x]=t.useState({currentPassword:"",newPassword:"",confirmPassword:""}),o=()=>{console.log("Updating security configuration:",s)},m=()=>{console.log("Updating audit configuration:",a)},i=()=>{if(l.newPassword!==l.confirmPassword){alert("New passwords do not match");return}console.log("Changing password..."),x({currentPassword:"",newPassword:"",confirmPassword:""})};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(qs,{className:"h-5 w-5"}),"Password Policy"]}),e.jsx(te,{children:"Configure password requirements and security"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"password-min-length",children:"Minimum Password Length"}),e.jsx(_,{id:"password-min-length",type:"number",value:s.passwordMinLength,onChange:u=>n({...s,passwordMinLength:u.target.value}),placeholder:"Enter minimum length"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"require-uppercase",children:"Require Uppercase"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Require at least one uppercase letter"})]}),e.jsx(pe,{id:"require-uppercase",checked:s.requireUppercase,onCheckedChange:u=>n({...s,requireUppercase:u})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"require-numbers",children:"Require Numbers"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Require at least one number"})]}),e.jsx(pe,{id:"require-numbers",checked:s.requireNumbers,onCheckedChange:u=>n({...s,requireNumbers:u})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"require-special",children:"Require Special Characters"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Require at least one special character"})]}),e.jsx(pe,{id:"require-special",checked:s.requireSpecialChars,onCheckedChange:u=>n({...s,requireSpecialChars:u})})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"password-expiry",children:"Password Expiry (days)"}),e.jsx(_,{id:"password-expiry",type:"number",value:s.passwordExpiry,onChange:u=>n({...s,passwordExpiry:u.target.value}),placeholder:"Enter expiry days"})]}),e.jsxs(L,{onClick:o,className:"w-full",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Update Password Policy"]})]})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-5 w-5"}),"Login Security"]}),e.jsx(te,{children:"Configure login security settings"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"max-login-attempts",children:"Max Login Attempts"}),e.jsx(_,{id:"max-login-attempts",type:"number",value:s.maxLoginAttempts,onChange:u=>n({...s,maxLoginAttempts:u.target.value}),placeholder:"Enter max attempts"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"lockout-duration",children:"Lockout Duration (minutes)"}),e.jsx(_,{id:"lockout-duration",type:"number",value:s.lockoutDuration,onChange:u=>n({...s,lockoutDuration:u.target.value}),placeholder:"Enter lockout duration"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"two-factor-auth",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enable 2FA for all users"})]}),e.jsx(pe,{id:"two-factor-auth",checked:s.twoFactorAuth,onCheckedChange:u=>n({...s,twoFactorAuth:u})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"session-security",children:"Enhanced Session Security"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enable advanced session protection"})]}),e.jsx(pe,{id:"session-security",checked:s.sessionSecurity,onCheckedChange:u=>n({...s,sessionSecurity:u})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"ip-whitelisting",children:"IP Whitelisting"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Restrict access to specific IP addresses"})]}),e.jsx(pe,{id:"ip-whitelisting",checked:s.ipWhitelisting,onCheckedChange:u=>n({...s,ipWhitelisting:u})})]}),e.jsxs(L,{onClick:o,className:"w-full",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Update Login Security"]})]})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(ja,{className:"h-5 w-5"}),"Change Password"]}),e.jsx(te,{children:"Update your account password"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"current-password",children:"Current Password"}),e.jsx(_,{id:"current-password",type:"password",value:l.currentPassword,onChange:u=>x({...l,currentPassword:u.target.value}),placeholder:"Enter current password"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"new-password",children:"New Password"}),e.jsx(_,{id:"new-password",type:"password",value:l.newPassword,onChange:u=>x({...l,newPassword:u.target.value}),placeholder:"Enter new password"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"confirm-password",children:"Confirm New Password"}),e.jsx(_,{id:"confirm-password",type:"password",value:l.confirmPassword,onChange:u=>x({...l,confirmPassword:u.target.value}),placeholder:"Confirm new password"})]}),e.jsxs(L,{onClick:i,className:"w-full",children:[e.jsx(qs,{className:"h-4 w-4 mr-2"}),"Change Password"]})]})]}),e.jsxs(I,{children:[e.jsxs(G,{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-5 w-5"}),"Audit & Monitoring"]}),e.jsx(te,{children:"Configure system audit and monitoring"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"enable-audit-log",children:"Enable Audit Log"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Log all system activities"})]}),e.jsx(pe,{id:"enable-audit-log",checked:a.enableAuditLog,onCheckedChange:u=>r({...a,enableAuditLog:u})})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"log-level",children:"Log Level"}),e.jsxs(X,{value:a.logLevel,onValueChange:u=>r({...a,logLevel:u}),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"Select log level"})}),e.jsxs(J,{children:[e.jsx(U,{value:"error",children:"Error"}),e.jsx(U,{value:"warn",children:"Warning"}),e.jsx(U,{value:"info",children:"Info"}),e.jsx(U,{value:"debug",children:"Debug"})]})]})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"retention-days",children:"Log Retention (days)"}),e.jsx(_,{id:"retention-days",type:"number",value:a.retentionDays,onChange:u=>r({...a,retentionDays:u.target.value}),placeholder:"Enter retention days"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"log-failed-logins",children:"Log Failed Logins"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Track failed login attempts"})]}),e.jsx(pe,{id:"log-failed-logins",checked:a.logFailedLogins,onCheckedChange:u=>r({...a,logFailedLogins:u})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"log-data-changes",children:"Log Data Changes"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Track all data modifications"})]}),e.jsx(pe,{id:"log-data-changes",checked:a.logDataChanges,onCheckedChange:u=>r({...a,logDataChanges:u})})]}),e.jsxs(L,{onClick:m,className:"w-full",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Update Audit Settings"]})]})]})]})})},Yr=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Es,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage system configuration and master data"})]})]}),e.jsxs(ts,{defaultValue:"master-data",className:"space-y-6",children:[e.jsxs(He,{className:"grid w-full grid-cols-4",children:[e.jsxs(ue,{value:"master-data",className:"flex items-center gap-2",children:[e.jsx(Fs,{className:"h-4 w-4"}),"Master Data"]}),e.jsxs(ue,{value:"user-settings",className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-4 w-4"}),"User Settings"]}),e.jsxs(ue,{value:"system",className:"flex items-center gap-2",children:[e.jsx(Es,{className:"h-4 w-4"}),"System"]}),e.jsxs(ue,{value:"security",className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-4 w-4"}),"Security"]})]}),e.jsx(oe,{value:"master-data",children:e.jsx(zr,{})}),e.jsx(oe,{value:"user-settings",children:e.jsx(Wr,{})}),e.jsx(oe,{value:"system",children:e.jsx($r,{})}),e.jsx(oe,{value:"security",children:e.jsx(Hr,{})})]})]}),da=["PERCENTAGE","FIXED"];function ca(){const{toast:s}=Be(),[n,a]=t.useState([]),[r,l]=t.useState(!0),[x,o]=t.useState("All"),[m,i]=t.useState(!1),[u,j]=t.useState({code:"",taxName:"",taxType:"PERCENTAGE",taxPercentage:0,fixedAmount:0,status:"ACTIVE"}),[A,S]=t.useState(!1);t.useEffect(()=>{R()},[]);const R=async()=>{l(!0);try{const P=await he.get("http://13.232.90.40:8080/api/tax-master");a(P.data||[])}catch{s({title:"Error fetching taxes",description:"Could not load tax data. Please try again.",variant:"destructive"})}l(!1)},D=t.useMemo(()=>n.filter(d=>x==="All"?!0:d.taxType===x),[n,x]),f=async()=>{if(!u.code||!u.taxName||!u.taxType){s({title:"Missing Fields",description:"Code, Name and Type are required.",variant:"destructive"});return}S(!0);try{const d="http://13.232.90.40:8080",P={code:u.code.trim().toUpperCase(),taxName:u.taxName.trim(),taxType:u.taxType,taxPercentage:u.taxType==="PERCENTAGE"?Number(u.taxPercentage):0,fixedAmount:u.taxType==="FIXED"?Number(u.fixedAmount):0,status:"ACTIVE"};await he.post(`${d}/api/tax-master`,P),s({title:"Tax Added",description:"New tax added successfully."}),i(!1),j({code:"",taxName:"",taxType:"PERCENTAGE",taxPercentage:0,fixedAmount:0,status:"ACTIVE"}),R()}catch{s({title:"Error Adding Tax",description:"Could not add new tax.",variant:"destructive"})}S(!1)},V=async d=>{if(window.confirm("Are you sure you want to delete this tax?"))try{await he.delete(`http://13.232.90.40:8080/api/tax-master/${d}`),s({title:"Tax Deleted",description:"Tax deleted successfully."}),R()}catch{s({title:"Error Deleting Tax",description:"Could not delete tax.",variant:"destructive"})}},w=async(d,P)=>{try{const B="http://13.232.90.40:8080",ee=P==="ACTIVE"?"INACTIVE":"ACTIVE";await he.put(`${B}/api/tax-master/${d}/status?status=${ee}`),R(),s({title:"Status Changed",description:`Tax is now ${ee}.`})}catch{s({title:"Status Change Failed",description:"Could not update status.",variant:"destructive"})}},c=(d,P)=>j(B=>({...B,[d]:P}));return e.jsx("div",{className:"p-2 bg-gray-50 min-h-[calc(100vh-64px)]",children:e.jsxs(I,{className:"border border-gray-100 rounded-xl shadow-sm max-w-6xl mx-auto",children:[e.jsxs(G,{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 px-6 pt-6 pb-2",children:[e.jsxs("div",{children:[e.jsx(F,{className:"text-2xl font-bold",children:"Tax-Deducation Master"}),e.jsx("p",{className:"mt-1 text-gray-500 text-sm",children:"Define & Manage Tax Codes & Rates"})]}),e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Filter Type"}),e.jsxs("select",{className:"w-40 border border-gray-300 rounded px-2 py-1 text-sm focus:ring-2 focus:ring-blue-100",value:x,onChange:d=>o(d.target.value),children:[e.jsx("option",{children:"All"}),da.map(d=>e.jsx("option",{children:d},d))]})]}),e.jsxs(_e,{open:m,onOpenChange:i,children:[e.jsx(es,{asChild:!0,children:e.jsxs(L,{className:"flex items-center gap-2",variant:"default",children:[e.jsx(Se,{className:"w-4 h-4"})," Add Tax"]})}),e.jsxs(Ie,{className:"max-w-lg w-full p-0",children:[e.jsx(ss,{className:"bg-blue-50 rounded-t-lg px-6 py-4 border-b",children:e.jsx(as,{className:"text-lg font-semibold",children:"Add New Tax"})}),e.jsxs("form",{onSubmit:d=>{d.preventDefault(),f()},className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Tax Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(_,{value:u.code,onChange:d=>c("code",d.target.value),placeholder:"e.g. CGST",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Tax Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(_,{value:u.taxName,onChange:d=>c("taxName",d.target.value),placeholder:"e.g. Central GST",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{className:"w-full border border-gray-300 rounded px-2 py-2 text-sm focus:ring-2 focus:ring-blue-100",value:u.taxType,onChange:d=>c("taxType",d.target.value),required:!0,children:da.map(d=>e.jsx("option",{children:d},d))})]}),u.taxType==="PERCENTAGE"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Percentage (%)"}),e.jsx(_,{type:"number",min:"0",step:"0.01",value:u.taxPercentage,onChange:d=>c("taxPercentage",parseFloat(d.target.value)),placeholder:"e.g. 9",required:!0})]}),u.taxType==="FIXED"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Fixed Amount (â¹)"}),e.jsx(_,{type:"number",min:"0",step:"0.01",value:u.fixedAmount,onChange:d=>c("fixedAmount",parseFloat(d.target.value)),placeholder:"e.g. 1000",required:!0})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-6 mt-6 border-t",children:[e.jsx(L,{variant:"outline",type:"button",onClick:()=>i(!1),disabled:A,children:"Cancel"}),e.jsx(L,{type:"submit",disabled:A,children:A?"Saving...":"Save"})]})]})]})]})]})]}),e.jsx(E,{className:"p-0 overflow-x-auto",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border border-gray-300 rounded-md",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsx("tr",{children:["S.No","Code","Name","Type","Rate/Amount","Status","Actions"].map(d=>e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left text-sm font-semibold text-gray-700 uppercase",children:d},d))})}),e.jsx("tbody",{children:r?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-8 text-center text-gray-400 text-sm border",children:"Loading..."})}):D.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-8 text-center text-gray-400 text-sm border",children:"No taxes available."})}):D.map((d,P)=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-all",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-sm text-gray-600",children:P+1}),e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-sm font-medium",children:d.code}),e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-sm",children:d.taxName}),e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-sm",children:d.taxType}),e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-sm",children:d.taxType==="PERCENTAGE"?`${d.taxPercentage}%`:`â¹${d.fixedAmount}`}),e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-sm",children:e.jsx("span",{className:`inline-block px-2 py-1 text-xs font-bold rounded-full cursor-pointer border ${d.status==="ACTIVE"?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"}`,title:"Toggle Status",onClick:()=>w(d.id,d.status),children:d.status})}),e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:e.jsx(L,{variant:"ghost",size:"icon",onClick:()=>V(d.id),children:e.jsx(Fe,{className:"w-4 h-4 text-red-600"})})})]},d.id))})]})})})]})})}const qr=new pn,re=({children:s})=>{const{user:n,isLoading:a}=Ue();return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):n?e.jsx(Fn,{children:s}):e.jsx(ke,{to:"/login"})},Kr=()=>{const{user:s,isLoading:n}=Ue();if(n)return null;if(!s)return e.jsx(ke,{to:"/login",replace:!0});switch(s.role){case"IA_ADMIN":return e.jsx(ke,{to:"/iadashboard",replace:!0});case"DISTRICT_ADMIN":return e.jsx(ke,{to:"/district-dashboard",replace:!0});case"STATE_ADMIN":return e.jsx(ke,{to:"/dashboard",replace:!0});default:return e.jsx(ke,{to:"/dashboard",replace:!0})}},Jr=s=>{if(!s)return[];switch(s.role){case"STATE_ADMIN":return[e.jsx(ne,{path:"/dashboard",element:e.jsx(re,{children:e.jsx(ea,{})})},"dashboard"),e.jsx(ne,{path:"/district-allocation",element:e.jsx(re,{children:e.jsx(or,{})})},"district-allocation"),e.jsx(ne,{path:"/district-management",element:e.jsx(re,{children:e.jsx(ur,{})})},"district-management"),e.jsx(ne,{path:"/fund-demands",element:e.jsx(re,{children:e.jsx(hr,{})})},"fund-demands"),e.jsx(ne,{path:"/mla-fund-demands",element:e.jsx(re,{children:e.jsx(tr,{})})},"mla-fund-demands"),e.jsx(ne,{path:"/scheme-master",element:e.jsx(re,{children:e.jsx(Ir,{})})},"scheme-master"),e.jsx(ne,{path:"/tax-master",element:e.jsx(re,{children:e.jsx(ca,{})})},"tax-master"),e.jsx(ne,{path:"/mla-mlc-master",element:e.jsx(re,{children:e.jsx(Xn,{})})},"dashboard"),e.jsx(ne,{path:"/reports",element:e.jsx(re,{children:e.jsx(Is,{})})},"reports"),e.jsx(ne,{path:"/fund-history",element:e.jsx(re,{children:e.jsx(Zn,{})})},"fund-history"),e.jsx(ne,{path:"/settings",element:e.jsx(re,{children:e.jsx(Yr,{})})},"settings")];case"DISTRICT_ADMIN":return[e.jsx(ne,{path:"/district-dashboard",element:e.jsx(re,{children:e.jsx(nr,{})})},"dashboard"),e.jsx(ne,{path:"/view-demands",element:e.jsx(re,{children:e.jsx(gr,{})})},"view-demands"),e.jsx(ne,{path:"/fund-allocation",element:e.jsx(re,{children:e.jsx(dr,{})})},"fund-allocation"),e.jsx(ne,{path:"/ia-master",element:e.jsx(re,{children:e.jsx(lr,{})})},"ia-master"),e.jsx(ne,{path:"/work-master",element:e.jsx(re,{children:e.jsx(ir,{})})},"work-master"),e.jsx(ne,{path:"/reappropriation",element:e.jsx(re,{children:e.jsx(br,{})})},"reappropriation"),e.jsx(ne,{path:"/reports",element:e.jsx(re,{children:e.jsx(Is,{})})},"reports")];case"IA_ADMIN":return[e.jsx(ne,{path:"/iadashboard",element:e.jsx(re,{children:e.jsx(Hn,{})})},"dashboard"),e.jsx(ne,{path:"/fund-demand",element:e.jsx(re,{children:e.jsx(Tr,{})})},"fund-demand"),e.jsx(ne,{path:"/vendor-master",element:e.jsx(re,{children:e.jsx(kr,{})})},"vendor-master"),e.jsx(ne,{path:"/work-vendor",element:e.jsx(re,{children:e.jsx(Kn,{})})},"work-vendor"),e.jsx(ne,{path:"/tax-master",element:e.jsx(re,{children:e.jsx(ca,{})})},"tax-master"),e.jsx(ne,{path:"/reports",element:e.jsx(re,{children:e.jsx(Is,{})})},"reports")];default:return[e.jsx(ne,{path:"/dashboard",element:e.jsx(re,{children:e.jsx(ea,{})})},"dashboard")]}},Zr=()=>{const{user:s}=Ue(),[n,a]=t.useState(!0);return t.useEffect(()=>{s&&a(!1)},[s]),n&&!s?e.jsx(Js,{onSuccess:()=>a(!1)}):e.jsxs(tn,{children:[e.jsx(ne,{path:"/",element:e.jsx(Kr,{})}),e.jsx(ne,{path:"/login",element:s?s.role==="IA_ADMIN"?e.jsx(ke,{to:"/iadashboard",replace:!0}):s.role==="DISTRICT_ADMIN"?e.jsx(ke,{to:"/district-dashboard",replace:!0}):e.jsx(ke,{to:"/dashboard",replace:!0}):e.jsx(Js,{onSuccess:()=>a(!1)})}),...Jr(s),e.jsx(ne,{path:"*",element:e.jsx(Er,{})})]})},Xr=()=>e.jsx(sn,{client:qr,children:e.jsxs(An,{children:[e.jsx(Pn,{}),e.jsx(Tn,{}),e.jsx(an,{children:e.jsx(Sn,{children:e.jsx(Zr,{})})})]})});nn(document.getElementById("root")).render(e.jsx(Xr,{}));
